<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ICT398 - FrankEngine: ENGINE/ThirdParty/imgui/imgui_widgets.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="frankengine.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ICT398 - FrankEngine
   &#160;<span id="projectnumber">Milestone 1</span>
   </div>
   <div id="projectbrief">Custom Game Engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('imgui__widgets_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">imgui_widgets.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// dear imgui, v1.84</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// (widgets code)</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160; </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">Index of this file:</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// [SECTION] Forward Declarations</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// [SECTION] Widgets: Text, etc.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// [SECTION] Widgets: Main (Button, Image, Checkbox, RadioButton, ProgressBar, Bullet, etc.)</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// [SECTION] Widgets: Low-level Layout helpers (Spacing, Dummy, NewLine, Separator, etc.)</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// [SECTION] Widgets: ComboBox</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// [SECTION] Data Type and Data Formatting Helpers</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// [SECTION] Widgets: DragScalar, DragFloat, DragInt, etc.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// [SECTION] Widgets: SliderScalar, SliderFloat, SliderInt, etc.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// [SECTION] Widgets: InputScalar, InputFloat, InputInt, etc.</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">// [SECTION] Widgets: InputText, InputTextMultiline</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// [SECTION] Widgets: ColorEdit, ColorPicker, ColorButton, etc.</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// [SECTION] Widgets: TreeNode, CollapsingHeader, etc.</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">// [SECTION] Widgets: Selectable</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">// [SECTION] Widgets: ListBox</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">// [SECTION] Widgets: PlotLines, PlotHistogram</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">// [SECTION] Widgets: Value helpers</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">// [SECTION] Widgets: MenuItem, BeginMenu, EndMenu, etc.</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">// [SECTION] Widgets: BeginTabBar, EndTabBar, etc.</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">// [SECTION] Widgets: BeginTabItem, EndTabItem, etc.</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">// [SECTION] Widgets: Columns, BeginColumns, EndColumns, etc.</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#if defined(_MSC_VER) &amp;&amp; !defined(_CRT_SECURE_NO_WARNINGS)</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#define _CRT_SECURE_NO_WARNINGS</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;imgui.h&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#ifndef IMGUI_DISABLE</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#ifndef IMGUI_DEFINE_MATH_OPERATORS</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#define IMGUI_DEFINE_MATH_OPERATORS</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;imgui_internal.h&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">// System includes</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &lt;ctype.h&gt;</span>      <span class="comment">// toupper</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#if defined(_MSC_VER) &amp;&amp; _MSC_VER &lt;= 1500 </span><span class="comment">// MSVC 2008 or earlier</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &lt;stddef.h&gt;</span>     <span class="comment">// intptr_t</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span>     <span class="comment">// intptr_t</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">// Warnings</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">// Visual Studio warnings</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#ifdef _MSC_VER</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#pragma warning (disable: 4127)     </span><span class="comment">// condition expression is constant</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#pragma warning (disable: 4996)     </span><span class="comment">// &#39;This function or variable may be unsafe&#39;: strcpy, strdup, sprintf, vsnprintf, sscanf, fopen</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#if defined(_MSC_VER) &amp;&amp; _MSC_VER &gt;= 1922 </span><span class="comment">// MSVC 2019 16.2 or later</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#pragma warning (disable: 5054)     </span><span class="comment">// operator &#39;|&#39;: deprecated between enumerations of different types</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#pragma warning (disable: 26451)    </span><span class="comment">// [Static Analyzer] Arithmetic overflow : Using operator &#39;xxx&#39; on a 4 byte value and then casting the result to a 8 byte value. Cast the value to the wider type before calling operator &#39;xxx&#39; to avoid overflow(io.2).</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#pragma warning (disable: 26812)    </span><span class="comment">// [Static Analyzer] The enum type &#39;xxx&#39; is unscoped. Prefer &#39;enum class&#39; over &#39;enum&#39; (Enum.3).</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">// Clang/GCC warnings with -Weverything</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#if defined(__clang__)</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#if __has_warning(&quot;-Wunknown-warning-option&quot;</span>)</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#pragma clang diagnostic ignored &quot;-Wunknown-warning-option&quot;</span>         <span class="comment">// warning: unknown warning group &#39;xxx&#39;                      // not all warnings are known by all Clang versions and they tend to be rename-happy.. so ignoring warnings triggers new warnings on some configuration. Great!</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#pragma clang diagnostic ignored &quot;-Wunknown-pragmas&quot;</span>                <span class="comment">// warning: unknown warning group &#39;xxx&#39;</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#pragma clang diagnostic ignored &quot;-Wold-style-cast&quot;</span>                 <span class="comment">// warning: use of old-style cast                            // yes, they are more terse.</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#pragma clang diagnostic ignored &quot;-Wfloat-equal&quot;</span>                    <span class="comment">// warning: comparing floating point with == or != is unsafe // storing and comparing against same constants (typically 0.0f) is ok.</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#pragma clang diagnostic ignored &quot;-Wformat-nonliteral&quot;</span>              <span class="comment">// warning: format string is not a string literal            // passing non-literal to vsnformat(). yes, user passing incorrect format strings can crash the code.</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#pragma clang diagnostic ignored &quot;-Wsign-conversion&quot;</span>                <span class="comment">// warning: implicit conversion changes signedness</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#pragma clang diagnostic ignored &quot;-Wzero-as-null-pointer-constant&quot;</span>  <span class="comment">// warning: zero as null pointer constant                    // some standard header variations use #define NULL 0</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#pragma clang diagnostic ignored &quot;-Wdouble-promotion&quot;</span>               <span class="comment">// warning: implicit conversion from &#39;float&#39; to &#39;double&#39; when passing argument to function  // using printf() is a misery with this as C++ va_arg ellipsis changes float to double.</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#pragma clang diagnostic ignored &quot;-Wenum-enum-conversion&quot;</span>           <span class="comment">// warning: bitwise operation between different enumeration types (&#39;XXXFlags_&#39; and &#39;XXXFlagsPrivate_&#39;)</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#pragma clang diagnostic ignored &quot;-Wdeprecated-enum-enum-conversion&quot;</span><span class="comment">// warning: bitwise operation between different enumeration types (&#39;XXXFlags_&#39; and &#39;XXXFlagsPrivate_&#39;) is deprecated</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#pragma clang diagnostic ignored &quot;-Wimplicit-int-float-conversion&quot;</span>  <span class="comment">// warning: implicit conversion from &#39;xxx&#39; to &#39;float&#39; may lose precision</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#elif defined(__GNUC__)</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#pragma GCC diagnostic ignored &quot;-Wpragmas&quot;</span>                          <span class="comment">// warning: unknown option after &#39;#pragma GCC diagnostic&#39; kind</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">#pragma GCC diagnostic ignored &quot;-Wformat-nonliteral&quot;</span>                <span class="comment">// warning: format not a string literal, format string not checked</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">#pragma GCC diagnostic ignored &quot;-Wclass-memaccess&quot;</span>                  <span class="comment">// [__GNUC__ &gt;= 8] warning: &#39;memset/memcpy&#39; clearing/writing an object of type &#39;xxxx&#39; with no trivial copy-assignment; use assignment or value-initialization instead</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">// Data</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">// Widgets</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">float</span>          DRAGDROP_HOLD_TO_OPEN_TIMER = 0.70f;    <span class="comment">// Time for drag-hold to activate items accepting the ImGuiButtonFlags_PressedOnDragDropHold button behavior.</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">float</span>          DRAG_MOUSE_THRESHOLD_FACTOR = 0.50f;    <span class="comment">// Multiplier for the default value of io.MouseDragThreshold to make DragFloat/DragInt react faster to mouse drags.</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">// Those MIN/MAX values are not define because we need to point to them</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">signed</span> <span class="keywordtype">char</span>    IM_S8_MIN = -128;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">signed</span> <span class="keywordtype">char</span>    IM_S8_MAX = 127;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>  IM_U8_MIN = 0;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>  IM_U8_MAX = 0xFF;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">signed</span> <span class="keywordtype">short</span>   IM_S16_MIN = -32768;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">signed</span> <span class="keywordtype">short</span>   IM_S16_MAX = 32767;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> IM_U16_MIN = 0;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> IM_U16_MAX = 0xFFFF;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> ImS32          IM_S32_MIN = INT_MIN;    <span class="comment">// (-2147483647 - 1), (0x80000000);</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> ImS32          IM_S32_MAX = INT_MAX;    <span class="comment">// (2147483647), (0x7FFFFFFF)</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> ImU32          IM_U32_MIN = 0;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> ImU32          IM_U32_MAX = UINT_MAX;   <span class="comment">// (0xFFFFFFFF)</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="preprocessor">#ifdef LLONG_MIN</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> ImS64          IM_S64_MIN = LLONG_MIN;  <span class="comment">// (-9223372036854775807ll - 1ll);</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> ImS64          IM_S64_MAX = LLONG_MAX;  <span class="comment">// (9223372036854775807ll);</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> ImS64          IM_S64_MIN = -9223372036854775807LL - 1;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> ImS64          IM_S64_MAX = 9223372036854775807LL;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> ImU64          IM_U64_MIN = 0;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="preprocessor">#ifdef ULLONG_MAX</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> ImU64          IM_U64_MAX = ULLONG_MAX; <span class="comment">// (0xFFFFFFFFFFFFFFFFull);</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> ImU64          IM_U64_MAX = (2ULL * 9223372036854775807LL + 1);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">// [SECTION] Forward Declarations</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">// For InputTextEx()</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span>             InputTextFilterCharacter(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *p_char, ImGuiInputTextFlags flags, ImGuiInputTextCallback callback, <span class="keywordtype">void</span> *user_data, ImGuiInputSource input_source);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span>              InputTextCalcTextLenAndLineCount(<span class="keyword">const</span> <span class="keywordtype">char</span> *text_begin, <span class="keyword">const</span> <span class="keywordtype">char</span> **out_text_end);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="keyword">static</span> <a class="code" href="struct_im_vec2.html">ImVec2</a>           InputTextCalcTextSizeW(<span class="keyword">const</span> ImWchar *text_begin, <span class="keyword">const</span> ImWchar *text_end, <span class="keyword">const</span> ImWchar **remaining = NULL, <a class="code" href="struct_im_vec2.html">ImVec2</a> *out_offset = NULL, <span class="keywordtype">bool</span> stop_on_new_line = <span class="keyword">false</span>);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">// [SECTION] Widgets: Text, etc.</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">// - TextEx() [Internal]</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">// - TextUnformatted()</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">// - Text()</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">// - TextV()</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">// - TextColored()</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">// - TextColoredV()</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">// - TextDisabled()</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">// - TextDisabledV()</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">// - TextWrapped()</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">// - TextWrappedV()</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">// - LabelText()</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">// - LabelTextV()</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">// - BulletText()</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">// - BulletTextV()</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="keywordtype">void</span> ImGui::TextEx(<span class="keyword">const</span> <span class="keywordtype">char</span> *text, <span class="keyword">const</span> <span class="keywordtype">char</span> *text_end, ImGuiTextFlags flags)</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;{</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    IM_ASSERT(text != NULL);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *text_begin = text;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">if</span> (text_end == NULL)</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        text_end = text + strlen(text); <span class="comment">// FIXME-OPT</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> text_pos(window-&gt;DC.CursorPos.x, window-&gt;DC.CursorPos.y + window-&gt;DC.CurrLineTextBaseOffset);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> wrap_pos_x = window-&gt;DC.TextWrapPos;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> wrap_enabled = (wrap_pos_x &gt;= 0.0f);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">if</span> (text_end - text &gt; 2000 &amp;&amp; !wrap_enabled)</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="comment">// Long text!</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="comment">// Perform manual coarse clipping to optimize for long multi-line text</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="comment">// - From this point we will only compute the width of lines that are visible. Optimization only available when word-wrapping is disabled.</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="comment">// - We also don&#39;t vertically center the text within the line full height, which is unlikely to matter because we are likely the biggest and only item on the line.</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="comment">// - We use memchr(), pay attention that well optimized versions of those str/mem functions are much faster than a casually written loop.</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *line = text;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> line_height = GetTextLineHeight();</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <a class="code" href="struct_im_vec2.html">ImVec2</a> text_size(0, 0);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="comment">// Lines to skip (can&#39;t skip when logging text)</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <a class="code" href="struct_im_vec2.html">ImVec2</a> pos = text_pos;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keywordflow">if</span> (!g.LogEnabled)</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            <span class="keywordtype">int</span> lines_skippable = (int)((window-&gt;ClipRect.Min.y - text_pos.y) / line_height);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            <span class="keywordflow">if</span> (lines_skippable &gt; 0)</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                <span class="keywordtype">int</span> lines_skipped = 0;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                <span class="keywordflow">while</span> (line &lt; text_end &amp;&amp; lines_skipped &lt; lines_skippable)</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">char</span> *line_end = (<span class="keyword">const</span> <span class="keywordtype">char</span> *)memchr(line, <span class="charliteral">&#39;\n&#39;</span>, text_end - line);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                    <span class="keywordflow">if</span> (!line_end)</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                        line_end = text_end;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                    <span class="keywordflow">if</span> ((flags &amp; ImGuiTextFlags_NoWidthForLargeClippedText) == 0)</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                        text_size.x = ImMax(text_size.x, CalcTextSize(line, line_end).x);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                    line = line_end + 1;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                    lines_skipped++;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                pos.y += lines_skipped * line_height;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        }</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="comment">// Lines to render</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="keywordflow">if</span> (line &lt; text_end)</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            <a class="code" href="struct_im_rect.html">ImRect</a> line_rect(pos, pos + <a class="code" href="struct_im_vec2.html">ImVec2</a>(FLT_MAX, line_height));</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            <span class="keywordflow">while</span> (line &lt; text_end)</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                <span class="keywordflow">if</span> (IsClippedEx(line_rect, 0, <span class="keyword">false</span>))</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">char</span> *line_end = (<span class="keyword">const</span> <span class="keywordtype">char</span> *)memchr(line, <span class="charliteral">&#39;\n&#39;</span>, text_end - line);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                <span class="keywordflow">if</span> (!line_end)</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                    line_end = text_end;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                text_size.x = ImMax(text_size.x, CalcTextSize(line, line_end).x);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                RenderText(pos, line, line_end, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                line = line_end + 1;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                line_rect.Min.y += line_height;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                line_rect.Max.y += line_height;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                pos.y += line_height;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            <span class="comment">// Count remaining lines</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            <span class="keywordtype">int</span> lines_skipped = 0;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            <span class="keywordflow">while</span> (line &lt; text_end)</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">char</span> *line_end = (<span class="keyword">const</span> <span class="keywordtype">char</span> *)memchr(line, <span class="charliteral">&#39;\n&#39;</span>, text_end - line);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                <span class="keywordflow">if</span> (!line_end)</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                    line_end = text_end;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                <span class="keywordflow">if</span> ((flags &amp; ImGuiTextFlags_NoWidthForLargeClippedText) == 0)</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                    text_size.x = ImMax(text_size.x, CalcTextSize(line, line_end).x);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                line = line_end + 1;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                lines_skipped++;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            }</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            pos.y += lines_skipped * line_height;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        }</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        text_size.y = (pos - text_pos).y;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <a class="code" href="struct_im_rect.html">ImRect</a> bb(text_pos, text_pos + text_size);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        ItemSize(text_size, 0.0f);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        ItemAdd(bb, 0);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> wrap_width = wrap_enabled ? CalcWrapWidthForPos(window-&gt;DC.CursorPos, wrap_pos_x) : 0.0f;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> text_size = CalcTextSize(text_begin, text_end, <span class="keyword">false</span>, wrap_width);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <a class="code" href="struct_im_rect.html">ImRect</a> bb(text_pos, text_pos + text_size);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        ItemSize(text_size, 0.0f);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="keywordflow">if</span> (!ItemAdd(bb, 0))</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <span class="comment">// Render (we don&#39;t hide text after ## in this end-user function)</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        RenderTextWrapped(bb.Min, text_begin, text_end, wrap_width);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;}</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="keywordtype">void</span> ImGui::TextUnformatted(<span class="keyword">const</span> <span class="keywordtype">char</span> *text, <span class="keyword">const</span> <span class="keywordtype">char</span> *text_end)</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;{</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    TextEx(text, text_end, ImGuiTextFlags_NoWidthForLargeClippedText);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;}</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="keywordtype">void</span> ImGui::Text(<span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, ...)</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;{</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    va_list args;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    va_start(args, fmt);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    TextV(fmt, args);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    va_end(args);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;}</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="keywordtype">void</span> ImGui::TextV(<span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, va_list args)</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;{</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *text_end = g.TempBuffer + ImFormatStringV(g.TempBuffer, IM_ARRAYSIZE(g.TempBuffer), fmt, args);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    TextEx(g.TempBuffer, text_end, ImGuiTextFlags_NoWidthForLargeClippedText);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;}</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="keywordtype">void</span> ImGui::TextColored(<span class="keyword">const</span> <a class="code" href="struct_im_vec4.html">ImVec4</a> &amp;col, <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, ...)</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;{</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    va_list args;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    va_start(args, fmt);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    TextColoredV(col, fmt, args);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    va_end(args);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;}</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="keywordtype">void</span> ImGui::TextColoredV(<span class="keyword">const</span> <a class="code" href="struct_im_vec4.html">ImVec4</a> &amp;col, <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, va_list args)</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;{</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    PushStyleColor(ImGuiCol_Text, col);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">if</span> (fmt[0] == <span class="charliteral">&#39;%&#39;</span> &amp;&amp; fmt[1] == <span class="charliteral">&#39;s&#39;</span> &amp;&amp; fmt[2] == 0)</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        TextEx(va_arg(args, <span class="keyword">const</span> <span class="keywordtype">char</span> *), NULL, ImGuiTextFlags_NoWidthForLargeClippedText); <span class="comment">// Skip formatting</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        TextV(fmt, args);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    PopStyleColor();</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;}</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160; </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="keywordtype">void</span> ImGui::TextDisabled(<span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, ...)</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;{</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    va_list args;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    va_start(args, fmt);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    TextDisabledV(fmt, args);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    va_end(args);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;}</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="keywordtype">void</span> ImGui::TextDisabledV(<span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, va_list args)</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;{</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    PushStyleColor(ImGuiCol_Text, g.Style.Colors[ImGuiCol_TextDisabled]);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordflow">if</span> (fmt[0] == <span class="charliteral">&#39;%&#39;</span> &amp;&amp; fmt[1] == <span class="charliteral">&#39;s&#39;</span> &amp;&amp; fmt[2] == 0)</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        TextEx(va_arg(args, <span class="keyword">const</span> <span class="keywordtype">char</span> *), NULL, ImGuiTextFlags_NoWidthForLargeClippedText); <span class="comment">// Skip formatting</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        TextV(fmt, args);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    PopStyleColor();</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;}</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160; </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="keywordtype">void</span> ImGui::TextWrapped(<span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, ...)</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;{</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    va_list args;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    va_start(args, fmt);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    TextWrappedV(fmt, args);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    va_end(args);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;}</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="keywordtype">void</span> ImGui::TextWrappedV(<span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, va_list args)</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;{</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordtype">bool</span> need_backup = (g.CurrentWindow-&gt;DC.TextWrapPos &lt; 0.0f);  <span class="comment">// Keep existing wrap position if one is already set</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordflow">if</span> (need_backup)</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        PushTextWrapPos(0.0f);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordflow">if</span> (fmt[0] == <span class="charliteral">&#39;%&#39;</span> &amp;&amp; fmt[1] == <span class="charliteral">&#39;s&#39;</span> &amp;&amp; fmt[2] == 0)</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        TextEx(va_arg(args, <span class="keyword">const</span> <span class="keywordtype">char</span> *), NULL, ImGuiTextFlags_NoWidthForLargeClippedText); <span class="comment">// Skip formatting</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        TextV(fmt, args);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">if</span> (need_backup)</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        PopTextWrapPos();</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;}</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="keywordtype">void</span> ImGui::LabelText(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, ...)</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;{</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    va_list args;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    va_start(args, fmt);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    LabelTextV(label, fmt, args);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    va_end(args);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;}</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160; </div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">// Add a label+text combo aligned to other label+value widgets</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="keywordtype">void</span> ImGui::LabelTextV(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, va_list args)</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;{</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_gui_style.html">ImGuiStyle</a> &amp;style = g.Style;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> w = CalcItemWidth();</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *value_text_begin = &amp;g.TempBuffer[0];</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *value_text_end = value_text_begin + ImFormatStringV(g.TempBuffer, IM_ARRAYSIZE(g.TempBuffer), fmt, args);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> value_size = CalcTextSize(value_text_begin, value_text_end, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> label_size = CalcTextSize(label, NULL, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160; </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> pos = window-&gt;DC.CursorPos;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> value_bb(pos, pos + <a class="code" href="struct_im_vec2.html">ImVec2</a>(w, value_size.y + style.FramePadding.y * 2));</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> total_bb(pos, pos + <a class="code" href="struct_im_vec2.html">ImVec2</a>(w + (label_size.x &gt; 0.0f ? style.ItemInnerSpacing.x + label_size.x : 0.0f), ImMax(value_size.y, label_size.y) + style.FramePadding.y * 2));</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    ItemSize(total_bb, style.FramePadding.y);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">if</span> (!ItemAdd(total_bb, 0))</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160; </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="comment">// Render</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    RenderTextClipped(value_bb.Min + style.FramePadding, value_bb.Max, value_text_begin, value_text_end, &amp;value_size, <a class="code" href="struct_im_vec2.html">ImVec2</a>(0.0f, 0.0f));</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">if</span> (label_size.x &gt; 0.0f)</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        RenderText(<a class="code" href="struct_im_vec2.html">ImVec2</a>(value_bb.Max.x + style.ItemInnerSpacing.x, value_bb.Min.y + style.FramePadding.y), label);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;}</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160; </div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="keywordtype">void</span> ImGui::BulletText(<span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, ...)</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;{</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    va_list args;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    va_start(args, fmt);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    BulletTextV(fmt, args);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    va_end(args);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;}</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment">// Text with a little bullet aligned to the typical tree node.</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="keywordtype">void</span> ImGui::BulletTextV(<span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, va_list args)</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;{</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160; </div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_gui_style.html">ImGuiStyle</a> &amp;style = g.Style;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160; </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *text_begin = g.TempBuffer;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *text_end = text_begin + ImFormatStringV(g.TempBuffer, IM_ARRAYSIZE(g.TempBuffer), fmt, args);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> label_size = CalcTextSize(text_begin, text_end, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> total_size = <a class="code" href="struct_im_vec2.html">ImVec2</a>(g.FontSize + (label_size.x &gt; 0.0f ? (label_size.x + style.FramePadding.x * 2) : 0.0f), label_size.y);  <span class="comment">// Empty text doesn&#39;t add padding</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> pos = window-&gt;DC.CursorPos;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    pos.y += window-&gt;DC.CurrLineTextBaseOffset;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    ItemSize(total_size, 0.0f);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> bb(pos, pos + total_size);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordflow">if</span> (!ItemAdd(bb, 0))</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160; </div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="comment">// Render</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    ImU32 text_col = GetColorU32(ImGuiCol_Text);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    RenderBullet(window-&gt;DrawList, bb.Min + <a class="code" href="struct_im_vec2.html">ImVec2</a>(style.FramePadding.x + g.FontSize * 0.5f, g.FontSize * 0.5f), text_col);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    RenderText(bb.Min + <a class="code" href="struct_im_vec2.html">ImVec2</a>(g.FontSize + style.FramePadding.x * 2, 0.0f), text_begin, text_end, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;}</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">// [SECTION] Widgets: Main</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment">// - ButtonBehavior() [Internal]</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">// - Button()</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment">// - SmallButton()</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">// - InvisibleButton()</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">// - ArrowButton()</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">// - CloseButton() [Internal]</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment">// - CollapseButton() [Internal]</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">// - GetWindowScrollbarID() [Internal]</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment">// - GetWindowScrollbarRect() [Internal]</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">// - Scrollbar() [Internal]</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment">// - ScrollbarEx() [Internal]</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment">// - Image()</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment">// - ImageButton()</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment">// - Checkbox()</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment">// - CheckboxFlagsT() [Internal]</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment">// - CheckboxFlags()</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment">// - RadioButton()</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">// - ProgressBar()</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment">// - Bullet()</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160; </div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment">// The ButtonBehavior() function is key to many interactions and used by many/most widgets.</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment">// Because we handle so many cases (keyboard/gamepad navigation, drag and drop) and many specific behavior (via ImGuiButtonFlags_),</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment">// this code is a little complex.</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment">// By far the most common path is interacting with the Mouse using the default ImGuiButtonFlags_PressedOnClickRelease button behavior.</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment">// See the series of events below and the corresponding state reported by dear imgui:</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment">// with PressedOnClickRelease:             return-value  IsItemHovered()  IsItemActive()  IsItemActivated()  IsItemDeactivated()  IsItemClicked()</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">//   Frame N+0 (mouse is outside bb)        -             -                -               -                  -                    -</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment">//   Frame N+1 (mouse moves inside bb)      -             true             -               -                  -                    -</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment">//   Frame N+2 (mouse button is down)       -             true             true            true               -                    true</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment">//   Frame N+3 (mouse button is down)       -             true             true            -                  -                    -</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment">//   Frame N+4 (mouse moves outside bb)     -             -                true            -                  -                    -</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment">//   Frame N+5 (mouse moves inside bb)      -             true             true            -                  -                    -</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment">//   Frame N+6 (mouse button is released)   true          true             -               -                  true                 -</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="comment">//   Frame N+7 (mouse button is released)   -             true             -               -                  -                    -</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment">//   Frame N+8 (mouse moves outside bb)     -             -                -               -                  -                    -</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment">// with PressedOnClick:                    return-value  IsItemHovered()  IsItemActive()  IsItemActivated()  IsItemDeactivated()  IsItemClicked()</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment">//   Frame N+2 (mouse button is down)       true          true             true            true               -                    true</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">//   Frame N+3 (mouse button is down)       -             true             true            -                  -                    -</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="comment">//   Frame N+6 (mouse button is released)   -             true             -               -                  true                 -</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment">//   Frame N+7 (mouse button is released)   -             true             -               -                  -                    -</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment">// with PressedOnRelease:                  return-value  IsItemHovered()  IsItemActive()  IsItemActivated()  IsItemDeactivated()  IsItemClicked()</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">//   Frame N+2 (mouse button is down)       -             true             -               -                  -                    true</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">//   Frame N+3 (mouse button is down)       -             true             -               -                  -                    -</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">//   Frame N+6 (mouse button is released)   true          true             -               -                  -                    -</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment">//   Frame N+7 (mouse button is released)   -             true             -               -                  -                    -</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment">// with PressedOnDoubleClick:              return-value  IsItemHovered()  IsItemActive()  IsItemActivated()  IsItemDeactivated()  IsItemClicked()</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment">//   Frame N+0 (mouse button is down)       -             true             -               -                  -                    true</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment">//   Frame N+1 (mouse button is down)       -             true             -               -                  -                    -</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="comment">//   Frame N+2 (mouse button is released)   -             true             -               -                  -                    -</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment">//   Frame N+3 (mouse button is released)   -             true             -               -                  -                    -</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment">//   Frame N+4 (mouse button is down)       true          true             true            true               -                    true</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment">//   Frame N+5 (mouse button is down)       -             true             true            -                  -                    -</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment">//   Frame N+6 (mouse button is released)   -             true             -               -                  true                 -</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment">//   Frame N+7 (mouse button is released)   -             true             -               -                  -                    -</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment">// Note that some combinations are supported,</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment">// - PressedOnDragDropHold can generally be associated with any flag.</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment">// - PressedOnDoubleClick can be associated by PressedOnClickRelease/PressedOnRelease, in which case the second release event won&#39;t be reported.</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="comment">// The behavior of the return-value changes when ImGuiButtonFlags_Repeat is set:</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="comment">//                                         Repeat+                  Repeat+           Repeat+             Repeat+</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="comment">//                                         PressedOnClickRelease    PressedOnClick    PressedOnRelease    PressedOnDoubleClick</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="comment">//-------------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment">//   Frame N+0 (mouse button is down)       -                        true              -                   true</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment">//   ...                                    -                        -                 -                   -</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment">//   Frame N + RepeatDelay                  true                     true              -                   true</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment">//   ...                                    -                        -                 -                   -</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment">//   Frame N + RepeatDelay + RepeatRate*N   true                     true              -                   true</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment">//-------------------------------------------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160; </div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="keywordtype">bool</span> ImGui::ButtonBehavior(<span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> &amp;bb, ImGuiID <span class="keywordtype">id</span>, <span class="keywordtype">bool</span> *out_hovered, <span class="keywordtype">bool</span> *out_held, ImGuiButtonFlags flags)</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;{</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160; </div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="comment">// Default only reacts to left mouse button</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; ImGuiButtonFlags_MouseButtonMask_) == 0)</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        flags |= ImGuiButtonFlags_MouseButtonDefault_;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160; </div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="comment">// Default behavior requires click + release inside bounding box</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; ImGuiButtonFlags_PressedOnMask_) == 0)</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        flags |= ImGuiButtonFlags_PressedOnDefault_;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160; </div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *backup_hovered_window = g.HoveredWindow;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> flatten_hovered_children = (flags &amp; ImGuiButtonFlags_FlattenChildren) &amp;&amp; g.HoveredWindow &amp;&amp; g.HoveredWindow-&gt;RootWindow == window;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    if (flatten_hovered_children)</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        g.HoveredWindow = window;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160; </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="preprocessor">#ifdef IMGUI_ENABLE_TEST_ENGINE</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> != 0 &amp;&amp; g.LastItemData.ID != <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        IMGUI_TEST_ENGINE_ITEM_ADD(bb, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160; </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordtype">bool</span> pressed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordtype">bool</span> hovered = ItemHoverable(bb, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160; </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="comment">// Drag source doesn&#39;t report as hovered</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="keywordflow">if</span> (hovered &amp;&amp; g.DragDropActive &amp;&amp; g.DragDropPayload.SourceId == <span class="keywordtype">id</span> &amp;&amp; !(g.DragDropSourceFlags &amp; ImGuiDragDropFlags_SourceNoDisableHover))</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        hovered = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="comment">// Special mode for Drag and Drop where holding button pressed for a long time while dragging another item triggers the button</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">if</span> (g.DragDropActive &amp;&amp; (flags &amp; ImGuiButtonFlags_PressedOnDragDropHold) &amp;&amp; !(g.DragDropSourceFlags &amp; ImGuiDragDropFlags_SourceNoHoldToOpenOthers))</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <span class="keywordflow">if</span> (IsItemHovered(ImGuiHoveredFlags_AllowWhenBlockedByActiveItem))</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            hovered = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            SetHoveredID(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            <span class="keywordflow">if</span> (g.HoveredIdTimer - g.IO.Time &lt;= DRAGDROP_HOLD_TO_OPEN_TIMER &amp;&amp; g.HoveredIdTimer &gt;= DRAGDROP_HOLD_TO_OPEN_TIMER)</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            {</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                pressed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                g.DragDropHoldJustPressedId = id;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                FocusWindow(window);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            }</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        }</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160; </div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">if</span> (flatten_hovered_children)</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        g.HoveredWindow = backup_hovered_window;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="comment">// AllowOverlap mode (rarely used) requires previous frame HoveredId to be null or to match. This allows using patterns where a later submitted widget overlaps a previous one.</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordflow">if</span> (hovered &amp;&amp; (flags &amp; ImGuiButtonFlags_AllowItemOverlap) &amp;&amp; (g.HoveredIdPreviousFrame != <span class="keywordtype">id</span> &amp;&amp; g.HoveredIdPreviousFrame != 0))</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        hovered = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160; </div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="comment">// Mouse handling</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keywordflow">if</span> (hovered)</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    {</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        <span class="keywordflow">if</span> (!(flags &amp; ImGuiButtonFlags_NoKeyModifiers) || (!g.IO.KeyCtrl &amp;&amp; !g.IO.KeyShift &amp;&amp; !g.IO.KeyAlt))</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        {</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            <span class="comment">// Poll buttons</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            <span class="keywordtype">int</span> mouse_button_clicked = -1;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            <span class="keywordtype">int</span> mouse_button_released = -1;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            <span class="keywordflow">if</span> ((flags &amp; ImGuiButtonFlags_MouseButtonLeft) &amp;&amp; g.IO.MouseClicked[0])</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            {</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                mouse_button_clicked = 0;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            }</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((flags &amp; ImGuiButtonFlags_MouseButtonRight) &amp;&amp; g.IO.MouseClicked[1])</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;            {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                mouse_button_clicked = 1;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;            }</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((flags &amp; ImGuiButtonFlags_MouseButtonMiddle) &amp;&amp; g.IO.MouseClicked[2])</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            {</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                mouse_button_clicked = 2;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            }</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            <span class="keywordflow">if</span> ((flags &amp; ImGuiButtonFlags_MouseButtonLeft) &amp;&amp; g.IO.MouseReleased[0])</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                mouse_button_released = 0;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            }</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((flags &amp; ImGuiButtonFlags_MouseButtonRight) &amp;&amp; g.IO.MouseReleased[1])</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                mouse_button_released = 1;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            }</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((flags &amp; ImGuiButtonFlags_MouseButtonMiddle) &amp;&amp; g.IO.MouseReleased[2])</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                mouse_button_released = 2;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            }</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160; </div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            <span class="keywordflow">if</span> (mouse_button_clicked != -1 &amp;&amp; g.ActiveId != <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                <span class="keywordflow">if</span> (flags &amp; (ImGuiButtonFlags_PressedOnClickRelease | ImGuiButtonFlags_PressedOnClickReleaseAnywhere))</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                    SetActiveID(<span class="keywordtype">id</span>, window);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                    g.ActiveIdMouseButton = mouse_button_clicked;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                    <span class="keywordflow">if</span> (!(flags &amp; ImGuiButtonFlags_NoNavFocus))</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                        SetFocusID(<span class="keywordtype">id</span>, window);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                    FocusWindow(window);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                }</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                <span class="keywordflow">if</span> ((flags &amp; ImGuiButtonFlags_PressedOnClick) || ((flags &amp; ImGuiButtonFlags_PressedOnDoubleClick) &amp;&amp; g.IO.MouseDoubleClicked[mouse_button_clicked]))</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                {</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                    pressed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                    <span class="keywordflow">if</span> (flags &amp; ImGuiButtonFlags_NoHoldingActiveId)</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                        ClearActiveID();</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                        SetActiveID(<span class="keywordtype">id</span>, window); <span class="comment">// Hold on ID</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                    g.ActiveIdMouseButton = mouse_button_clicked;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                    FocusWindow(window);</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                }</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            }</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            <span class="keywordflow">if</span> ((flags &amp; ImGuiButtonFlags_PressedOnRelease) &amp;&amp; mouse_button_released != -1)</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;            {</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                <span class="comment">// Repeat mode trumps on release behavior</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">bool</span> has_repeated_at_least_once = (flags &amp; ImGuiButtonFlags_Repeat) &amp;&amp; g.IO.MouseDownDurationPrev[mouse_button_released] &gt;= g.IO.KeyRepeatDelay;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                if (!has_repeated_at_least_once)</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                    pressed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                ClearActiveID();</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            }</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160; </div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;            <span class="comment">// &#39;Repeat&#39; mode acts when held regardless of _PressedOn flags (see table above).</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            <span class="comment">// Relies on repeat logic of IsMouseClicked() but we may as well do it ourselves if we end up exposing finer RepeatDelay/RepeatRate settings.</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            <span class="keywordflow">if</span> (g.ActiveId == <span class="keywordtype">id</span> &amp;&amp; (flags &amp; ImGuiButtonFlags_Repeat))</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                <span class="keywordflow">if</span> (g.IO.MouseDownDuration[g.ActiveIdMouseButton] &gt; 0.0f &amp;&amp; IsMouseClicked(g.ActiveIdMouseButton, <span class="keyword">true</span>))</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                    pressed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        }</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160; </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <span class="keywordflow">if</span> (pressed)</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            g.NavDisableHighlight = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    }</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160; </div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="comment">// Gamepad/Keyboard navigation</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="comment">// We report navigated item as hovered but we don&#39;t set g.HoveredId to not interfere with mouse.</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordflow">if</span> (g.NavId == <span class="keywordtype">id</span> &amp;&amp; !g.NavDisableHighlight &amp;&amp; g.NavDisableMouseHover &amp;&amp; (g.ActiveId == 0 || g.ActiveId == <span class="keywordtype">id</span> || g.ActiveId == window-&gt;MoveId))</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <span class="keywordflow">if</span> (!(flags &amp; ImGuiButtonFlags_NoHoveredOnFocus))</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            hovered = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="keywordflow">if</span> (g.NavActivateDownId == <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    {</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        <span class="keywordtype">bool</span> nav_activated_by_code = (g.NavActivateId == id);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        <span class="keywordtype">bool</span> nav_activated_by_inputs = IsNavInputTest(ImGuiNavInput_Activate, (flags &amp; ImGuiButtonFlags_Repeat) ? ImGuiInputReadMode_Repeat : ImGuiInputReadMode_Pressed);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        <span class="keywordflow">if</span> (nav_activated_by_code || nav_activated_by_inputs)</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;            pressed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        <span class="keywordflow">if</span> (nav_activated_by_code || nav_activated_by_inputs || g.ActiveId == <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        {</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;            <span class="comment">// Set active id so it can be queried by user via IsItemActive(), equivalent of holding the mouse button.</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;            g.NavActivateId = id; <span class="comment">// This is so SetActiveId assign a Nav source</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;            SetActiveID(<span class="keywordtype">id</span>, window);</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;            <span class="keywordflow">if</span> ((nav_activated_by_code || nav_activated_by_inputs) &amp;&amp; !(flags &amp; ImGuiButtonFlags_NoNavFocus))</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                SetFocusID(<span class="keywordtype">id</span>, window);</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        }</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    }</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160; </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="comment">// Process while held</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="keywordtype">bool</span> held = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keywordflow">if</span> (g.ActiveId == <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    {</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <span class="keywordflow">if</span> (g.ActiveIdSource == ImGuiInputSource_Mouse)</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        {</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            <span class="keywordflow">if</span> (g.ActiveIdIsJustActivated)</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                g.ActiveIdClickOffset = g.IO.MousePos - bb.Min;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160; </div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> mouse_button = g.ActiveIdMouseButton;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            IM_ASSERT(mouse_button &gt;= 0 &amp;&amp; mouse_button &lt; ImGuiMouseButton_COUNT);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            <span class="keywordflow">if</span> (g.IO.MouseDown[mouse_button])</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            {</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                held = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;            }</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;            {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                <span class="keywordtype">bool</span> release_in = hovered &amp;&amp; (flags &amp; ImGuiButtonFlags_PressedOnClickRelease) != 0;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                <span class="keywordtype">bool</span> release_anywhere = (flags &amp; ImGuiButtonFlags_PressedOnClickReleaseAnywhere) != 0;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                <span class="keywordflow">if</span> ((release_in || release_anywhere) &amp;&amp; !g.DragDropActive)</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                {</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                    <span class="comment">// Report as pressed when releasing the mouse (this is the most common path)</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                    <span class="keywordtype">bool</span> is_double_click_release = (flags &amp; ImGuiButtonFlags_PressedOnDoubleClick) &amp;&amp; g.IO.MouseDownWasDoubleClick[mouse_button];</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                    <span class="keywordtype">bool</span> is_repeating_already = (flags &amp; ImGuiButtonFlags_Repeat) &amp;&amp; g.IO.MouseDownDurationPrev[mouse_button] &gt;= g.IO.KeyRepeatDelay; <span class="comment">// Repeat mode trumps &lt;on release&gt;</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                    <span class="keywordflow">if</span> (!is_double_click_release &amp;&amp; !is_repeating_already)</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                        pressed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                }</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                ClearActiveID();</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            }</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;            <span class="keywordflow">if</span> (!(flags &amp; ImGuiButtonFlags_NoNavFocus))</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                g.NavDisableHighlight = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        }</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (g.ActiveIdSource == ImGuiInputSource_Nav)</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        {</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            <span class="comment">// When activated using Nav, we hold on the ActiveID until activation button is released</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;            <span class="keywordflow">if</span> (g.NavActivateDownId != <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                ClearActiveID();</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        }</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <span class="keywordflow">if</span> (pressed)</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            g.ActiveIdHasBeenPressedBefore = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    }</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160; </div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keywordflow">if</span> (out_hovered) *out_hovered = hovered;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="keywordflow">if</span> (out_held) *out_held = held;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160; </div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="keywordflow">return</span> pressed;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;}</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160; </div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="keywordtype">bool</span> ImGui::ButtonEx(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> &amp;size_arg, ImGuiButtonFlags flags)</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;{</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_gui_style.html">ImGuiStyle</a> &amp;style = g.Style;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keyword">const</span> ImGuiID <span class="keywordtype">id</span> = window-&gt;GetID(label);</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> label_size = CalcTextSize(label, NULL, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160; </div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> pos = window-&gt;DC.CursorPos;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; ImGuiButtonFlags_AlignTextBaseLine) &amp;&amp; style.FramePadding.y &lt; window-&gt;DC.CurrLineTextBaseOffset) <span class="comment">// Try to vertically align buttons that are smaller/have no padding so that text baseline matches (bit hacky, since it shouldn&#39;t be a flag)</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        pos.y += window-&gt;DC.CurrLineTextBaseOffset - style.FramePadding.y;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> size = CalcItemSize(size_arg, label_size.x + style.FramePadding.x * 2.0f, label_size.y + style.FramePadding.y * 2.0f);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160; </div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> bb(pos, pos + size);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    ItemSize(size, style.FramePadding.y);</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="keywordflow">if</span> (!ItemAdd(bb, <span class="keywordtype">id</span>))</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160; </div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordflow">if</span> (g.LastItemData.InFlags &amp; ImGuiItemFlags_ButtonRepeat)</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        flags |= ImGuiButtonFlags_Repeat;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160; </div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordtype">bool</span> hovered, held;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="keywordtype">bool</span> pressed = ButtonBehavior(bb, <span class="keywordtype">id</span>, &amp;hovered, &amp;held, flags);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160; </div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <span class="comment">// Render</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="keyword">const</span> ImU32 col = GetColorU32((held &amp;&amp; hovered) ? ImGuiCol_ButtonActive : hovered ? ImGuiCol_ButtonHovered : ImGuiCol_Button);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    RenderNavHighlight(bb, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    RenderFrame(bb.Min, bb.Max, col, <span class="keyword">true</span>, style.FrameRounding);</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160; </div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keywordflow">if</span> (g.LogEnabled)</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        LogSetNextTextDecoration(<span class="stringliteral">&quot;[&quot;</span>, <span class="stringliteral">&quot;]&quot;</span>);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    RenderTextClipped(bb.Min + style.FramePadding, bb.Max - style.FramePadding, label, NULL, &amp;label_size, style.ButtonTextAlign, &amp;bb);</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160; </div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="comment">// Automatically close popups</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="comment">//if (pressed &amp;&amp; !(flags &amp; ImGuiButtonFlags_DontClosePopups) &amp;&amp; (window-&gt;Flags &amp; ImGuiWindowFlags_Popup))</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="comment">//    CloseCurrentPopup();</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160; </div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    IMGUI_TEST_ENGINE_ITEM_INFO(<span class="keywordtype">id</span>, label, g.LastItemData.StatusFlags);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keywordflow">return</span> pressed;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;}</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160; </div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="keywordtype">bool</span> ImGui::Button(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> &amp;size_arg)</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;{</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="keywordflow">return</span> ButtonEx(label, size_arg, ImGuiButtonFlags_None);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;}</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160; </div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="comment">// Small buttons fits within text without additional vertical spacing.</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;<span class="keywordtype">bool</span> ImGui::SmallButton(<span class="keyword">const</span> <span class="keywordtype">char</span> *label)</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;{</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="keywordtype">float</span> backup_padding_y = g.Style.FramePadding.y;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    g.Style.FramePadding.y = 0.0f;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="keywordtype">bool</span> pressed = ButtonEx(label, <a class="code" href="struct_im_vec2.html">ImVec2</a>(0, 0), ImGuiButtonFlags_AlignTextBaseLine);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    g.Style.FramePadding.y = backup_padding_y;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="keywordflow">return</span> pressed;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;}</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160; </div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="comment">// Tip: use ImGui::PushID()/PopID() to push indices or pointers in the ID stack.</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="comment">// Then you can keep &#39;str_id&#39; empty or the same for all your buttons (instead of creating a string based on a non-string id)</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="keywordtype">bool</span> ImGui::InvisibleButton(<span class="keyword">const</span> <span class="keywordtype">char</span> *str_id, <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> &amp;size_arg, ImGuiButtonFlags flags)</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;{</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160; </div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="comment">// Cannot use zero-size for InvisibleButton(). Unlike Button() there is not way to fallback using the label size.</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    IM_ASSERT(size_arg.x != 0.0f &amp;&amp; size_arg.y != 0.0f);</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160; </div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keyword">const</span> ImGuiID <span class="keywordtype">id</span> = window-&gt;GetID(str_id);</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> size = CalcItemSize(size_arg, 0.0f, 0.0f);</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> bb(window-&gt;DC.CursorPos, window-&gt;DC.CursorPos + size);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    ItemSize(size);</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordflow">if</span> (!ItemAdd(bb, <span class="keywordtype">id</span>))</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160; </div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordtype">bool</span> hovered, held;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="keywordtype">bool</span> pressed = ButtonBehavior(bb, <span class="keywordtype">id</span>, &amp;hovered, &amp;held, flags);</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160; </div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="keywordflow">return</span> pressed;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;}</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160; </div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="keywordtype">bool</span> ImGui::ArrowButtonEx(<span class="keyword">const</span> <span class="keywordtype">char</span> *str_id, ImGuiDir dir, <a class="code" href="struct_im_vec2.html">ImVec2</a> size, ImGuiButtonFlags flags)</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;{</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160; </div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="keyword">const</span> ImGuiID <span class="keywordtype">id</span> = window-&gt;GetID(str_id);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> bb(window-&gt;DC.CursorPos, window-&gt;DC.CursorPos + size);</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> default_size = GetFrameHeight();</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    ItemSize(size, (size.y &gt;= default_size) ? g.Style.FramePadding.y : -1.0f);</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="keywordflow">if</span> (!ItemAdd(bb, <span class="keywordtype">id</span>))</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160; </div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keywordflow">if</span> (g.LastItemData.InFlags &amp; ImGuiItemFlags_ButtonRepeat)</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        flags |= ImGuiButtonFlags_Repeat;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160; </div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="keywordtype">bool</span> hovered, held;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <span class="keywordtype">bool</span> pressed = ButtonBehavior(bb, <span class="keywordtype">id</span>, &amp;hovered, &amp;held, flags);</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160; </div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="comment">// Render</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keyword">const</span> ImU32 bg_col = GetColorU32((held &amp;&amp; hovered) ? ImGuiCol_ButtonActive : hovered ? ImGuiCol_ButtonHovered : ImGuiCol_Button);</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="keyword">const</span> ImU32 text_col = GetColorU32(ImGuiCol_Text);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    RenderNavHighlight(bb, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    RenderFrame(bb.Min, bb.Max, bg_col, <span class="keyword">true</span>, g.Style.FrameRounding);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    RenderArrow(window-&gt;DrawList, bb.Min + <a class="code" href="struct_im_vec2.html">ImVec2</a>(ImMax(0.0f, (size.x - g.FontSize) * 0.5f), ImMax(0.0f, (size.y - g.FontSize) * 0.5f)), text_col, dir);</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160; </div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="keywordflow">return</span> pressed;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;}</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160; </div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="keywordtype">bool</span> ImGui::ArrowButton(<span class="keyword">const</span> <span class="keywordtype">char</span> *str_id, ImGuiDir dir)</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;{</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keywordtype">float</span> sz = GetFrameHeight();</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="keywordflow">return</span> ArrowButtonEx(str_id, dir, <a class="code" href="struct_im_vec2.html">ImVec2</a>(sz, sz), ImGuiButtonFlags_None);</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;}</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160; </div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="comment">// Button to close a window</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="keywordtype">bool</span> ImGui::CloseButton(ImGuiID <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> &amp;pos)</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;{</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = g.CurrentWindow;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160; </div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <span class="comment">// Tweak 1: Shrink hit-testing area if button covers an abnormally large proportion of the visible region. That&#39;s in order to facilitate moving the window away. (#3825)</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="comment">// This may better be applied as a general hit-rect reduction mechanism for all widgets to ensure the area to move window is always accessible?</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> bb(pos, pos + <a class="code" href="struct_im_vec2.html">ImVec2</a>(g.FontSize, g.FontSize) + g.Style.FramePadding * 2.0f);</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <a class="code" href="struct_im_rect.html">ImRect</a> bb_interact = bb;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> area_to_visible_ratio = window-&gt;OuterRectClipped.GetArea() / bb.GetArea();</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="keywordflow">if</span> (area_to_visible_ratio &lt; 1.5f)</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        bb_interact.Expand(ImFloor(bb_interact.GetSize() * -0.25f));</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160; </div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="comment">// Tweak 2: We intentionally allow interaction when clipped so that a mechanical Alt,Right,Activate sequence can always close a window.</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <span class="comment">// (this isn&#39;t the regular behavior of buttons, but it doesn&#39;t affect the user much because navigation tends to keep items visible).</span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="keywordtype">bool</span> is_clipped = !ItemAdd(bb_interact, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160; </div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <span class="keywordtype">bool</span> hovered, held;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="keywordtype">bool</span> pressed = ButtonBehavior(bb_interact, <span class="keywordtype">id</span>, &amp;hovered, &amp;held);</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <span class="keywordflow">if</span> (is_clipped)</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        <span class="keywordflow">return</span> pressed;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160; </div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <span class="comment">// Render</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <span class="comment">// FIXME: Clarify this mess</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    ImU32 col = GetColorU32(held ? ImGuiCol_ButtonActive : ImGuiCol_ButtonHovered);</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> center = bb.GetCenter();</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="keywordflow">if</span> (hovered)</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        window-&gt;DrawList-&gt;AddCircleFilled(center, ImMax(2.0f, g.FontSize * 0.5f + 1.0f), col, 12);</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160; </div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keywordtype">float</span> cross_extent = g.FontSize * 0.5f * 0.7071f - 1.0f;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    ImU32 cross_col = GetColorU32(ImGuiCol_Text);</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    center -= <a class="code" href="struct_im_vec2.html">ImVec2</a>(0.5f, 0.5f);</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    window-&gt;DrawList-&gt;AddLine(center + <a class="code" href="struct_im_vec2.html">ImVec2</a>(+cross_extent, +cross_extent), center + <a class="code" href="struct_im_vec2.html">ImVec2</a>(-cross_extent, -cross_extent), cross_col, 1.0f);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    window-&gt;DrawList-&gt;AddLine(center + <a class="code" href="struct_im_vec2.html">ImVec2</a>(+cross_extent, -cross_extent), center + <a class="code" href="struct_im_vec2.html">ImVec2</a>(-cross_extent, +cross_extent), cross_col, 1.0f);</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160; </div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="keywordflow">return</span> pressed;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;}</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160; </div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="keywordtype">bool</span> ImGui::CollapseButton(ImGuiID <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> &amp;pos)</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;{</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = g.CurrentWindow;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160; </div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <a class="code" href="struct_im_rect.html">ImRect</a> bb(pos, pos + <a class="code" href="struct_im_vec2.html">ImVec2</a>(g.FontSize, g.FontSize) + g.Style.FramePadding * 2.0f);</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    ItemAdd(bb, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="keywordtype">bool</span> hovered, held;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <span class="keywordtype">bool</span> pressed = ButtonBehavior(bb, <span class="keywordtype">id</span>, &amp;hovered, &amp;held, ImGuiButtonFlags_None);</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160; </div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="comment">// Render</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    ImU32 bg_col = GetColorU32((held &amp;&amp; hovered) ? ImGuiCol_ButtonActive : hovered ? ImGuiCol_ButtonHovered : ImGuiCol_Button);</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    ImU32 text_col = GetColorU32(ImGuiCol_Text);</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> center = bb.GetCenter();</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <span class="keywordflow">if</span> (hovered || held)</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        window-&gt;DrawList-&gt;AddCircleFilled(center<span class="comment">/*+ ImVec2(0.0f, -0.5f)*/</span>, g.FontSize * 0.5f + 1.0f, bg_col, 12);</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    RenderArrow(window-&gt;DrawList, bb.Min + g.Style.FramePadding, text_col, window-&gt;Collapsed ? ImGuiDir_Right : ImGuiDir_Down, 1.0f);</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160; </div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="comment">// Switch to moving the window after mouse is moved beyond the initial drag threshold</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="keywordflow">if</span> (IsItemActive() &amp;&amp; IsMouseDragging(0))</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        StartMouseMovingWindow(window);</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160; </div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <span class="keywordflow">return</span> pressed;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;}</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160; </div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;ImGuiID ImGui::GetWindowScrollbarID(<a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window, ImGuiAxis axis)</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;{</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="keywordflow">return</span> window-&gt;GetIDNoKeepAlive(axis == ImGuiAxis_X ? <span class="stringliteral">&quot;#SCROLLX&quot;</span> : <span class="stringliteral">&quot;#SCROLLY&quot;</span>);</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;}</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160; </div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="comment">// Return scrollbar rectangle, must only be called for corresponding axis if window-&gt;ScrollbarX/Y is set.</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<a class="code" href="struct_im_rect.html">ImRect</a> ImGui::GetWindowScrollbarRect(<a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window, ImGuiAxis axis)</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;{</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> outer_rect = window-&gt;Rect();</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> inner_rect = window-&gt;InnerRect;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> border_size = window-&gt;WindowBorderSize;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> scrollbar_size = window-&gt;ScrollbarSizes[axis ^ 1]; <span class="comment">// (ScrollbarSizes.x = width of Y scrollbar; ScrollbarSizes.y = height of X scrollbar)</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    IM_ASSERT(scrollbar_size &gt; 0.0f);</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="keywordflow">if</span> (axis == ImGuiAxis_X)</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="struct_im_rect.html">ImRect</a>(inner_rect.Min.x, ImMax(outer_rect.Min.y, outer_rect.Max.y - border_size - scrollbar_size), inner_rect.Max.x, outer_rect.Max.y);</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="struct_im_rect.html">ImRect</a>(ImMax(outer_rect.Min.x, outer_rect.Max.x - border_size - scrollbar_size), inner_rect.Min.y, outer_rect.Max.x, inner_rect.Max.y);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;}</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160; </div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;<span class="keywordtype">void</span> ImGui::Scrollbar(ImGuiAxis axis)</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;{</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = g.CurrentWindow;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160; </div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <span class="keyword">const</span> ImGuiID <span class="keywordtype">id</span> = GetWindowScrollbarID(window, axis);</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    KeepAliveID(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160; </div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <span class="comment">// Calculate scrollbar bounding box</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <a class="code" href="struct_im_rect.html">ImRect</a> bb = GetWindowScrollbarRect(window, axis);</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    ImDrawFlags rounding_corners = ImDrawFlags_RoundCornersNone;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <span class="keywordflow">if</span> (axis == ImGuiAxis_X)</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    {</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        rounding_corners |= ImDrawFlags_RoundCornersBottomLeft;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        <span class="keywordflow">if</span> (!window-&gt;ScrollbarY)</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;            rounding_corners |= ImDrawFlags_RoundCornersBottomRight;</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    }</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    {</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        <span class="keywordflow">if</span> ((window-&gt;Flags &amp; ImGuiWindowFlags_NoTitleBar) &amp;&amp; !(window-&gt;Flags &amp; ImGuiWindowFlags_MenuBar))</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;            rounding_corners |= ImDrawFlags_RoundCornersTopRight;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        <span class="keywordflow">if</span> (!window-&gt;ScrollbarX)</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;            rounding_corners |= ImDrawFlags_RoundCornersBottomRight;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    }</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <span class="keywordtype">float</span> size_avail = window-&gt;InnerRect.Max[axis] - window-&gt;InnerRect.Min[axis];</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="keywordtype">float</span> size_contents = window-&gt;ContentSize[axis] + window-&gt;WindowPadding[axis] * 2.0f;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    ScrollbarEx(bb, <span class="keywordtype">id</span>, axis, &amp;window-&gt;Scroll[axis], size_avail, size_contents, rounding_corners);</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;}</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160; </div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;<span class="comment">// Vertical/Horizontal scrollbar</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="comment">// The entire piece of code below is rather confusing because:</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="comment">// - We handle absolute seeking (when first clicking outside the grab) and relative manipulation (afterward or when clicking inside the grab)</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="comment">// - We store values as normalized ratio and in a form that allows the window content to change while we are holding on a scrollbar</span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;<span class="comment">// - We handle both horizontal and vertical scrollbars, which makes the terminology not ideal.</span></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;<span class="comment">// Still, the code should probably be made simpler..</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;<span class="keywordtype">bool</span> ImGui::ScrollbarEx(<span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> &amp;bb_frame, ImGuiID <span class="keywordtype">id</span>, ImGuiAxis axis, <span class="keywordtype">float</span> *p_scroll_v, <span class="keywordtype">float</span> size_avail_v, <span class="keywordtype">float</span> size_contents_v, ImDrawFlags flags)</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;{</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = g.CurrentWindow;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160; </div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> bb_frame_width = bb_frame.GetWidth();</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> bb_frame_height = bb_frame.GetHeight();</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <span class="keywordflow">if</span> (bb_frame_width &lt;= 0.0f || bb_frame_height &lt;= 0.0f)</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160; </div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    <span class="comment">// When we are too small, start hiding and disabling the grab (this reduce visual noise on very small window and facilitate using the window resize grab)</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <span class="keywordtype">float</span> alpha = 1.0f;</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <span class="keywordflow">if</span> ((axis == ImGuiAxis_Y) &amp;&amp; bb_frame_height &lt; g.FontSize + g.Style.FramePadding.y * 2.0f)</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        alpha = ImSaturate((bb_frame_height - g.FontSize) / (g.Style.FramePadding.y * 2.0f));</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <span class="keywordflow">if</span> (alpha &lt;= 0.0f)</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160; </div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_gui_style.html">ImGuiStyle</a> &amp;style = g.Style;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> allow_interaction = (alpha &gt;= 1.0f);</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160; </div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <a class="code" href="struct_im_rect.html">ImRect</a> bb = bb_frame;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    bb.Expand(<a class="code" href="struct_im_vec2.html">ImVec2</a>(-ImClamp(IM_FLOOR((bb_frame_width - 2.0f) * 0.5f), 0.0f, 3.0f), -ImClamp(IM_FLOOR((bb_frame_height - 2.0f) * 0.5f), 0.0f, 3.0f)));</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160; </div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <span class="comment">// V denote the main, longer axis of the scrollbar (= height for a vertical scrollbar)</span></div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> scrollbar_size_v = (axis == ImGuiAxis_X) ? bb.GetWidth() : bb.GetHeight();</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160; </div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    <span class="comment">// Calculate the height of our grabbable box. It generally represent the amount visible (vs the total scrollable amount)</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    <span class="comment">// But we maintain a minimum size in pixel to allow for the user to still aim inside.</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    IM_ASSERT(ImMax(size_contents_v, size_avail_v) &gt; 0.0f); <span class="comment">// Adding this assert to check if the ImMax(XXX,1.0f) is still needed. PLEASE CONTACT ME if this triggers.</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> win_size_v = ImMax(ImMax(size_contents_v, size_avail_v), 1.0f);</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> grab_h_pixels = ImClamp(scrollbar_size_v * (size_avail_v / win_size_v), style.GrabMinSize, scrollbar_size_v);</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> grab_h_norm = grab_h_pixels / scrollbar_size_v;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160; </div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <span class="comment">// Handle input right away. None of the code of Begin() is relying on scrolling position before calling Scrollbar().</span></div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <span class="keywordtype">bool</span> held = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <span class="keywordtype">bool</span> hovered = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    ButtonBehavior(bb, <span class="keywordtype">id</span>, &amp;hovered, &amp;held, ImGuiButtonFlags_NoNavFocus);</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160; </div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <span class="keywordtype">float</span> scroll_max = ImMax(1.0f, size_contents_v - size_avail_v);</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="keywordtype">float</span> scroll_ratio = ImSaturate(*p_scroll_v / scroll_max);</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    <span class="keywordtype">float</span> grab_v_norm = scroll_ratio * (scrollbar_size_v - grab_h_pixels) / scrollbar_size_v; <span class="comment">// Grab position in normalized space</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="keywordflow">if</span> (held &amp;&amp; allow_interaction &amp;&amp; grab_h_norm &lt; 1.0f)</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    {</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        <span class="keywordtype">float</span> scrollbar_pos_v = bb.Min[axis];</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        <span class="keywordtype">float</span> mouse_pos_v = g.IO.MousePos[axis];</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160; </div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;        <span class="comment">// Click position in scrollbar normalized space (0.0f-&gt;1.0f)</span></div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> clicked_v_norm = ImSaturate((mouse_pos_v - scrollbar_pos_v) / scrollbar_size_v);</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        SetHoveredID(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160; </div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        <span class="keywordtype">bool</span> seek_absolute = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        <span class="keywordflow">if</span> (g.ActiveIdIsJustActivated)</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;        {</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;            <span class="comment">// On initial click calculate the distance between mouse and the center of the grab</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;            seek_absolute = (clicked_v_norm &lt; grab_v_norm || clicked_v_norm &gt; grab_v_norm + grab_h_norm);</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;            <span class="keywordflow">if</span> (seek_absolute)</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                g.ScrollbarClickDeltaToGrabCenter = 0.0f;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                g.ScrollbarClickDeltaToGrabCenter = clicked_v_norm - grab_v_norm - grab_h_norm * 0.5f;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        }</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160; </div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        <span class="comment">// Apply scroll (p_scroll_v will generally point on one member of window-&gt;Scroll)</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        <span class="comment">// It is ok to modify Scroll here because we are being called in Begin() after the calculation of ContentSize and before setting up our starting position</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> scroll_v_norm = ImSaturate((clicked_v_norm - g.ScrollbarClickDeltaToGrabCenter - grab_h_norm * 0.5f) / (1.0f - grab_h_norm));</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;        *p_scroll_v = IM_ROUND(scroll_v_norm * scroll_max);<span class="comment">//(win_size_contents_v - win_size_v));</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160; </div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;        <span class="comment">// Update values for rendering</span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        scroll_ratio = ImSaturate(*p_scroll_v / scroll_max);</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        grab_v_norm = scroll_ratio * (scrollbar_size_v - grab_h_pixels) / scrollbar_size_v;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160; </div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        <span class="comment">// Update distance to grab now that we have seeked and saturated</span></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        <span class="keywordflow">if</span> (seek_absolute)</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;            g.ScrollbarClickDeltaToGrabCenter = clicked_v_norm - grab_v_norm - grab_h_norm * 0.5f;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    }</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160; </div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <span class="comment">// Render</span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    <span class="keyword">const</span> ImU32 bg_col = GetColorU32(ImGuiCol_ScrollbarBg);</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <span class="keyword">const</span> ImU32 grab_col = GetColorU32(held ? ImGuiCol_ScrollbarGrabActive : hovered ? ImGuiCol_ScrollbarGrabHovered : ImGuiCol_ScrollbarGrab, alpha);</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    window-&gt;DrawList-&gt;AddRectFilled(bb_frame.Min, bb_frame.Max, bg_col, window-&gt;WindowRounding, flags);</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <a class="code" href="struct_im_rect.html">ImRect</a> grab_rect;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <span class="keywordflow">if</span> (axis == ImGuiAxis_X)</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        grab_rect = <a class="code" href="struct_im_rect.html">ImRect</a>(ImLerp(bb.Min.x, bb.Max.x, grab_v_norm), bb.Min.y, ImLerp(bb.Min.x, bb.Max.x, grab_v_norm) + grab_h_pixels, bb.Max.y);</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        grab_rect = <a class="code" href="struct_im_rect.html">ImRect</a>(bb.Min.x, ImLerp(bb.Min.y, bb.Max.y, grab_v_norm), bb.Max.x, ImLerp(bb.Min.y, bb.Max.y, grab_v_norm) + grab_h_pixels);</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    window-&gt;DrawList-&gt;AddRectFilled(grab_rect.Min, grab_rect.Max, grab_col, style.ScrollbarRounding);</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160; </div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <span class="keywordflow">return</span> held;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;}</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160; </div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;<span class="keywordtype">void</span> ImGui::Image(ImTextureID user_texture_id, <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> &amp;size, <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> &amp;uv0, <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> &amp;uv1, <span class="keyword">const</span> <a class="code" href="struct_im_vec4.html">ImVec4</a> &amp;tint_col, <span class="keyword">const</span> <a class="code" href="struct_im_vec4.html">ImVec4</a> &amp;border_col)</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;{</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160; </div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <a class="code" href="struct_im_rect.html">ImRect</a> bb(window-&gt;DC.CursorPos, window-&gt;DC.CursorPos + size);</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <span class="keywordflow">if</span> (border_col.w &gt; 0.0f)</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        bb.Max += <a class="code" href="struct_im_vec2.html">ImVec2</a>(2, 2);</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    ItemSize(bb);</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <span class="keywordflow">if</span> (!ItemAdd(bb, 0))</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160; </div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <span class="keywordflow">if</span> (border_col.w &gt; 0.0f)</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    {</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        window-&gt;DrawList-&gt;AddRect(bb.Min, bb.Max, GetColorU32(border_col), 0.0f);</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        window-&gt;DrawList-&gt;AddImage(user_texture_id, bb.Min + <a class="code" href="struct_im_vec2.html">ImVec2</a>(1, 1), bb.Max - <a class="code" href="struct_im_vec2.html">ImVec2</a>(1, 1), uv0, uv1, GetColorU32(tint_col));</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    }</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    {</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;        window-&gt;DrawList-&gt;AddImage(user_texture_id, bb.Min, bb.Max, uv0, uv1, GetColorU32(tint_col));</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    }</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;}</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160; </div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;<span class="comment">// ImageButton() is flawed as &#39;id&#39; is always derived from &#39;texture_id&#39; (see #2464 #1390)</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;<span class="comment">// We provide this internal helper to write your own variant while we figure out how to redesign the public ImageButton() API.</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;<span class="keywordtype">bool</span> ImGui::ImageButtonEx(ImGuiID <span class="keywordtype">id</span>, ImTextureID texture_id, <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> &amp;size, <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> &amp;uv0, <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> &amp;uv1, <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> &amp;padding, <span class="keyword">const</span> <a class="code" href="struct_im_vec4.html">ImVec4</a> &amp;bg_col, <span class="keyword">const</span> <a class="code" href="struct_im_vec4.html">ImVec4</a> &amp;tint_col)</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;{</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160; </div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> bb(window-&gt;DC.CursorPos, window-&gt;DC.CursorPos + size + padding * 2);</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    ItemSize(bb);</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keywordflow">if</span> (!ItemAdd(bb, <span class="keywordtype">id</span>))</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160; </div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <span class="keywordtype">bool</span> hovered, held;</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="keywordtype">bool</span> pressed = ButtonBehavior(bb, <span class="keywordtype">id</span>, &amp;hovered, &amp;held);</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160; </div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <span class="comment">// Render</span></div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    <span class="keyword">const</span> ImU32 col = GetColorU32((held &amp;&amp; hovered) ? ImGuiCol_ButtonActive : hovered ? ImGuiCol_ButtonHovered : ImGuiCol_Button);</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    RenderNavHighlight(bb, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    RenderFrame(bb.Min, bb.Max, col, <span class="keyword">true</span>, ImClamp((<span class="keywordtype">float</span>)ImMin(padding.x, padding.y), 0.0f, g.Style.FrameRounding));</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    <span class="keywordflow">if</span> (bg_col.w &gt; 0.0f)</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;        window-&gt;DrawList-&gt;AddRectFilled(bb.Min + padding, bb.Max - padding, GetColorU32(bg_col));</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    window-&gt;DrawList-&gt;AddImage(texture_id, bb.Min + padding, bb.Max - padding, uv0, uv1, GetColorU32(tint_col));</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160; </div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <span class="keywordflow">return</span> pressed;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;}</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160; </div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;<span class="comment">// frame_padding &lt; 0: uses FramePadding from style (default)</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;<span class="comment">// frame_padding = 0: no framing</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;<span class="comment">// frame_padding &gt; 0: set framing size</span></div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;<span class="keywordtype">bool</span> ImGui::ImageButton(ImTextureID user_texture_id, <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> &amp;size, <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> &amp;uv0, <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> &amp;uv1, <span class="keywordtype">int</span> frame_padding, <span class="keyword">const</span> <a class="code" href="struct_im_vec4.html">ImVec4</a> &amp;bg_col, <span class="keyword">const</span> <a class="code" href="struct_im_vec4.html">ImVec4</a> &amp;tint_col)</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;{</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = g.CurrentWindow;</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160; </div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    <span class="comment">// Default to using texture ID as ID. User can still push string/integer prefixes.</span></div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    PushID((<span class="keywordtype">void</span> *)(intptr_t)user_texture_id);</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    <span class="keyword">const</span> ImGuiID <span class="keywordtype">id</span> = window-&gt;GetID(<span class="stringliteral">&quot;#image&quot;</span>);</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    PopID();</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> padding = (frame_padding &gt;= 0) ? <a class="code" href="struct_im_vec2.html">ImVec2</a>((<span class="keywordtype">float</span>)frame_padding, (float)frame_padding) : g.Style.FramePadding;</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <span class="keywordflow">return</span> ImageButtonEx(<span class="keywordtype">id</span>, user_texture_id, size, uv0, uv1, padding, bg_col, tint_col);</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;}</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160; </div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;<span class="keywordtype">bool</span> ImGui::Checkbox(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">bool</span> *v)</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;{</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160; </div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_gui_style.html">ImGuiStyle</a> &amp;style = g.Style;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <span class="keyword">const</span> ImGuiID <span class="keywordtype">id</span> = window-&gt;GetID(label);</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> label_size = CalcTextSize(label, NULL, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160; </div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> square_sz = GetFrameHeight();</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> pos = window-&gt;DC.CursorPos;</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> total_bb(pos, pos + <a class="code" href="struct_im_vec2.html">ImVec2</a>(square_sz + (label_size.x &gt; 0.0f ? style.ItemInnerSpacing.x + label_size.x : 0.0f), label_size.y + style.FramePadding.y * 2.0f));</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    ItemSize(total_bb, style.FramePadding.y);</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    <span class="keywordflow">if</span> (!ItemAdd(total_bb, <span class="keywordtype">id</span>))</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    {</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        IMGUI_TEST_ENGINE_ITEM_INFO(<span class="keywordtype">id</span>, label, g.LastItemData.StatusFlags | ImGuiItemStatusFlags_Checkable | (*v ? ImGuiItemStatusFlags_Checked : 0));</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    }</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160; </div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <span class="keywordtype">bool</span> hovered, held;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="keywordtype">bool</span> pressed = ButtonBehavior(total_bb, <span class="keywordtype">id</span>, &amp;hovered, &amp;held);</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <span class="keywordflow">if</span> (pressed)</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    {</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        *v = !(*v);</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        MarkItemEdited(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    }</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160; </div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> check_bb(pos, pos + <a class="code" href="struct_im_vec2.html">ImVec2</a>(square_sz, square_sz));</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    RenderNavHighlight(total_bb, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    RenderFrame(check_bb.Min, check_bb.Max, GetColorU32((held &amp;&amp; hovered) ? ImGuiCol_FrameBgActive : hovered ? ImGuiCol_FrameBgHovered : ImGuiCol_FrameBg), <span class="keyword">true</span>, style.FrameRounding);</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    ImU32 check_col = GetColorU32(ImGuiCol_CheckMark);</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <span class="keywordtype">bool</span> mixed_value = (g.LastItemData.InFlags &amp; ImGuiItemFlags_MixedValue) != 0;</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <span class="keywordflow">if</span> (mixed_value)</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    {</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;        <span class="comment">// Undocumented tristate/mixed/indeterminate checkbox (#2644)</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        <span class="comment">// This may seem awkwardly designed because the aim is to make ImGuiItemFlags_MixedValue supported by all widgets (not just checkbox)</span></div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        <a class="code" href="struct_im_vec2.html">ImVec2</a> pad(ImMax(1.0f, IM_FLOOR(square_sz / 3.6f)), ImMax(1.0f, IM_FLOOR(square_sz / 3.6f)));</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        window-&gt;DrawList-&gt;AddRectFilled(check_bb.Min + pad, check_bb.Max - pad, check_col, style.FrameRounding);</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    }</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*v)</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    {</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> pad = ImMax(1.0f, IM_FLOOR(square_sz / 6.0f));</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        RenderCheckMark(window-&gt;DrawList, check_bb.Min + <a class="code" href="struct_im_vec2.html">ImVec2</a>(pad, pad), check_col, square_sz - pad * 2.0f);</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    }</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160; </div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> label_pos = <a class="code" href="struct_im_vec2.html">ImVec2</a>(check_bb.Max.x + style.ItemInnerSpacing.x, check_bb.Min.y + style.FramePadding.y);</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="keywordflow">if</span> (g.LogEnabled)</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        LogRenderedText(&amp;label_pos, mixed_value ? <span class="stringliteral">&quot;[~]&quot;</span> : *v ? <span class="stringliteral">&quot;[x]&quot;</span> : <span class="stringliteral">&quot;[ ]&quot;</span>);</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <span class="keywordflow">if</span> (label_size.x &gt; 0.0f)</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        RenderText(label_pos, label);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160; </div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    IMGUI_TEST_ENGINE_ITEM_INFO(<span class="keywordtype">id</span>, label, g.LastItemData.StatusFlags | ImGuiItemStatusFlags_Checkable | (*v ? ImGuiItemStatusFlags_Checked : 0));</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <span class="keywordflow">return</span> pressed;</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;}</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160; </div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;<span class="keywordtype">bool</span> ImGui::CheckboxFlagsT(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, T *flags, T flags_value)</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;{</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    <span class="keywordtype">bool</span> all_on = (*flags &amp; flags_value) == flags_value;</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    <span class="keywordtype">bool</span> any_on = (*flags &amp; flags_value) != 0;</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <span class="keywordtype">bool</span> pressed;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    <span class="keywordflow">if</span> (!all_on &amp;&amp; any_on)</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    {</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        ImGuiItemFlags backup_item_flags = g.CurrentItemFlags;</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        g.CurrentItemFlags |= ImGuiItemFlags_MixedValue;</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        pressed = Checkbox(label, &amp;all_on);</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        g.CurrentItemFlags = backup_item_flags;</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    }</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    {</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;        pressed = Checkbox(label, &amp;all_on);</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160; </div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    }</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    <span class="keywordflow">if</span> (pressed)</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    {</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;        <span class="keywordflow">if</span> (all_on)</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;            *flags |= flags_value;</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;            *flags &amp;= ~flags_value;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    }</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    <span class="keywordflow">return</span> pressed;</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;}</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160; </div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;<span class="keywordtype">bool</span> ImGui::CheckboxFlags(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">int</span> *flags, <span class="keywordtype">int</span> flags_value)</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;{</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    <span class="keywordflow">return</span> CheckboxFlagsT(label, flags, flags_value);</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;}</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160; </div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;<span class="keywordtype">bool</span> ImGui::CheckboxFlags(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *flags, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags_value)</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;{</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <span class="keywordflow">return</span> CheckboxFlagsT(label, flags, flags_value);</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;}</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160; </div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;<span class="keywordtype">bool</span> ImGui::CheckboxFlags(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, ImS64 *flags, ImS64 flags_value)</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;{</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <span class="keywordflow">return</span> CheckboxFlagsT(label, flags, flags_value);</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;}</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160; </div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;<span class="keywordtype">bool</span> ImGui::CheckboxFlags(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, ImU64 *flags, ImU64 flags_value)</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;{</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <span class="keywordflow">return</span> CheckboxFlagsT(label, flags, flags_value);</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;}</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160; </div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;<span class="keywordtype">bool</span> ImGui::RadioButton(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">bool</span> active)</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;{</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160; </div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_gui_style.html">ImGuiStyle</a> &amp;style = g.Style;</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <span class="keyword">const</span> ImGuiID <span class="keywordtype">id</span> = window-&gt;GetID(label);</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> label_size = CalcTextSize(label, NULL, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160; </div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> square_sz = GetFrameHeight();</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> pos = window-&gt;DC.CursorPos;</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> check_bb(pos, pos + <a class="code" href="struct_im_vec2.html">ImVec2</a>(square_sz, square_sz));</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> total_bb(pos, pos + <a class="code" href="struct_im_vec2.html">ImVec2</a>(square_sz + (label_size.x &gt; 0.0f ? style.ItemInnerSpacing.x + label_size.x : 0.0f), label_size.y + style.FramePadding.y * 2.0f));</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    ItemSize(total_bb, style.FramePadding.y);</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    <span class="keywordflow">if</span> (!ItemAdd(total_bb, <span class="keywordtype">id</span>))</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160; </div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> center = check_bb.GetCenter();</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    center.x = IM_ROUND(center.x);</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    center.y = IM_ROUND(center.y);</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> radius = (square_sz - 1.0f) * 0.5f;</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160; </div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <span class="keywordtype">bool</span> hovered, held;</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <span class="keywordtype">bool</span> pressed = ButtonBehavior(total_bb, <span class="keywordtype">id</span>, &amp;hovered, &amp;held);</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <span class="keywordflow">if</span> (pressed)</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        MarkItemEdited(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160; </div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    RenderNavHighlight(total_bb, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    window-&gt;DrawList-&gt;AddCircleFilled(center, radius, GetColorU32((held &amp;&amp; hovered) ? ImGuiCol_FrameBgActive : hovered ? ImGuiCol_FrameBgHovered : ImGuiCol_FrameBg), 16);</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <span class="keywordflow">if</span> (active)</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    {</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> pad = ImMax(1.0f, IM_FLOOR(square_sz / 6.0f));</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;        window-&gt;DrawList-&gt;AddCircleFilled(center, radius - pad, GetColorU32(ImGuiCol_CheckMark), 16);</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    }</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160; </div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    <span class="keywordflow">if</span> (style.FrameBorderSize &gt; 0.0f)</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    {</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;        window-&gt;DrawList-&gt;AddCircle(center + <a class="code" href="struct_im_vec2.html">ImVec2</a>(1, 1), radius, GetColorU32(ImGuiCol_BorderShadow), 16, style.FrameBorderSize);</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        window-&gt;DrawList-&gt;AddCircle(center, radius, GetColorU32(ImGuiCol_Border), 16, style.FrameBorderSize);</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    }</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160; </div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> label_pos = <a class="code" href="struct_im_vec2.html">ImVec2</a>(check_bb.Max.x + style.ItemInnerSpacing.x, check_bb.Min.y + style.FramePadding.y);</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <span class="keywordflow">if</span> (g.LogEnabled)</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;        LogRenderedText(&amp;label_pos, active ? <span class="stringliteral">&quot;(x)&quot;</span> : <span class="stringliteral">&quot;( )&quot;</span>);</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    <span class="keywordflow">if</span> (label_size.x &gt; 0.0f)</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        RenderText(label_pos, label);</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160; </div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    IMGUI_TEST_ENGINE_ITEM_INFO(<span class="keywordtype">id</span>, label, g.LastItemData.StatusFlags);</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    <span class="keywordflow">return</span> pressed;</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;}</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160; </div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;<span class="comment">// FIXME: This would work nicely if it was a public template, e.g. &#39;template&lt;T&gt; RadioButton(const char* label, T* v, T v_button)&#39;, but I&#39;m not sure how we would expose it..</span></div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;<span class="keywordtype">bool</span> ImGui::RadioButton(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">int</span> *v, <span class="keywordtype">int</span> v_button)</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;{</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> pressed = RadioButton(label, *v == v_button);</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    <span class="keywordflow">if</span> (pressed)</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;        *v = v_button;</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <span class="keywordflow">return</span> pressed;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;}</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160; </div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;<span class="comment">// size_arg (for each axis) &lt; 0.0f: align to end, 0.0f: auto, &gt; 0.0f: specified size</span></div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;<span class="keywordtype">void</span> ImGui::ProgressBar(<span class="keywordtype">float</span> fraction, <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> &amp;size_arg, <span class="keyword">const</span> <span class="keywordtype">char</span> *overlay)</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;{</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160; </div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_gui_style.html">ImGuiStyle</a> &amp;style = g.Style;</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160; </div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> pos = window-&gt;DC.CursorPos;</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> size = CalcItemSize(size_arg, CalcItemWidth(), g.FontSize + style.FramePadding.y * 2.0f);</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <a class="code" href="struct_im_rect.html">ImRect</a> bb(pos, pos + size);</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    ItemSize(size, style.FramePadding.y);</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    <span class="keywordflow">if</span> (!ItemAdd(bb, 0))</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160; </div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    <span class="comment">// Render</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    fraction = ImSaturate(fraction);</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    RenderFrame(bb.Min, bb.Max, GetColorU32(ImGuiCol_FrameBg), <span class="keyword">true</span>, style.FrameRounding);</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    bb.Expand(<a class="code" href="struct_im_vec2.html">ImVec2</a>(-style.FrameBorderSize, -style.FrameBorderSize));</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> fill_br = <a class="code" href="struct_im_vec2.html">ImVec2</a>(ImLerp(bb.Min.x, bb.Max.x, fraction), bb.Max.y);</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    RenderRectFilledRangeH(window-&gt;DrawList, bb, GetColorU32(ImGuiCol_PlotHistogram), 0.0f, fraction, style.FrameRounding);</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160; </div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <span class="comment">// Default displaying the fraction as percentage string, but user can override it</span></div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="keywordtype">char</span> overlay_buf[32];</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    <span class="keywordflow">if</span> (!overlay)</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    {</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;        ImFormatString(overlay_buf, IM_ARRAYSIZE(overlay_buf), <span class="stringliteral">&quot;%.0f%%&quot;</span>, fraction * 100 + 0.01f);</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;        overlay = overlay_buf;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    }</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160; </div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> overlay_size = CalcTextSize(overlay, NULL);</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <span class="keywordflow">if</span> (overlay_size.x &gt; 0.0f)</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;        RenderTextClipped(<a class="code" href="struct_im_vec2.html">ImVec2</a>(ImClamp(fill_br.x + style.ItemSpacing.x, bb.Min.x, bb.Max.x - overlay_size.x - style.ItemInnerSpacing.x), bb.Min.y), bb.Max, overlay, NULL, &amp;overlay_size, <a class="code" href="struct_im_vec2.html">ImVec2</a>(0.0f, 0.5f), &amp;bb);</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;}</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160; </div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;<span class="keywordtype">void</span> ImGui::Bullet()</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;{</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160; </div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_gui_style.html">ImGuiStyle</a> &amp;style = g.Style;</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> line_height = ImMax(ImMin(window-&gt;DC.CurrLineSize.y, g.FontSize + g.Style.FramePadding.y * 2), g.FontSize);</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> bb(window-&gt;DC.CursorPos, window-&gt;DC.CursorPos + <a class="code" href="struct_im_vec2.html">ImVec2</a>(g.FontSize, line_height));</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    ItemSize(bb);</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <span class="keywordflow">if</span> (!ItemAdd(bb, 0))</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    {</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;        SameLine(0, style.FramePadding.x * 2);</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    }</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160; </div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    <span class="comment">// Render and stay on same line</span></div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    ImU32 text_col = GetColorU32(ImGuiCol_Text);</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    RenderBullet(window-&gt;DrawList, bb.Min + <a class="code" href="struct_im_vec2.html">ImVec2</a>(style.FramePadding.x + g.FontSize * 0.5f, line_height * 0.5f), text_col);</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    SameLine(0, style.FramePadding.x * 2.0f);</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;}</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160; </div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;<span class="comment">// [SECTION] Widgets: Low-level Layout helpers</span></div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;<span class="comment">// - Spacing()</span></div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;<span class="comment">// - Dummy()</span></div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;<span class="comment">// - NewLine()</span></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;<span class="comment">// - AlignTextToFramePadding()</span></div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;<span class="comment">// - SeparatorEx() [Internal]</span></div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;<span class="comment">// - Separator()</span></div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;<span class="comment">// - SplitterBehavior() [Internal]</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;<span class="comment">// - ShrinkWidths() [Internal]</span></div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160; </div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;<span class="keywordtype">void</span> ImGui::Spacing()</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;{</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    ItemSize(<a class="code" href="struct_im_vec2.html">ImVec2</a>(0, 0));</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;}</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160; </div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;<span class="keywordtype">void</span> ImGui::Dummy(<span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> &amp;size)</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;{</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160; </div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> bb(window-&gt;DC.CursorPos, window-&gt;DC.CursorPos + size);</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    ItemSize(size);</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    ItemAdd(bb, 0);</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;}</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160; </div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;<span class="keywordtype">void</span> ImGui::NewLine()</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;{</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160; </div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    <span class="keyword">const</span> ImGuiLayoutType backup_layout_type = window-&gt;DC.LayoutType;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    window-&gt;DC.LayoutType = ImGuiLayoutType_Vertical;</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    <span class="keywordflow">if</span> (window-&gt;DC.CurrLineSize.y &gt; 0.0f)     <span class="comment">// In the event that we are on a line with items that is smaller that FontSize high, we will preserve its height.</span></div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;        ItemSize(<a class="code" href="struct_im_vec2.html">ImVec2</a>(0, 0));</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;        ItemSize(<a class="code" href="struct_im_vec2.html">ImVec2</a>(0.0f, g.FontSize));</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    window-&gt;DC.LayoutType = backup_layout_type;</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;}</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160; </div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;<span class="keywordtype">void</span> ImGui::AlignTextToFramePadding()</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;{</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160; </div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    window-&gt;DC.CurrLineSize.y = ImMax(window-&gt;DC.CurrLineSize.y, g.FontSize + g.Style.FramePadding.y * 2);</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    window-&gt;DC.CurrLineTextBaseOffset = ImMax(window-&gt;DC.CurrLineTextBaseOffset, g.Style.FramePadding.y);</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;}</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160; </div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;<span class="comment">// Horizontal/vertical separating line</span></div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;<span class="keywordtype">void</span> ImGui::SeparatorEx(ImGuiSeparatorFlags flags)</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;{</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160; </div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    IM_ASSERT(ImIsPowerOfTwo(flags &amp; (ImGuiSeparatorFlags_Horizontal | ImGuiSeparatorFlags_Vertical)));   <span class="comment">// Check that only 1 option is selected</span></div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160; </div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    <span class="keywordtype">float</span> thickness_draw = 1.0f;</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    <span class="keywordtype">float</span> thickness_layout = 0.0f;</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    <span class="keywordflow">if</span> (flags &amp; ImGuiSeparatorFlags_Vertical)</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    {</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;        <span class="comment">// Vertical separator, for menu bars (use current line height). Not exposed because it is misleading and it doesn&#39;t have an effect on regular layout.</span></div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;        <span class="keywordtype">float</span> y1 = window-&gt;DC.CursorPos.y;</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;        <span class="keywordtype">float</span> y2 = window-&gt;DC.CursorPos.y + window-&gt;DC.CurrLineSize.y;</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> bb(<a class="code" href="struct_im_vec2.html">ImVec2</a>(window-&gt;DC.CursorPos.x, y1), <a class="code" href="struct_im_vec2.html">ImVec2</a>(window-&gt;DC.CursorPos.x + thickness_draw, y2));</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;        ItemSize(<a class="code" href="struct_im_vec2.html">ImVec2</a>(thickness_layout, 0.0f));</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;        <span class="keywordflow">if</span> (!ItemAdd(bb, 0))</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160; </div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;        <span class="comment">// Draw</span></div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;        window-&gt;DrawList-&gt;AddLine(<a class="code" href="struct_im_vec2.html">ImVec2</a>(bb.Min.x, bb.Min.y), <a class="code" href="struct_im_vec2.html">ImVec2</a>(bb.Min.x, bb.Max.y), GetColorU32(ImGuiCol_Separator));</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;        <span class="keywordflow">if</span> (g.LogEnabled)</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;            LogText(<span class="stringliteral">&quot; |&quot;</span>);</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    }</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags &amp; ImGuiSeparatorFlags_Horizontal)</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    {</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;        <span class="comment">// Horizontal Separator</span></div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;        <span class="keywordtype">float</span> x1 = window-&gt;Pos.x;</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;        <span class="keywordtype">float</span> x2 = window-&gt;Pos.x + window-&gt;Size.x;</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160; </div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;        <span class="comment">// FIXME-WORKRECT: old hack (#205) until we decide of consistent behavior with WorkRect/Indent and Separator</span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;        <span class="keywordflow">if</span> (g.GroupStack.Size &gt; 0 &amp;&amp; g.GroupStack.back().WindowID == window-&gt;ID)</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;            x1 += window-&gt;DC.Indent.x;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160; </div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;        <a class="code" href="struct_im_gui_old_columns.html">ImGuiOldColumns</a> *columns = (flags &amp; ImGuiSeparatorFlags_SpanAllColumns) ? window-&gt;DC.CurrentColumns : NULL;</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;        if (columns)</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;            PushColumnsBackground();</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160; </div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;        <span class="comment">// We don&#39;t provide our width to the layout so that it doesn&#39;t get feed back into AutoFit</span></div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> bb(<a class="code" href="struct_im_vec2.html">ImVec2</a>(x1, window-&gt;DC.CursorPos.y), <a class="code" href="struct_im_vec2.html">ImVec2</a>(x2, window-&gt;DC.CursorPos.y + thickness_draw));</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;        ItemSize(<a class="code" href="struct_im_vec2.html">ImVec2</a>(0.0f, thickness_layout));</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> item_visible = ItemAdd(bb, 0);</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;        <span class="keywordflow">if</span> (item_visible)</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        {</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;            <span class="comment">// Draw</span></div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;            window-&gt;DrawList-&gt;AddLine(bb.Min, <a class="code" href="struct_im_vec2.html">ImVec2</a>(bb.Max.x, bb.Min.y), GetColorU32(ImGuiCol_Separator));</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;            <span class="keywordflow">if</span> (g.LogEnabled)</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;                LogRenderedText(&amp;bb.Min, <span class="stringliteral">&quot;--------------------------------\n&quot;</span>);</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160; </div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;        }</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        <span class="keywordflow">if</span> (columns)</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        {</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;            PopColumnsBackground();</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;            columns-&gt;LineMinY = window-&gt;DC.CursorPos.y;</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        }</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    }</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;}</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160; </div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;<span class="keywordtype">void</span> ImGui::Separator()</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;{</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = g.CurrentWindow;</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160; </div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    <span class="comment">// Those flags should eventually be overridable by the user</span></div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    ImGuiSeparatorFlags flags = (window-&gt;DC.LayoutType == ImGuiLayoutType_Horizontal) ? ImGuiSeparatorFlags_Vertical : ImGuiSeparatorFlags_Horizontal;</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    flags |= ImGuiSeparatorFlags_SpanAllColumns;</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    SeparatorEx(flags);</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;}</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160; </div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;<span class="comment">// Using &#39;hover_visibility_delay&#39; allows us to hide the highlight and mouse cursor for a short time, which can be convenient to reduce visual noise.</span></div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;<span class="keywordtype">bool</span> ImGui::SplitterBehavior(<span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> &amp;bb, ImGuiID <span class="keywordtype">id</span>, ImGuiAxis axis, <span class="keywordtype">float</span> *size1, <span class="keywordtype">float</span> *size2, <span class="keywordtype">float</span> min_size1, <span class="keywordtype">float</span> min_size2, <span class="keywordtype">float</span> hover_extend, <span class="keywordtype">float</span> hover_visibility_delay)</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;{</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = g.CurrentWindow;</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160; </div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    <span class="keyword">const</span> ImGuiItemFlags item_flags_backup = g.CurrentItemFlags;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    g.CurrentItemFlags |= ImGuiItemFlags_NoNav | ImGuiItemFlags_NoNavDefaultFocus;</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    <span class="keywordtype">bool</span> item_add = ItemAdd(bb, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    g.CurrentItemFlags = item_flags_backup;</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    <span class="keywordflow">if</span> (!item_add)</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160; </div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    <span class="keywordtype">bool</span> hovered, held;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    <a class="code" href="struct_im_rect.html">ImRect</a> bb_interact = bb;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    bb_interact.Expand(axis == ImGuiAxis_Y ? <a class="code" href="struct_im_vec2.html">ImVec2</a>(0.0f, hover_extend) : <a class="code" href="struct_im_vec2.html">ImVec2</a>(hover_extend, 0.0f));</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    ButtonBehavior(bb_interact, <span class="keywordtype">id</span>, &amp;hovered, &amp;held, ImGuiButtonFlags_FlattenChildren | ImGuiButtonFlags_AllowItemOverlap);</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    <span class="keywordflow">if</span> (hovered)</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;        g.LastItemData.StatusFlags |= ImGuiItemStatusFlags_HoveredRect; <span class="comment">// for IsItemHovered(), because bb_interact is larger than bb</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    <span class="keywordflow">if</span> (g.ActiveId != <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;        SetItemAllowOverlap();</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160; </div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    <span class="keywordflow">if</span> (held || (hovered &amp;&amp; g.HoveredIdPreviousFrame == <span class="keywordtype">id</span> &amp;&amp; g.HoveredIdTimer &gt;= hover_visibility_delay))</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;        SetMouseCursor(axis == ImGuiAxis_Y ? ImGuiMouseCursor_ResizeNS : ImGuiMouseCursor_ResizeEW);</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160; </div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    <a class="code" href="struct_im_rect.html">ImRect</a> bb_render = bb;</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    <span class="keywordflow">if</span> (held)</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    {</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;        <a class="code" href="struct_im_vec2.html">ImVec2</a> mouse_delta_2d = g.IO.MousePos - g.ActiveIdClickOffset - bb_interact.Min;</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;        <span class="keywordtype">float</span> mouse_delta = (axis == ImGuiAxis_Y) ? mouse_delta_2d.y : mouse_delta_2d.x;</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160; </div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;        <span class="comment">// Minimum pane size</span></div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;        <span class="keywordtype">float</span> size_1_maximum_delta = ImMax(0.0f, *size1 - min_size1);</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;        <span class="keywordtype">float</span> size_2_maximum_delta = ImMax(0.0f, *size2 - min_size2);</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;        <span class="keywordflow">if</span> (mouse_delta &lt; -size_1_maximum_delta)</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;            mouse_delta = -size_1_maximum_delta;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;        <span class="keywordflow">if</span> (mouse_delta &gt; size_2_maximum_delta)</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;            mouse_delta = size_2_maximum_delta;</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160; </div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;        <span class="comment">// Apply resize</span></div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;        <span class="keywordflow">if</span> (mouse_delta != 0.0f)</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;        {</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;            <span class="keywordflow">if</span> (mouse_delta &lt; 0.0f)</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;                IM_ASSERT(*size1 + mouse_delta &gt;= min_size1);</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;            <span class="keywordflow">if</span> (mouse_delta &gt; 0.0f)</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;                IM_ASSERT(*size2 - mouse_delta &gt;= min_size2);</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;            *size1 += mouse_delta;</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;            *size2 -= mouse_delta;</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;            bb_render.Translate((axis == ImGuiAxis_X) ? <a class="code" href="struct_im_vec2.html">ImVec2</a>(mouse_delta, 0.0f) : <a class="code" href="struct_im_vec2.html">ImVec2</a>(0.0f, mouse_delta));</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;            MarkItemEdited(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;        }</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    }</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160; </div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    <span class="comment">// Render</span></div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    <span class="keyword">const</span> ImU32 col = GetColorU32(held ? ImGuiCol_SeparatorActive : (hovered &amp;&amp; g.HoveredIdTimer &gt;= hover_visibility_delay) ? ImGuiCol_SeparatorHovered : ImGuiCol_Separator);</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    window-&gt;DrawList-&gt;AddRectFilled(bb_render.Min, bb_render.Max, col, 0.0f);</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160; </div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    <span class="keywordflow">return</span> held;</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;}</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160; </div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> IMGUI_CDECL ShrinkWidthItemComparer(<span class="keyword">const</span> <span class="keywordtype">void</span> *lhs, <span class="keyword">const</span> <span class="keywordtype">void</span> *rhs)</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;{</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_gui_shrink_width_item.html">ImGuiShrinkWidthItem</a> *a = (<span class="keyword">const</span> <a class="code" href="struct_im_gui_shrink_width_item.html">ImGuiShrinkWidthItem</a> *)lhs;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_gui_shrink_width_item.html">ImGuiShrinkWidthItem</a> *b = (<span class="keyword">const</span> <a class="code" href="struct_im_gui_shrink_width_item.html">ImGuiShrinkWidthItem</a> *)rhs;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <span class="keywordflow">if</span> (<span class="keywordtype">int</span> d = (<span class="keywordtype">int</span>)(b-&gt;Width - a-&gt;Width))</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;        <span class="keywordflow">return</span> d;</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    <span class="keywordflow">return</span> (b-&gt;Index - a-&gt;Index);</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;}</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160; </div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;<span class="comment">// Shrink excess width from a set of item, by removing width from the larger items first.</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;<span class="comment">// Set items Width to -1.0f to disable shrinking this item.</span></div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;<span class="keywordtype">void</span> ImGui::ShrinkWidths(<a class="code" href="struct_im_gui_shrink_width_item.html">ImGuiShrinkWidthItem</a> *items, <span class="keywordtype">int</span> count, <span class="keywordtype">float</span> width_excess)</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;{</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;    <span class="keywordflow">if</span> (count == 1)</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    {</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;        <span class="keywordflow">if</span> (items[0].Width &gt;= 0.0f)</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;            items[0].Width = ImMax(items[0].Width - width_excess, 1.0f);</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    }</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    ImQsort(items, (<span class="keywordtype">size_t</span>)count, <span class="keyword">sizeof</span>(<a class="code" href="struct_im_gui_shrink_width_item.html">ImGuiShrinkWidthItem</a>), ShrinkWidthItemComparer);</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    <span class="keywordtype">int</span> count_same_width = 1;</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    <span class="keywordflow">while</span> (width_excess &gt; 0.0f &amp;&amp; count_same_width &lt; count)</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    {</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;        <span class="keywordflow">while</span> (count_same_width &lt; count &amp;&amp; items[0].Width &lt;= items[count_same_width].Width)</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;            count_same_width++;</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;        <span class="keywordtype">float</span> max_width_to_remove_per_item = (count_same_width &lt; count &amp;&amp;items[count_same_width].Width &gt;= 0.0f) ? (items[0].Width - items[count_same_width].Width) : (items[0].Width - 1.0f);</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;        <span class="keywordflow">if</span> (max_width_to_remove_per_item &lt;= 0.0f)</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;        <span class="keywordtype">float</span> width_to_remove_per_item = ImMin(width_excess / count_same_width, max_width_to_remove_per_item);</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> item_n = 0; item_n &lt; count_same_width; item_n++)</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;            items[item_n].Width -= width_to_remove_per_item;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;        width_excess -= width_to_remove_per_item * count_same_width;</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    }</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160; </div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    <span class="comment">// Round width and redistribute remainder left-to-right (could make it an option of the function?)</span></div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    <span class="comment">// Ensure that e.g. the right-most tab of a shrunk tab-bar always reaches exactly at the same distance from the right-most edge of the tab bar separator.</span></div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    width_excess = 0.0f;</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; count; n++)</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    {</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;        <span class="keywordtype">float</span> width_rounded = ImFloor(items[n].Width);</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;        width_excess += items[n].Width - width_rounded;</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;        items[n].Width = width_rounded;</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;    }</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    <span class="keywordflow">if</span> (width_excess &gt; 0.0f)</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; count; n++)</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;            <span class="keywordflow">if</span> (items[n].Index &lt; (<span class="keywordtype">int</span>)(width_excess + 0.01f))</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;                items[n].Width += 1.0f;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;}</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160; </div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;<span class="comment">// [SECTION] Widgets: ComboBox</span></div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;<span class="comment">// - CalcMaxPopupHeightFromItemCount() [Internal]</span></div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;<span class="comment">// - BeginCombo()</span></div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;<span class="comment">// - BeginComboPopup() [Internal]</span></div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;<span class="comment">// - EndCombo()</span></div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;<span class="comment">// - BeginComboPreview() [Internal]</span></div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;<span class="comment">// - EndComboPreview() [Internal]</span></div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;<span class="comment">// - Combo()</span></div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160; </div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;<span class="keyword">static</span> <span class="keywordtype">float</span> CalcMaxPopupHeightFromItemCount(<span class="keywordtype">int</span> items_count)</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;{</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    <span class="keywordflow">if</span> (items_count &lt;= 0)</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;        <span class="keywordflow">return</span> FLT_MAX;</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    <span class="keywordflow">return</span> (g.FontSize + g.Style.ItemSpacing.y) * items_count - g.Style.ItemSpacing.y + (g.Style.WindowPadding.y * 2);</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;}</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160; </div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;<span class="keywordtype">bool</span> ImGui::BeginCombo(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keyword">const</span> <span class="keywordtype">char</span> *preview_value, ImGuiComboFlags flags)</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;{</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160; </div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    ImGuiNextWindowDataFlags backup_next_window_data_flags = g.NextWindowData.Flags;</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    g.NextWindowData.ClearFlags(); <span class="comment">// We behave like Begin() and need to consume those values</span></div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160; </div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_gui_style.html">ImGuiStyle</a> &amp;style = g.Style;</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    <span class="keyword">const</span> ImGuiID <span class="keywordtype">id</span> = window-&gt;GetID(label);</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    IM_ASSERT((flags &amp; (ImGuiComboFlags_NoArrowButton | ImGuiComboFlags_NoPreview)) != (ImGuiComboFlags_NoArrowButton | ImGuiComboFlags_NoPreview)); <span class="comment">// Can&#39;t use both flags together</span></div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160; </div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> arrow_size = (flags &amp; ImGuiComboFlags_NoArrowButton) ? 0.0f : GetFrameHeight();</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> label_size = CalcTextSize(label, NULL, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> w = (flags &amp; ImGuiComboFlags_NoPreview) ? arrow_size : CalcItemWidth();</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> bb(window-&gt;DC.CursorPos, window-&gt;DC.CursorPos + <a class="code" href="struct_im_vec2.html">ImVec2</a>(w, label_size.y + style.FramePadding.y * 2.0f));</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> total_bb(bb.Min, bb.Max + <a class="code" href="struct_im_vec2.html">ImVec2</a>(label_size.x &gt; 0.0f ? style.ItemInnerSpacing.x + label_size.x : 0.0f, 0.0f));</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    ItemSize(total_bb, style.FramePadding.y);</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    <span class="keywordflow">if</span> (!ItemAdd(total_bb, <span class="keywordtype">id</span>, &amp;bb))</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160; </div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    <span class="comment">// Open on click</span></div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <span class="keywordtype">bool</span> hovered, held;</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    <span class="keywordtype">bool</span> pressed = ButtonBehavior(bb, <span class="keywordtype">id</span>, &amp;hovered, &amp;held);</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    <span class="keyword">const</span> ImGuiID popup_id = ImHashStr(<span class="stringliteral">&quot;##ComboPopup&quot;</span>, 0, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    <span class="keywordtype">bool</span> popup_open = IsPopupOpen(popup_id, ImGuiPopupFlags_None);</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    <span class="keywordflow">if</span> ((pressed || g.NavActivateId == <span class="keywordtype">id</span>) &amp;&amp; !popup_open)</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    {</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;        OpenPopupEx(popup_id, ImGuiPopupFlags_None);</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;        popup_open = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    }</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160; </div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    <span class="comment">// Render shape</span></div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    <span class="keyword">const</span> ImU32 frame_col = GetColorU32(hovered ? ImGuiCol_FrameBgHovered : ImGuiCol_FrameBg);</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> value_x2 = ImMax(bb.Min.x, bb.Max.x - arrow_size);</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    RenderNavHighlight(bb, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    <span class="keywordflow">if</span> (!(flags &amp; ImGuiComboFlags_NoPreview))</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;        window-&gt;DrawList-&gt;AddRectFilled(bb.Min, <a class="code" href="struct_im_vec2.html">ImVec2</a>(value_x2, bb.Max.y), frame_col, style.FrameRounding, (flags &amp; ImGuiComboFlags_NoArrowButton) ? ImDrawFlags_RoundCornersAll : ImDrawFlags_RoundCornersLeft);</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    <span class="keywordflow">if</span> (!(flags &amp; ImGuiComboFlags_NoArrowButton))</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    {</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;        ImU32 bg_col = GetColorU32((popup_open || hovered) ? ImGuiCol_ButtonHovered : ImGuiCol_Button);</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;        ImU32 text_col = GetColorU32(ImGuiCol_Text);</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;        window-&gt;DrawList-&gt;AddRectFilled(<a class="code" href="struct_im_vec2.html">ImVec2</a>(value_x2, bb.Min.y), bb.Max, bg_col, style.FrameRounding, (w &lt;= arrow_size) ? ImDrawFlags_RoundCornersAll : ImDrawFlags_RoundCornersRight);</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;        <span class="keywordflow">if</span> (value_x2 + arrow_size - style.FramePadding.x &lt;= bb.Max.x)</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;            RenderArrow(window-&gt;DrawList, <a class="code" href="struct_im_vec2.html">ImVec2</a>(value_x2 + style.FramePadding.y, bb.Min.y + style.FramePadding.y), text_col, ImGuiDir_Down, 1.0f);</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    }</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    RenderFrameBorder(bb.Min, bb.Max, style.FrameRounding);</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160; </div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    <span class="comment">// Custom preview</span></div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;    <span class="keywordflow">if</span> (flags &amp; ImGuiComboFlags_CustomPreview)</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    {</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;        g.ComboPreviewData.PreviewRect = <a class="code" href="struct_im_rect.html">ImRect</a>(bb.Min.x, bb.Min.y, value_x2, bb.Max.y);</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;        IM_ASSERT(preview_value == NULL || preview_value[0] == 0);</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;        preview_value = NULL;</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    }</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160; </div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    <span class="comment">// Render preview and label</span></div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    <span class="keywordflow">if</span> (preview_value != NULL &amp;&amp; !(flags &amp; ImGuiComboFlags_NoPreview))</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    {</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;        <span class="keywordflow">if</span> (g.LogEnabled)</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;            LogSetNextTextDecoration(<span class="stringliteral">&quot;{&quot;</span>, <span class="stringliteral">&quot;}&quot;</span>);</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;        RenderTextClipped(bb.Min + style.FramePadding, <a class="code" href="struct_im_vec2.html">ImVec2</a>(value_x2, bb.Max.y), preview_value, NULL, NULL);</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    }</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    <span class="keywordflow">if</span> (label_size.x &gt; 0)</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;        RenderText(<a class="code" href="struct_im_vec2.html">ImVec2</a>(bb.Max.x + style.ItemInnerSpacing.x, bb.Min.y + style.FramePadding.y), label);</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160; </div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    <span class="keywordflow">if</span> (!popup_open)</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160; </div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;    g.NextWindowData.Flags = backup_next_window_data_flags;</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    <span class="keywordflow">return</span> BeginComboPopup(popup_id, bb, flags);</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;}</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160; </div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;<span class="keywordtype">bool</span> ImGui::BeginComboPopup(ImGuiID popup_id, <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> &amp;bb, ImGuiComboFlags flags)</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;{</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;    <span class="keywordflow">if</span> (!IsPopupOpen(popup_id, ImGuiPopupFlags_None))</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;    {</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;        g.NextWindowData.ClearFlags();</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;    }</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160; </div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    <span class="comment">// Set popup size</span></div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    <span class="keywordtype">float</span> w = bb.GetWidth();</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    <span class="keywordflow">if</span> (g.NextWindowData.Flags &amp; ImGuiNextWindowDataFlags_HasSizeConstraint)</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    {</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;        g.NextWindowData.SizeConstraintRect.Min.x = ImMax(g.NextWindowData.SizeConstraintRect.Min.x, w);</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    }</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    {</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;        <span class="keywordflow">if</span> ((flags &amp; ImGuiComboFlags_HeightMask_) == 0)</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;            flags |= ImGuiComboFlags_HeightRegular;</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;        IM_ASSERT(ImIsPowerOfTwo(flags &amp; ImGuiComboFlags_HeightMask_)); <span class="comment">// Only one</span></div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;        <span class="keywordtype">int</span> popup_max_height_in_items = -1;</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;        <span class="keywordflow">if</span> (flags &amp; ImGuiComboFlags_HeightRegular)     popup_max_height_in_items = 8;</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags &amp; ImGuiComboFlags_HeightSmall)  popup_max_height_in_items = 4;</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags &amp; ImGuiComboFlags_HeightLarge)  popup_max_height_in_items = 20;</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;        SetNextWindowSizeConstraints(<a class="code" href="struct_im_vec2.html">ImVec2</a>(w, 0.0f), <a class="code" href="struct_im_vec2.html">ImVec2</a>(FLT_MAX, CalcMaxPopupHeightFromItemCount(popup_max_height_in_items)));</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    }</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160; </div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    <span class="comment">// This is essentially a specialized version of BeginPopupEx()</span></div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    <span class="keywordtype">char</span> name[16];</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    ImFormatString(name, IM_ARRAYSIZE(name), <span class="stringliteral">&quot;##Combo_%02d&quot;</span>, g.BeginPopupStack.Size); <span class="comment">// Recycle windows based on depth</span></div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160; </div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    <span class="comment">// Set position given a custom constraint (peak into expected window size so we can position it)</span></div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    <span class="comment">// FIXME: This might be easier to express with an hypothetical SetNextWindowPosConstraints() function?</span></div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    <span class="comment">// FIXME: This might be moved to Begin() or at least around the same spot where Tooltips and other Popups are calling FindBestWindowPosForPopupEx()?</span></div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *popup_window = FindWindowByName(name))</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;        <span class="keywordflow">if</span> (popup_window-&gt;WasActive)</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;        {</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;            <span class="comment">// Always override &#39;AutoPosLastDirection&#39; to not leave a chance for a past value to affect us.</span></div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;            <a class="code" href="struct_im_vec2.html">ImVec2</a> size_expected = CalcWindowNextAutoFitSize(popup_window);</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;            popup_window-&gt;AutoPosLastDirection = (flags &amp; ImGuiComboFlags_PopupAlignLeft) ? ImGuiDir_Left : ImGuiDir_Down; <span class="comment">// Left = &quot;Below, Toward Left&quot;, Down = &quot;Below, Toward Right (default)&quot;</span></div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;            <a class="code" href="struct_im_rect.html">ImRect</a> r_outer = GetPopupAllowedExtentRect(popup_window);</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;            <a class="code" href="struct_im_vec2.html">ImVec2</a> pos = FindBestWindowPosForPopupEx(bb.GetBL(), size_expected, &amp;popup_window-&gt;AutoPosLastDirection, r_outer, bb, ImGuiPopupPositionPolicy_ComboBox);</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;            SetNextWindowPos(pos);</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;        }</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160; </div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    <span class="comment">// We don&#39;t use BeginPopupEx() solely because we have a custom name string, which we could make an argument to BeginPopupEx()</span></div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;    ImGuiWindowFlags window_flags = ImGuiWindowFlags_AlwaysAutoResize | ImGuiWindowFlags_Popup | ImGuiWindowFlags_NoTitleBar | ImGuiWindowFlags_NoResize | ImGuiWindowFlags_NoSavedSettings | ImGuiWindowFlags_NoMove;</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    PushStyleVar(ImGuiStyleVar_WindowPadding, <a class="code" href="struct_im_vec2.html">ImVec2</a>(g.Style.FramePadding.x, g.Style.WindowPadding.y)); <span class="comment">// Horizontally align ourselves with the framed text</span></div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;    <span class="keywordtype">bool</span> ret = Begin(name, NULL, window_flags);</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;    PopStyleVar();</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;    <span class="keywordflow">if</span> (!ret)</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;    {</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;        EndPopup();</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;        IM_ASSERT(0);   <span class="comment">// This should never happen as we tested for IsPopupOpen() above</span></div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;    }</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;}</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160; </div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;<span class="keywordtype">void</span> ImGui::EndCombo()</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;{</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;    EndPopup();</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;}</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160; </div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;<span class="comment">// Call directly after the BeginCombo/EndCombo block. The preview is designed to only host non-interactive elements</span></div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;<span class="comment">// (Experimental, see GitHub issues: #1658, #4168)</span></div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;<span class="keywordtype">bool</span> ImGui::BeginComboPreview()</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;{</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = g.CurrentWindow;</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    <a class="code" href="struct_im_gui_combo_preview_data.html">ImGuiComboPreviewData</a> *preview_data = &amp;g.ComboPreviewData;</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160; </div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems || !window-&gt;ClipRect.Overlaps(g.LastItemData.Rect)) <span class="comment">// FIXME: Because we don&#39;t have a ImGuiItemStatusFlags_Visible flag to test last ItemAdd() result</span></div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;    IM_ASSERT(g.LastItemData.Rect.Min.x == preview_data-&gt;PreviewRect.Min.x &amp;&amp; g.LastItemData.Rect.Min.y == preview_data-&gt;PreviewRect.Min.y); <span class="comment">// Didn&#39;t call after BeginCombo/EndCombo block or forgot to pass ImGuiComboFlags_CustomPreview flag?</span></div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;    <span class="keywordflow">if</span> (!window-&gt;ClipRect.Contains(preview_data-&gt;PreviewRect)) <span class="comment">// Narrower test (optional)</span></div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160; </div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    <span class="comment">// FIXME: This could be contained in a PushWorkRect() api</span></div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    preview_data-&gt;BackupCursorPos = window-&gt;DC.CursorPos;</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    preview_data-&gt;BackupCursorMaxPos = window-&gt;DC.CursorMaxPos;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    preview_data-&gt;BackupCursorPosPrevLine = window-&gt;DC.CursorPosPrevLine;</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    preview_data-&gt;BackupPrevLineTextBaseOffset = window-&gt;DC.PrevLineTextBaseOffset;</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;    preview_data-&gt;BackupLayout = window-&gt;DC.LayoutType;</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    window-&gt;DC.CursorPos = preview_data-&gt;PreviewRect.Min + g.Style.FramePadding;</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;    window-&gt;DC.CursorMaxPos = window-&gt;DC.CursorPos;</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;    window-&gt;DC.LayoutType = ImGuiLayoutType_Horizontal;</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    PushClipRect(preview_data-&gt;PreviewRect.Min, preview_data-&gt;PreviewRect.Max, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160; </div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;}</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160; </div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;<span class="keywordtype">void</span> ImGui::EndComboPreview()</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;{</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = g.CurrentWindow;</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    <a class="code" href="struct_im_gui_combo_preview_data.html">ImGuiComboPreviewData</a> *preview_data = &amp;g.ComboPreviewData;</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160; </div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    <span class="comment">// FIXME: Using CursorMaxPos approximation instead of correct AABB which we will store in ImDrawCmd in the future</span></div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    <a class="code" href="struct_im_draw_list.html">ImDrawList</a> *draw_list = window-&gt;DrawList;</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    <span class="keywordflow">if</span> (window-&gt;DC.CursorMaxPos.x &lt; preview_data-&gt;PreviewRect.Max.x &amp;&amp; window-&gt;DC.CursorMaxPos.y &lt; preview_data-&gt;PreviewRect.Max.y)</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;        <span class="keywordflow">if</span> (draw_list-&gt;CmdBuffer.Size &gt; 1) <span class="comment">// Unlikely case that the PushClipRect() didn&#39;t create a command</span></div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;        {</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;            draw_list-&gt;_CmdHeader.ClipRect = draw_list-&gt;CmdBuffer[draw_list-&gt;CmdBuffer.Size - 1].ClipRect = draw_list-&gt;CmdBuffer[draw_list-&gt;CmdBuffer.Size - 2].ClipRect;</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;            draw_list-&gt;_TryMergeDrawCmds();</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;        }</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    PopClipRect();</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    window-&gt;DC.CursorPos = preview_data-&gt;BackupCursorPos;</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    window-&gt;DC.CursorMaxPos = ImMax(window-&gt;DC.CursorMaxPos, preview_data-&gt;BackupCursorMaxPos);</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    window-&gt;DC.CursorPosPrevLine = preview_data-&gt;BackupCursorPosPrevLine;</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    window-&gt;DC.PrevLineTextBaseOffset = preview_data-&gt;BackupPrevLineTextBaseOffset;</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    window-&gt;DC.LayoutType = preview_data-&gt;BackupLayout;</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    preview_data-&gt;PreviewRect = <a class="code" href="struct_im_rect.html">ImRect</a>();</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;}</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160; </div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;<span class="comment">// Getter for the old Combo() API: const char*[]</span></div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> Items_ArrayGetter(<span class="keywordtype">void</span> *data, <span class="keywordtype">int</span> idx, <span class="keyword">const</span> <span class="keywordtype">char</span> **out_text)</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;{</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> *items = (<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> *)data;</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    <span class="keywordflow">if</span> (out_text)</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;        *out_text = items[idx];</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;}</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160; </div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;<span class="comment">// Getter for the old Combo() API: &quot;item1\0item2\0item3\0&quot;</span></div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> Items_SingleStringGetter(<span class="keywordtype">void</span> *data, <span class="keywordtype">int</span> idx, <span class="keyword">const</span> <span class="keywordtype">char</span> **out_text)</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;{</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    <span class="comment">// FIXME-OPT: we could pre-compute the indices to fasten this. But only 1 active combo means the waste is limited.</span></div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *items_separated_by_zeros = (<span class="keyword">const</span> <span class="keywordtype">char</span> *)data;</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    <span class="keywordtype">int</span> items_count = 0;</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *p = items_separated_by_zeros;</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;    <span class="keywordflow">while</span> (*p)</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    {</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;        <span class="keywordflow">if</span> (idx == items_count)</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;        p += strlen(p) + 1;</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;        items_count++;</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;    }</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    <span class="keywordflow">if</span> (!*p)</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    <span class="keywordflow">if</span> (out_text)</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;        *out_text = p;</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;}</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160; </div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;<span class="comment">// Old API, prefer using BeginCombo() nowadays if you can.</span></div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;<span class="keywordtype">bool</span> ImGui::Combo(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">int</span> *current_item, <span class="keywordtype">bool</span> (*items_getter)(<span class="keywordtype">void</span> *, <span class="keywordtype">int</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> **), <span class="keywordtype">void</span> *data, <span class="keywordtype">int</span> items_count, <span class="keywordtype">int</span> popup_max_height_in_items)</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;{</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160; </div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    <span class="comment">// Call the getter to obtain the preview string which is a parameter to BeginCombo()</span></div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *preview_value = NULL;</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    <span class="keywordflow">if</span> (*current_item &gt;= 0 &amp;&amp; *current_item &lt; items_count)</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;        items_getter(data, *current_item, &amp;preview_value);</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160; </div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;    <span class="comment">// The old Combo() API exposed &quot;popup_max_height_in_items&quot;. The new more general BeginCombo() API doesn&#39;t have/need it, but we emulate it here.</span></div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;    <span class="keywordflow">if</span> (popup_max_height_in_items != -1 &amp;&amp; !(g.NextWindowData.Flags &amp; ImGuiNextWindowDataFlags_HasSizeConstraint))</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;        SetNextWindowSizeConstraints(<a class="code" href="struct_im_vec2.html">ImVec2</a>(0, 0), <a class="code" href="struct_im_vec2.html">ImVec2</a>(FLT_MAX, CalcMaxPopupHeightFromItemCount(popup_max_height_in_items)));</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160; </div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    <span class="keywordflow">if</span> (!BeginCombo(label, preview_value, ImGuiComboFlags_None))</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160; </div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <span class="comment">// Display items</span></div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    <span class="comment">// FIXME-OPT: Use clipper (but we need to disable it on the appearing frame to make sure our call to SetItemDefaultFocus() is processed)</span></div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;    <span class="keywordtype">bool</span> value_changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; items_count; i++)</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    {</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;        PushID((<span class="keywordtype">void</span> *)(intptr_t)i);</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> item_selected = (i == *current_item);</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *item_text;</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;        <span class="keywordflow">if</span> (!items_getter(data, i, &amp;item_text))</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;            item_text = <span class="stringliteral">&quot;*Unknown item*&quot;</span>;</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;        <span class="keywordflow">if</span> (Selectable(item_text, item_selected))</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;        {</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;            value_changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;            *current_item = i;</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;        }</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;        <span class="keywordflow">if</span> (item_selected)</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;            SetItemDefaultFocus();</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;        PopID();</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    }</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160; </div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    EndCombo();</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160; </div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;    <span class="keywordflow">if</span> (value_changed)</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;        MarkItemEdited(g.LastItemData.ID);</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160; </div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    <span class="keywordflow">return</span> value_changed;</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;}</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160; </div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;<span class="comment">// Combo box helper allowing to pass an array of strings.</span></div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;<span class="keywordtype">bool</span> ImGui::Combo(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">int</span> *current_item, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> items[], <span class="keywordtype">int</span> items_count, <span class="keywordtype">int</span> height_in_items)</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;{</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> value_changed = Combo(label, current_item, Items_ArrayGetter, (<span class="keywordtype">void</span> *)items, items_count, height_in_items);</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;    <span class="keywordflow">return</span> value_changed;</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;}</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160; </div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;<span class="comment">// Combo box helper allowing to pass all items in a single string literal holding multiple zero-terminated items &quot;item1\0item2\0&quot;</span></div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;<span class="keywordtype">bool</span> ImGui::Combo(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">int</span> *current_item, <span class="keyword">const</span> <span class="keywordtype">char</span> *items_separated_by_zeros, <span class="keywordtype">int</span> height_in_items)</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;{</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    <span class="keywordtype">int</span> items_count = 0;</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *p = items_separated_by_zeros;       <span class="comment">// FIXME-OPT: Avoid computing this, or at least only when combo is open</span></div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;    <span class="keywordflow">while</span> (*p)</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    {</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;        p += strlen(p) + 1;</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;        items_count++;</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    }</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    <span class="keywordtype">bool</span> value_changed = Combo(label, current_item, Items_SingleStringGetter, (<span class="keywordtype">void</span> *)items_separated_by_zeros, items_count, height_in_items);</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;    <span class="keywordflow">return</span> value_changed;</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;}</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160; </div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;<span class="comment">// [SECTION] Data Type and Data Formatting Helpers [Internal]</span></div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;<span class="comment">// - PatchFormatStringFloatToInt()</span></div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;<span class="comment">// - DataTypeGetInfo()</span></div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;<span class="comment">// - DataTypeFormatString()</span></div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;<span class="comment">// - DataTypeApplyOp()</span></div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;<span class="comment">// - DataTypeApplyOpFromText()</span></div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;<span class="comment">// - DataTypeClamp()</span></div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;<span class="comment">// - GetMinimumStepAtDecimalPrecision</span></div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;<span class="comment">// - RoundScalarWithFormat&lt;&gt;()</span></div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160; </div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_im_gui_data_type_info.html">ImGuiDataTypeInfo</a> GDataTypeInfo[] =</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;{</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    { <span class="keyword">sizeof</span>(char),             <span class="stringliteral">&quot;S8&quot;</span>,   <span class="stringliteral">&quot;%d&quot;</span>,   <span class="stringliteral">&quot;%d&quot;</span>    },  <span class="comment">// ImGuiDataType_S8</span></div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    { <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> char),    <span class="stringliteral">&quot;U8&quot;</span>,   <span class="stringliteral">&quot;%u&quot;</span>,   <span class="stringliteral">&quot;%u&quot;</span>    },</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    { <span class="keyword">sizeof</span>(short),            <span class="stringliteral">&quot;S16&quot;</span>,  <span class="stringliteral">&quot;%d&quot;</span>,   <span class="stringliteral">&quot;%d&quot;</span>    },  <span class="comment">// ImGuiDataType_S16</span></div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    { <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> short),   <span class="stringliteral">&quot;U16&quot;</span>,  <span class="stringliteral">&quot;%u&quot;</span>,   <span class="stringliteral">&quot;%u&quot;</span>    },</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    { <span class="keyword">sizeof</span>(int),              <span class="stringliteral">&quot;S32&quot;</span>,  <span class="stringliteral">&quot;%d&quot;</span>,   <span class="stringliteral">&quot;%d&quot;</span>    },  <span class="comment">// ImGuiDataType_S32</span></div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;    { <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> int),     <span class="stringliteral">&quot;U32&quot;</span>,  <span class="stringliteral">&quot;%u&quot;</span>,   <span class="stringliteral">&quot;%u&quot;</span>    },</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;<span class="preprocessor">#ifdef _MSC_VER</span></div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;    { <span class="keyword">sizeof</span>(ImS64),            <span class="stringliteral">&quot;S64&quot;</span>,  <span class="stringliteral">&quot;%I64d&quot;</span>,<span class="stringliteral">&quot;%I64d&quot;</span> },  <span class="comment">// ImGuiDataType_S64</span></div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;    { <span class="keyword">sizeof</span>(ImU64),            <span class="stringliteral">&quot;U64&quot;</span>,  <span class="stringliteral">&quot;%I64u&quot;</span>,<span class="stringliteral">&quot;%I64u&quot;</span> },</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;    { <span class="keyword">sizeof</span>(ImS64),            <span class="stringliteral">&quot;S64&quot;</span>,  <span class="stringliteral">&quot;%lld&quot;</span>, <span class="stringliteral">&quot;%lld&quot;</span>  },  <span class="comment">// ImGuiDataType_S64</span></div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;    { <span class="keyword">sizeof</span>(ImU64),            <span class="stringliteral">&quot;U64&quot;</span>,  <span class="stringliteral">&quot;%llu&quot;</span>, <span class="stringliteral">&quot;%llu&quot;</span>  },</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    { <span class="keyword">sizeof</span>(float),            <span class="stringliteral">&quot;float&quot;</span>, <span class="stringliteral">&quot;%.3f&quot;</span>,<span class="stringliteral">&quot;%f&quot;</span>    },  <span class="comment">// ImGuiDataType_Float (float are promoted to double in va_arg)</span></div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    { <span class="keyword">sizeof</span>(double),           <span class="stringliteral">&quot;double&quot;</span>,<span class="stringliteral">&quot;%f&quot;</span>,  <span class="stringliteral">&quot;%lf&quot;</span>   },  <span class="comment">// ImGuiDataType_Double</span></div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;};</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;IM_STATIC_ASSERT(IM_ARRAYSIZE(GDataTypeInfo) == ImGuiDataType_COUNT);</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160; </div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;<span class="comment">// FIXME-LEGACY: Prior to 1.61 our DragInt() function internally used floats and because of this the compile-time default value for format was &quot;%.0f&quot;.</span></div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;<span class="comment">// Even though we changed the compile-time default, we expect users to have carried %f around, which would break the display of DragInt() calls.</span></div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;<span class="comment">// To honor backward compatibility we are rewriting the format string, unless IMGUI_DISABLE_OBSOLETE_FUNCTIONS is enabled. What could possibly go wrong?!</span></div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *PatchFormatStringFloatToInt(<span class="keyword">const</span> <span class="keywordtype">char</span> *fmt)</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;{</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    <span class="keywordflow">if</span> (fmt[0] == <span class="charliteral">&#39;%&#39;</span> &amp;&amp; fmt[1] == <span class="charliteral">&#39;.&#39;</span> &amp;&amp; fmt[2] == <span class="charliteral">&#39;0&#39;</span> &amp;&amp; fmt[3] == <span class="charliteral">&#39;f&#39;</span> &amp;&amp; fmt[4] == 0) <span class="comment">// Fast legacy path for &quot;%.0f&quot; which is expected to be the most common case.</span></div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;%d&quot;</span>;</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt_start = ImParseFormatFindStart(fmt);    <span class="comment">// Find % (if any, and ignore %%)</span></div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt_end = ImParseFormatFindEnd(fmt_start);  <span class="comment">// Find end of format specifier, which itself is an exercise of confidence/recklessness (because snprintf is dependent on libc or user).</span></div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;    <span class="keywordflow">if</span> (fmt_end &gt; fmt_start &amp;&amp; fmt_end[-1] == <span class="charliteral">&#39;f&#39;</span>)</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;    {</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;<span class="preprocessor">#ifndef IMGUI_DISABLE_OBSOLETE_FUNCTIONS</span></div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;        <span class="keywordflow">if</span> (fmt_start == fmt &amp;&amp; fmt_end[0] == 0)</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;            <span class="keywordflow">return</span> <span class="stringliteral">&quot;%d&quot;</span>;</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;        <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;        ImFormatString(g.TempBuffer, IM_ARRAYSIZE(g.TempBuffer), <span class="stringliteral">&quot;%.*s%%d%s&quot;</span>, (<span class="keywordtype">int</span>)(fmt_start - fmt), fmt, fmt_end); <span class="comment">// Honor leading and trailing decorations, but lose alignment/precision.</span></div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;        <span class="keywordflow">return</span> g.TempBuffer;</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;        IM_ASSERT(0 &amp;&amp; <span class="stringliteral">&quot;DragInt(): Invalid format string!&quot;</span>); <span class="comment">// Old versions used a default parameter of &quot;%.0f&quot;, please replace with e.g. &quot;%d&quot;</span></div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    }</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    <span class="keywordflow">return</span> fmt;</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;}</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160; </div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;<span class="keyword">const</span> <a class="code" href="struct_im_gui_data_type_info.html">ImGuiDataTypeInfo</a> *ImGui::DataTypeGetInfo(ImGuiDataType data_type)</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;{</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;    IM_ASSERT(data_type &gt;= 0 &amp;&amp; data_type &lt; ImGuiDataType_COUNT);</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;    <span class="keywordflow">return</span> &amp;GDataTypeInfo[data_type];</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;}</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160; </div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;<span class="keywordtype">int</span> ImGui::DataTypeFormatString(<span class="keywordtype">char</span> *buf, <span class="keywordtype">int</span> buf_size, ImGuiDataType data_type, <span class="keyword">const</span> <span class="keywordtype">void</span> *p_data, <span class="keyword">const</span> <span class="keywordtype">char</span> *format)</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;{</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;    <span class="comment">// Signedness doesn&#39;t matter when pushing integer arguments</span></div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;    <span class="keywordflow">if</span> (data_type == ImGuiDataType_S32 || data_type == ImGuiDataType_U32)</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;        <span class="keywordflow">return</span> ImFormatString(buf, buf_size, format, *(<span class="keyword">const</span> ImU32 *)p_data);</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;    <span class="keywordflow">if</span> (data_type == ImGuiDataType_S64 || data_type == ImGuiDataType_U64)</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;        <span class="keywordflow">return</span> ImFormatString(buf, buf_size, format, *(<span class="keyword">const</span> ImU64 *)p_data);</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    <span class="keywordflow">if</span> (data_type == ImGuiDataType_Float)</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;        <span class="keywordflow">return</span> ImFormatString(buf, buf_size, format, *(<span class="keyword">const</span> <span class="keywordtype">float</span> *)p_data);</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    <span class="keywordflow">if</span> (data_type == ImGuiDataType_Double)</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;        <span class="keywordflow">return</span> ImFormatString(buf, buf_size, format, *(<span class="keyword">const</span> <span class="keywordtype">double</span> *)p_data);</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    <span class="keywordflow">if</span> (data_type == ImGuiDataType_S8)</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;        <span class="keywordflow">return</span> ImFormatString(buf, buf_size, format, *(<span class="keyword">const</span> ImS8 *)p_data);</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;    <span class="keywordflow">if</span> (data_type == ImGuiDataType_U8)</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;        <span class="keywordflow">return</span> ImFormatString(buf, buf_size, format, *(<span class="keyword">const</span> ImU8 *)p_data);</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;    <span class="keywordflow">if</span> (data_type == ImGuiDataType_S16)</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;        <span class="keywordflow">return</span> ImFormatString(buf, buf_size, format, *(<span class="keyword">const</span> ImS16 *)p_data);</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;    <span class="keywordflow">if</span> (data_type == ImGuiDataType_U16)</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;        <span class="keywordflow">return</span> ImFormatString(buf, buf_size, format, *(<span class="keyword">const</span> ImU16 *)p_data);</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;    IM_ASSERT(0);</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;}</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160; </div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;<span class="keywordtype">void</span> ImGui::DataTypeApplyOp(ImGuiDataType data_type, <span class="keywordtype">int</span> op, <span class="keywordtype">void</span> *output, <span class="keyword">const</span> <span class="keywordtype">void</span> *arg1, <span class="keyword">const</span> <span class="keywordtype">void</span> *arg2)</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;{</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;    IM_ASSERT(op == <span class="charliteral">&#39;+&#39;</span> || op == <span class="charliteral">&#39;-&#39;</span>);</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    <span class="keywordflow">switch</span> (data_type)</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    {</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_S8:</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;        <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;+&#39;</span>)</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;        {</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;            *(ImS8 *)output = ImAddClampOverflow(*(<span class="keyword">const</span> ImS8 *)arg1, *(<span class="keyword">const</span> ImS8 *)arg2, IM_S8_MIN, IM_S8_MAX);</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;        }</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;        <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;-&#39;</span>)</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;        {</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;            *(ImS8 *)output = ImSubClampOverflow(*(<span class="keyword">const</span> ImS8 *)arg1, *(<span class="keyword">const</span> ImS8 *)arg2, IM_S8_MIN, IM_S8_MAX);</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;        }</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_U8:</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;        <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;+&#39;</span>)</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;        {</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;            *(ImU8 *)output = ImAddClampOverflow(*(<span class="keyword">const</span> ImU8 *)arg1, *(<span class="keyword">const</span> ImU8 *)arg2, IM_U8_MIN, IM_U8_MAX);</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;        }</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;        <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;-&#39;</span>)</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;        {</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;            *(ImU8 *)output = ImSubClampOverflow(*(<span class="keyword">const</span> ImU8 *)arg1, *(<span class="keyword">const</span> ImU8 *)arg2, IM_U8_MIN, IM_U8_MAX);</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;        }</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_S16:</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;        <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;+&#39;</span>)</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;        {</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;            *(ImS16 *)output = ImAddClampOverflow(*(<span class="keyword">const</span> ImS16 *)arg1, *(<span class="keyword">const</span> ImS16 *)arg2, IM_S16_MIN, IM_S16_MAX);</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;        }</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;        <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;-&#39;</span>)</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;        {</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;            *(ImS16 *)output = ImSubClampOverflow(*(<span class="keyword">const</span> ImS16 *)arg1, *(<span class="keyword">const</span> ImS16 *)arg2, IM_S16_MIN, IM_S16_MAX);</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;        }</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_U16:</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;        <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;+&#39;</span>)</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;        {</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;            *(ImU16 *)output = ImAddClampOverflow(*(<span class="keyword">const</span> ImU16 *)arg1, *(<span class="keyword">const</span> ImU16 *)arg2, IM_U16_MIN, IM_U16_MAX);</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;        }</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;        <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;-&#39;</span>)</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;        {</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;            *(ImU16 *)output = ImSubClampOverflow(*(<span class="keyword">const</span> ImU16 *)arg1, *(<span class="keyword">const</span> ImU16 *)arg2, IM_U16_MIN, IM_U16_MAX);</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;        }</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_S32:</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;        <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;+&#39;</span>)</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;        {</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;            *(ImS32 *)output = ImAddClampOverflow(*(<span class="keyword">const</span> ImS32 *)arg1, *(<span class="keyword">const</span> ImS32 *)arg2, IM_S32_MIN, IM_S32_MAX);</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;        }</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;        <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;-&#39;</span>)</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;        {</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;            *(ImS32 *)output = ImSubClampOverflow(*(<span class="keyword">const</span> ImS32 *)arg1, *(<span class="keyword">const</span> ImS32 *)arg2, IM_S32_MIN, IM_S32_MAX);</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;        }</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_U32:</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;        <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;+&#39;</span>)</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;        {</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;            *(ImU32 *)output = ImAddClampOverflow(*(<span class="keyword">const</span> ImU32 *)arg1, *(<span class="keyword">const</span> ImU32 *)arg2, IM_U32_MIN, IM_U32_MAX);</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;        }</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;        <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;-&#39;</span>)</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;        {</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;            *(ImU32 *)output = ImSubClampOverflow(*(<span class="keyword">const</span> ImU32 *)arg1, *(<span class="keyword">const</span> ImU32 *)arg2, IM_U32_MIN, IM_U32_MAX);</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;        }</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_S64:</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;        <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;+&#39;</span>)</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;        {</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;            *(ImS64 *)output = ImAddClampOverflow(*(<span class="keyword">const</span> ImS64 *)arg1, *(<span class="keyword">const</span> ImS64 *)arg2, IM_S64_MIN, IM_S64_MAX);</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;        }</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;        <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;-&#39;</span>)</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;        {</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;            *(ImS64 *)output = ImSubClampOverflow(*(<span class="keyword">const</span> ImS64 *)arg1, *(<span class="keyword">const</span> ImS64 *)arg2, IM_S64_MIN, IM_S64_MAX);</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;        }</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_U64:</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;        <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;+&#39;</span>)</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;        {</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;            *(ImU64 *)output = ImAddClampOverflow(*(<span class="keyword">const</span> ImU64 *)arg1, *(<span class="keyword">const</span> ImU64 *)arg2, IM_U64_MIN, IM_U64_MAX);</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;        }</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;        <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;-&#39;</span>)</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;        {</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;            *(ImU64 *)output = ImSubClampOverflow(*(<span class="keyword">const</span> ImU64 *)arg1, *(<span class="keyword">const</span> ImU64 *)arg2, IM_U64_MIN, IM_U64_MAX);</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;        }</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_Float:</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;        <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;+&#39;</span>)</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;        {</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;            *(<span class="keywordtype">float</span> *)output = *(<span class="keyword">const</span> <span class="keywordtype">float</span> *)arg1 + *(<span class="keyword">const</span> <span class="keywordtype">float</span> *)arg2;</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;        }</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;        <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;-&#39;</span>)</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;        {</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;            *(<span class="keywordtype">float</span> *)output = *(<span class="keyword">const</span> <span class="keywordtype">float</span> *)arg1 - *(<span class="keyword">const</span> <span class="keywordtype">float</span> *)arg2;</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;        }</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_Double:</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;        <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;+&#39;</span>)</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;        {</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;            *(<span class="keywordtype">double</span> *)output = *(<span class="keyword">const</span> <span class="keywordtype">double</span> *)arg1 + *(<span class="keyword">const</span> <span class="keywordtype">double</span> *)arg2;</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;        }</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;        <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;-&#39;</span>)</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;        {</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;            *(<span class="keywordtype">double</span> *)output = *(<span class="keyword">const</span> <span class="keywordtype">double</span> *)arg1 - *(<span class="keyword">const</span> <span class="keywordtype">double</span> *)arg2;</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;        }</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_COUNT: <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    }</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;    IM_ASSERT(0);</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;}</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160; </div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;<span class="comment">// User can input math operators (e.g. +100) to edit a numerical values.</span></div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;<span class="comment">// NB: This is _not_ a full expression evaluator. We should probably add one and replace this dumb mess..</span></div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;<span class="keywordtype">bool</span> ImGui::DataTypeApplyOpFromText(<span class="keyword">const</span> <span class="keywordtype">char</span> *buf, <span class="keyword">const</span> <span class="keywordtype">char</span> *initial_value_buf, ImGuiDataType data_type, <span class="keywordtype">void</span> *p_data, <span class="keyword">const</span> <span class="keywordtype">char</span> *format)</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;{</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;    <span class="keywordflow">while</span> (ImCharIsBlankA(*buf))</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;        buf++;</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160; </div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;    <span class="comment">// We don&#39;t support &#39;-&#39; op because it would conflict with inputing negative value.</span></div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;    <span class="comment">// Instead you can use +-100 to subtract from an existing value</span></div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;    <span class="keywordtype">char</span> op = buf[0];</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;+&#39;</span> || op == <span class="charliteral">&#39;*&#39;</span> || op == <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;    {</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;        buf++;</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;        <span class="keywordflow">while</span> (ImCharIsBlankA(*buf))</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;            buf++;</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;    }</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;    {</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;        op = 0;</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;    }</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;    <span class="keywordflow">if</span> (!buf[0])</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160; </div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;    <span class="comment">// Copy the value in an opaque buffer so we can compare at the end of the function if it changed at all.</span></div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_gui_data_type_info.html">ImGuiDataTypeInfo</a> *type_info = DataTypeGetInfo(data_type);</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;    <a class="code" href="struct_im_gui_data_type_temp_storage.html">ImGuiDataTypeTempStorage</a> data_backup;</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;    memcpy(&amp;data_backup, p_data, type_info-&gt;Size);</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160; </div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;    <span class="keywordflow">if</span> (format == NULL)</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;        format = type_info-&gt;ScanFmt;</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160; </div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    <span class="comment">// FIXME-LEGACY: The aim is to remove those operators and write a proper expression evaluator at some point..</span></div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;    <span class="keywordtype">int</span> arg1i = 0;</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;    <span class="keywordflow">if</span> (data_type == ImGuiDataType_S32)</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;    {</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;        <span class="keywordtype">int</span> *v = (<span class="keywordtype">int</span> *)p_data;</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;        <span class="keywordtype">int</span> arg0i = *v;</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;        <span class="keywordtype">float</span> arg1f = 0.0f;</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;        <span class="keywordflow">if</span> (op &amp;&amp; sscanf(initial_value_buf, format, &amp;arg0i) &lt; 1)</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;        <span class="comment">// Store operand in a float so we can use fractional value for multipliers (*1.1), but constant always parsed as integer so we can fit big integers (e.g. 2000000003) past float precision</span></div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;        <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;+&#39;</span>)</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;        {</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;            <span class="keywordflow">if</span> (sscanf(buf, <span class="stringliteral">&quot;%d&quot;</span>, &amp;arg1i)) *v = (<span class="keywordtype">int</span>)(arg0i + arg1i);</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;        }                   <span class="comment">// Add (use &quot;+-&quot; to subtract)</span></div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;*&#39;</span>)</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;        {</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;            <span class="keywordflow">if</span> (sscanf(buf, <span class="stringliteral">&quot;%f&quot;</span>, &amp;arg1f)) *v = (<span class="keywordtype">int</span>)(arg0i * arg1f);</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;        }                   <span class="comment">// Multiply</span></div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;        {</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;            <span class="keywordflow">if</span> (sscanf(buf, <span class="stringliteral">&quot;%f&quot;</span>, &amp;arg1f) &amp;&amp; arg1f != 0.0f) *v = (<span class="keywordtype">int</span>)(arg0i / arg1f);</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;        }  <span class="comment">// Divide</span></div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;        {</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;            <span class="keywordflow">if</span> (sscanf(buf, format, &amp;arg1i) == 1) *v = arg1i;</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;        }                           <span class="comment">// Assign constant</span></div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;    }</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (data_type == ImGuiDataType_Float)</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;    {</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;        <span class="comment">// For floats we have to ignore format with precision (e.g. &quot;%.2f&quot;) because sscanf doesn&#39;t take them in</span></div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;        format = <span class="stringliteral">&quot;%f&quot;</span>;</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;        <span class="keywordtype">float</span> *v = (<span class="keywordtype">float</span> *)p_data;</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;        <span class="keywordtype">float</span> arg0f = *v, arg1f = 0.0f;</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;        <span class="keywordflow">if</span> (op &amp;&amp; sscanf(initial_value_buf, format, &amp;arg0f) &lt; 1)</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;        <span class="keywordflow">if</span> (sscanf(buf, format, &amp;arg1f) &lt; 1)</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;        <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;+&#39;</span>)</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;        {</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;            *v = arg0f + arg1f;</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;        }                    <span class="comment">// Add (use &quot;+-&quot; to subtract)</span></div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;*&#39;</span>)</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;        {</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;            *v = arg0f * arg1f;</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;        }                    <span class="comment">// Multiply</span></div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;        {</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;            <span class="keywordflow">if</span> (arg1f != 0.0f) *v = arg0f / arg1f;</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;        } <span class="comment">// Divide</span></div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;        {</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;            *v = arg1f;</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;        }                            <span class="comment">// Assign constant</span></div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;    }</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (data_type == ImGuiDataType_Double)</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;    {</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;        format = <span class="stringliteral">&quot;%lf&quot;</span>; <span class="comment">// scanf differentiate float/double unlike printf which forces everything to double because of ellipsis</span></div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;        <span class="keywordtype">double</span> *v = (<span class="keywordtype">double</span> *)p_data;</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;        <span class="keywordtype">double</span> arg0f = *v, arg1f = 0.0;</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;        <span class="keywordflow">if</span> (op &amp;&amp; sscanf(initial_value_buf, format, &amp;arg0f) &lt; 1)</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;        <span class="keywordflow">if</span> (sscanf(buf, format, &amp;arg1f) &lt; 1)</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;        <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;+&#39;</span>)</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;        {</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;            *v = arg0f + arg1f;</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;        }                    <span class="comment">// Add (use &quot;+-&quot; to subtract)</span></div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;*&#39;</span>)</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;        {</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;            *v = arg0f * arg1f;</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;        }                    <span class="comment">// Multiply</span></div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;        {</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;            <span class="keywordflow">if</span> (arg1f != 0.0f) *v = arg0f / arg1f;</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;        } <span class="comment">// Divide</span></div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;        {</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;            *v = arg1f;</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;        }                            <span class="comment">// Assign constant</span></div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;    }</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (data_type == ImGuiDataType_U32 || data_type == ImGuiDataType_S64 || data_type == ImGuiDataType_U64)</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;    {</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;        <span class="comment">// All other types assign constant</span></div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;        <span class="comment">// We don&#39;t bother handling support for legacy operators since they are a little too crappy. Instead we will later implement a proper expression evaluator in the future.</span></div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;        <span class="keywordflow">if</span> (sscanf(buf, format, p_data) &lt; 1)</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;    }</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;    {</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;        <span class="comment">// Small types need a 32-bit buffer to receive the result from scanf()</span></div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;        <span class="keywordtype">int</span> v32;</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;        <span class="keywordflow">if</span> (sscanf(buf, format, &amp;v32) &lt; 1)</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;        <span class="keywordflow">if</span> (data_type == ImGuiDataType_S8)</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;            *(ImS8 *)p_data = (ImS8)ImClamp(v32, (<span class="keywordtype">int</span>)IM_S8_MIN, (<span class="keywordtype">int</span>)IM_S8_MAX);</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (data_type == ImGuiDataType_U8)</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;            *(ImU8 *)p_data = (ImU8)ImClamp(v32, (<span class="keywordtype">int</span>)IM_U8_MIN, (<span class="keywordtype">int</span>)IM_U8_MAX);</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (data_type == ImGuiDataType_S16)</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;            *(ImS16 *)p_data = (ImS16)ImClamp(v32, (<span class="keywordtype">int</span>)IM_S16_MIN, (<span class="keywordtype">int</span>)IM_S16_MAX);</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (data_type == ImGuiDataType_U16)</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;            *(ImU16 *)p_data = (ImU16)ImClamp(v32, (<span class="keywordtype">int</span>)IM_U16_MIN, (<span class="keywordtype">int</span>)IM_U16_MAX);</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;            IM_ASSERT(0);</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;    }</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160; </div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;    <span class="keywordflow">return</span> memcmp(&amp;data_backup, p_data, type_info-&gt;Size) != 0;</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;}</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160; </div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> DataTypeCompareT(<span class="keyword">const</span> T *lhs, <span class="keyword">const</span> T *rhs)</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;{</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;    <span class="keywordflow">if</span> (*lhs &lt; *rhs) <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;    <span class="keywordflow">if</span> (*lhs &gt; *rhs) <span class="keywordflow">return</span> +1;</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;}</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160; </div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;<span class="keywordtype">int</span> ImGui::DataTypeCompare(ImGuiDataType data_type, <span class="keyword">const</span> <span class="keywordtype">void</span> *arg_1, <span class="keyword">const</span> <span class="keywordtype">void</span> *arg_2)</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;{</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;    <span class="keywordflow">switch</span> (data_type)</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;    {</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_S8:     <span class="keywordflow">return</span> DataTypeCompareT&lt;ImS8  &gt;((<span class="keyword">const</span> ImS8 *)arg_1, (<span class="keyword">const</span> ImS8 *)arg_2);</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_U8:     <span class="keywordflow">return</span> DataTypeCompareT&lt;ImU8  &gt;((<span class="keyword">const</span> ImU8 *)arg_1, (<span class="keyword">const</span> ImU8 *)arg_2);</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_S16:    <span class="keywordflow">return</span> DataTypeCompareT&lt;ImS16 &gt;((<span class="keyword">const</span> ImS16 *)arg_1, (<span class="keyword">const</span> ImS16 *)arg_2);</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_U16:    <span class="keywordflow">return</span> DataTypeCompareT&lt;ImU16 &gt;((<span class="keyword">const</span> ImU16 *)arg_1, (<span class="keyword">const</span> ImU16 *)arg_2);</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_S32:    <span class="keywordflow">return</span> DataTypeCompareT&lt;ImS32 &gt;((<span class="keyword">const</span> ImS32 *)arg_1, (<span class="keyword">const</span> ImS32 *)arg_2);</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_U32:    <span class="keywordflow">return</span> DataTypeCompareT&lt;ImU32 &gt;((<span class="keyword">const</span> ImU32 *)arg_1, (<span class="keyword">const</span> ImU32 *)arg_2);</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_S64:    <span class="keywordflow">return</span> DataTypeCompareT&lt;ImS64 &gt;((<span class="keyword">const</span> ImS64 *)arg_1, (<span class="keyword">const</span> ImS64 *)arg_2);</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_U64:    <span class="keywordflow">return</span> DataTypeCompareT&lt;ImU64 &gt;((<span class="keyword">const</span> ImU64 *)arg_1, (<span class="keyword">const</span> ImU64 *)arg_2);</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_Float:  <span class="keywordflow">return</span> DataTypeCompareT&lt;float &gt;((<span class="keyword">const</span> <span class="keywordtype">float</span> *)arg_1, (<span class="keyword">const</span> <span class="keywordtype">float</span> *)arg_2);</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_Double: <span class="keywordflow">return</span> DataTypeCompareT&lt;double&gt;((<span class="keyword">const</span> <span class="keywordtype">double</span> *)arg_1, (<span class="keyword">const</span> <span class="keywordtype">double</span> *)arg_2);</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_COUNT:  <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;    }</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;    IM_ASSERT(0);</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;}</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160; </div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> DataTypeClampT(T *v, <span class="keyword">const</span> T *v_min, <span class="keyword">const</span> T *v_max)</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;{</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;    <span class="comment">// Clamp, both sides are optional, return true if modified</span></div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;    <span class="keywordflow">if</span> (v_min &amp;&amp; *v &lt; *v_min)</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;    {</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;        *v = *v_min; <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;    }</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;    <span class="keywordflow">if</span> (v_max &amp;&amp; *v &gt; *v_max)</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;    {</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;        *v = *v_max; <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;    }</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;}</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160; </div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;<span class="keywordtype">bool</span> ImGui::DataTypeClamp(ImGuiDataType data_type, <span class="keywordtype">void</span> *p_data, <span class="keyword">const</span> <span class="keywordtype">void</span> *p_min, <span class="keyword">const</span> <span class="keywordtype">void</span> *p_max)</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;{</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;    <span class="keywordflow">switch</span> (data_type)</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;    {</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_S8:     <span class="keywordflow">return</span> DataTypeClampT&lt;ImS8  &gt;((ImS8 *)p_data, (<span class="keyword">const</span> ImS8 *)p_min, (<span class="keyword">const</span> ImS8 *)p_max);</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_U8:     <span class="keywordflow">return</span> DataTypeClampT&lt;ImU8  &gt;((ImU8 *)p_data, (<span class="keyword">const</span> ImU8 *)p_min, (<span class="keyword">const</span> ImU8 *)p_max);</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_S16:    <span class="keywordflow">return</span> DataTypeClampT&lt;ImS16 &gt;((ImS16 *)p_data, (<span class="keyword">const</span> ImS16 *)p_min, (<span class="keyword">const</span> ImS16 *)p_max);</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_U16:    <span class="keywordflow">return</span> DataTypeClampT&lt;ImU16 &gt;((ImU16 *)p_data, (<span class="keyword">const</span> ImU16 *)p_min, (<span class="keyword">const</span> ImU16 *)p_max);</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_S32:    <span class="keywordflow">return</span> DataTypeClampT&lt;ImS32 &gt;((ImS32 *)p_data, (<span class="keyword">const</span> ImS32 *)p_min, (<span class="keyword">const</span> ImS32 *)p_max);</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_U32:    <span class="keywordflow">return</span> DataTypeClampT&lt;ImU32 &gt;((ImU32 *)p_data, (<span class="keyword">const</span> ImU32 *)p_min, (<span class="keyword">const</span> ImU32 *)p_max);</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_S64:    <span class="keywordflow">return</span> DataTypeClampT&lt;ImS64 &gt;((ImS64 *)p_data, (<span class="keyword">const</span> ImS64 *)p_min, (<span class="keyword">const</span> ImS64 *)p_max);</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_U64:    <span class="keywordflow">return</span> DataTypeClampT&lt;ImU64 &gt;((ImU64 *)p_data, (<span class="keyword">const</span> ImU64 *)p_min, (<span class="keyword">const</span> ImU64 *)p_max);</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_Float:  <span class="keywordflow">return</span> DataTypeClampT&lt;float &gt;((<span class="keywordtype">float</span> *)p_data, (<span class="keyword">const</span> <span class="keywordtype">float</span> *)p_min, (<span class="keyword">const</span> <span class="keywordtype">float</span> *)p_max);</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_Double: <span class="keywordflow">return</span> DataTypeClampT&lt;double&gt;((<span class="keywordtype">double</span> *)p_data, (<span class="keyword">const</span> <span class="keywordtype">double</span> *)p_min, (<span class="keyword">const</span> <span class="keywordtype">double</span> *)p_max);</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_COUNT:  <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;    }</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;    IM_ASSERT(0);</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;}</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160; </div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;<span class="keyword">static</span> <span class="keywordtype">float</span> GetMinimumStepAtDecimalPrecision(<span class="keywordtype">int</span> decimal_precision)</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;{</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">float</span> min_steps[10] = { 1.0f, 0.1f, 0.01f, 0.001f, 0.0001f, 0.00001f, 0.000001f, 0.0000001f, 0.00000001f, 0.000000001f };</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;    <span class="keywordflow">if</span> (decimal_precision &lt; 0)</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;        <span class="keywordflow">return</span> FLT_MIN;</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;    <span class="keywordflow">return</span> (decimal_precision &lt; IM_ARRAYSIZE(min_steps)) ? min_steps[decimal_precision] : ImPow(10.0f, (<span class="keywordtype">float</span>)-decimal_precision);</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;}</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160; </div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> TYPE&gt;</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *ImAtoi(<span class="keyword">const</span> <span class="keywordtype">char</span> *src, TYPE *output)</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;{</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;    <span class="keywordtype">int</span> negative = 0;</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;    <span class="keywordflow">if</span> (*src == <span class="charliteral">&#39;-&#39;</span>)</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;    {</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;        negative = 1; src++;</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;    }</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;    <span class="keywordflow">if</span> (*src == <span class="charliteral">&#39;+&#39;</span>)</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;    {</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;        src++;</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;    }</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;    TYPE v = 0;</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;    <span class="keywordflow">while</span> (*src &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; *src &lt;= <span class="charliteral">&#39;9&#39;</span>)</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;        v = (v * 10) + (*src++ - <span class="charliteral">&#39;0&#39;</span>);</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;    *output = negative ? -v : v;</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;    <span class="keywordflow">return</span> src;</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;}</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160; </div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;<span class="comment">// Sanitize format</span></div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;<span class="comment">// - Zero terminate so extra characters after format (e.g. &quot;%f123&quot;) don&#39;t confuse atof/atoi</span></div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;<span class="comment">// - stb_sprintf.h supports several new modifiers which format numbers in a way that also makes them incompatible atof/atoi.</span></div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> SanitizeFormatString(<span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, <span class="keywordtype">char</span> *fmt_out, <span class="keywordtype">size_t</span> fmt_out_size)</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;{</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;    IM_UNUSED(fmt_out_size);</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt_end = ImParseFormatFindEnd(fmt);</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;    IM_ASSERT((<span class="keywordtype">size_t</span>)(fmt_end - fmt + 1) &lt; fmt_out_size); <span class="comment">// Format is too long, let us know if this happens to you!</span></div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;    <span class="keywordflow">while</span> (fmt &lt; fmt_end)</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;    {</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;        <span class="keywordtype">char</span> c = *(fmt++);</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;        <span class="keywordflow">if</span> (c != <span class="charliteral">&#39;\&#39;&#39;</span> &amp;&amp; c != <span class="charliteral">&#39;$&#39;</span> &amp;&amp; c != <span class="charliteral">&#39;_&#39;</span>) <span class="comment">// Custom flags provided by stb_sprintf.h. POSIX 2008 also supports &#39;.</span></div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;            *(fmt_out++) = c;</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;    }</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;    *fmt_out = 0; <span class="comment">// Zero-terminate</span></div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;}</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160; </div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> TYPE, <span class="keyword">typename</span> SIGNEDTYPE&gt;</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;TYPE ImGui::RoundScalarWithFormatT(<span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiDataType data_type, TYPE v)</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;{</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt_start = ImParseFormatFindStart(format);</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;    <span class="keywordflow">if</span> (fmt_start[0] != <span class="charliteral">&#39;%&#39;</span> || fmt_start[1] == <span class="charliteral">&#39;%&#39;</span>) <span class="comment">// Don&#39;t apply if the value is not visible in the format string</span></div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;        <span class="keywordflow">return</span> v;</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160; </div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;    <span class="comment">// Sanitize format</span></div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;    <span class="keywordtype">char</span> fmt_sanitized[32];</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;    SanitizeFormatString(fmt_start, fmt_sanitized, IM_ARRAYSIZE(fmt_sanitized));</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;    fmt_start = fmt_sanitized;</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160; </div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;    <span class="comment">// Format value with our rounding, and read back</span></div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;    <span class="keywordtype">char</span> v_str[64];</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;    ImFormatString(v_str, IM_ARRAYSIZE(v_str), fmt_start, v);</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *p = v_str;</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;    <span class="keywordflow">while</span> (*p == <span class="charliteral">&#39; &#39;</span>)</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;        p++;</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;    <span class="keywordflow">if</span> (data_type == ImGuiDataType_Float || data_type == ImGuiDataType_Double)</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;        v = (TYPE)ImAtof(p);</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;        ImAtoi(p, (SIGNEDTYPE *)&amp;v);</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;    <span class="keywordflow">return</span> v;</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;}</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160; </div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;<span class="comment">// [SECTION] Widgets: DragScalar, DragFloat, DragInt, etc.</span></div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;<span class="comment">// - DragBehaviorT&lt;&gt;() [Internal]</span></div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;<span class="comment">// - DragBehavior() [Internal]</span></div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;<span class="comment">// - DragScalar()</span></div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;<span class="comment">// - DragScalarN()</span></div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;<span class="comment">// - DragFloat()</span></div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;<span class="comment">// - DragFloat2()</span></div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;<span class="comment">// - DragFloat3()</span></div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;<span class="comment">// - DragFloat4()</span></div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;<span class="comment">// - DragFloatRange2()</span></div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;<span class="comment">// - DragInt()</span></div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;<span class="comment">// - DragInt2()</span></div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;<span class="comment">// - DragInt3()</span></div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;<span class="comment">// - DragInt4()</span></div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;<span class="comment">// - DragIntRange2()</span></div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160; </div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;<span class="comment">// This is called by DragBehavior() when the widget is active (held by mouse or being manipulated with Nav controls)</span></div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> TYPE, <span class="keyword">typename</span> SIGNEDTYPE, <span class="keyword">typename</span> FLOATTYPE&gt;</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;<span class="keywordtype">bool</span> ImGui::DragBehaviorT(ImGuiDataType data_type, TYPE *v, <span class="keywordtype">float</span> v_speed, <span class="keyword">const</span> TYPE v_min, <span class="keyword">const</span> TYPE v_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiSliderFlags flags)</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;{</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;    <span class="keyword">const</span> ImGuiAxis axis = (flags &amp; ImGuiSliderFlags_Vertical) ? ImGuiAxis_Y : ImGuiAxis_X;</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_clamped = (v_min &lt; v_max);</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_logarithmic = (flags &amp; ImGuiSliderFlags_Logarithmic) != 0;</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_floating_point = (data_type == ImGuiDataType_Float) || (data_type == ImGuiDataType_Double);</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160; </div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;    <span class="comment">// Default tweak speed</span></div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;    <span class="keywordflow">if</span> (v_speed == 0.0f &amp;&amp; is_clamped &amp;&amp; (v_max - v_min &lt; FLT_MAX))</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;        v_speed = (<span class="keywordtype">float</span>)((v_max - v_min) * g.DragSpeedDefaultRatio);</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160; </div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;    <span class="comment">// Inputs accumulates into g.DragCurrentAccum, which is flushed into the current value as soon as it makes a difference with our precision settings</span></div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;    <span class="keywordtype">float</span> adjust_delta = 0.0f;</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;    <span class="keywordflow">if</span> (g.ActiveIdSource == ImGuiInputSource_Mouse &amp;&amp; IsMousePosValid() &amp;&amp; IsMouseDragPastThreshold(0, g.IO.MouseDragThreshold * DRAG_MOUSE_THRESHOLD_FACTOR))</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;    {</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;        adjust_delta = g.IO.MouseDelta[axis];</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;        <span class="keywordflow">if</span> (g.IO.KeyAlt)</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;            adjust_delta *= 1.0f / 100.0f;</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;        <span class="keywordflow">if</span> (g.IO.KeyShift)</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;            adjust_delta *= 10.0f;</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;    }</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (g.ActiveIdSource == ImGuiInputSource_Nav)</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;    {</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> decimal_precision = is_floating_point ? ImParseFormatPrecision(format, 3) : 0;</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;        adjust_delta = GetNavInputAmount2d(ImGuiNavDirSourceFlags_Keyboard | ImGuiNavDirSourceFlags_PadDPad, ImGuiInputReadMode_RepeatFast, 1.0f / 10.0f, 10.0f)[axis];</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;        v_speed = ImMax(v_speed, GetMinimumStepAtDecimalPrecision(decimal_precision));</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;    }</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;    adjust_delta *= v_speed;</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160; </div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;    <span class="comment">// For vertical drag we currently assume that Up=higher value (like we do with vertical sliders). This may become a parameter.</span></div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;    <span class="keywordflow">if</span> (axis == ImGuiAxis_Y)</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;        adjust_delta = -adjust_delta;</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160; </div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;    <span class="comment">// For logarithmic use our range is effectively 0..1 so scale the delta into that range</span></div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;    <span class="keywordflow">if</span> (is_logarithmic &amp;&amp; (v_max - v_min &lt; FLT_MAX) &amp;&amp; ((v_max - v_min) &gt; 0.000001f)) <span class="comment">// Epsilon to avoid /0</span></div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;        adjust_delta /= (float)(v_max - v_min);</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160; </div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;    <span class="comment">// Clear current value on activation</span></div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;    <span class="comment">// Avoid altering values and clamping when we are _already_ past the limits and heading in the same direction, so e.g. if range is 0..255, current value is 300 and we are pushing to the right side, keep the 300.</span></div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;    <span class="keywordtype">bool</span> is_just_activated = g.ActiveIdIsJustActivated;</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;    <span class="keywordtype">bool</span> is_already_past_limits_and_pushing_outward = is_clamped &amp;&amp; ((*v &gt;= v_max &amp;&amp; adjust_delta &gt; 0.0f) || (*v &lt;= v_min &amp;&amp; adjust_delta &lt; 0.0f));</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;    <span class="keywordflow">if</span> (is_just_activated || is_already_past_limits_and_pushing_outward)</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;    {</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;        g.DragCurrentAccum = 0.0f;</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;        g.DragCurrentAccumDirty = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;    }</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (adjust_delta != 0.0f)</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;    {</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;        g.DragCurrentAccum += adjust_delta;</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;        g.DragCurrentAccumDirty = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;    }</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160; </div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;    <span class="keywordflow">if</span> (!g.DragCurrentAccumDirty)</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160; </div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;    TYPE v_cur = *v;</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;    FLOATTYPE v_old_ref_for_accum_remainder = (FLOATTYPE)0.0f;</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160; </div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;    <span class="keywordtype">float</span> logarithmic_zero_epsilon = 0.0f; <span class="comment">// Only valid when is_logarithmic is true</span></div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> zero_deadzone_halfsize = 0.0f; <span class="comment">// Drag widgets have no deadzone (as it doesn&#39;t make sense)</span></div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;    <span class="keywordflow">if</span> (is_logarithmic)</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;    {</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;        <span class="comment">// When using logarithmic sliders, we need to clamp to avoid hitting zero, but our choice of clamp value greatly affects slider precision. We attempt to use the specified precision to estimate a good lower bound.</span></div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> decimal_precision = is_floating_point ? ImParseFormatPrecision(format, 3) : 1;</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;        logarithmic_zero_epsilon = ImPow(0.1f, (<span class="keywordtype">float</span>)decimal_precision);</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160; </div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;        <span class="comment">// Convert to parametric space, apply delta, convert back</span></div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;        <span class="keywordtype">float</span> v_old_parametric = ScaleRatioFromValueT&lt;TYPE, SIGNEDTYPE, FLOATTYPE&gt;(data_type, v_cur, v_min, v_max, is_logarithmic, logarithmic_zero_epsilon, zero_deadzone_halfsize);</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;        <span class="keywordtype">float</span> v_new_parametric = v_old_parametric + g.DragCurrentAccum;</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;        v_cur = ScaleValueFromRatioT&lt;TYPE, SIGNEDTYPE, FLOATTYPE&gt;(data_type, v_new_parametric, v_min, v_max, is_logarithmic, logarithmic_zero_epsilon, zero_deadzone_halfsize);</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;        v_old_ref_for_accum_remainder = v_old_parametric;</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;    }</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;    {</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;        v_cur += (SIGNEDTYPE)g.DragCurrentAccum;</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;    }</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160; </div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;    <span class="comment">// Round to user desired precision based on format string</span></div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;    <span class="keywordflow">if</span> (!(flags &amp; ImGuiSliderFlags_NoRoundToFormat))</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;        v_cur = RoundScalarWithFormatT&lt;TYPE, SIGNEDTYPE&gt;(format, data_type, v_cur);</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160; </div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;    <span class="comment">// Preserve remainder after rounding has been applied. This also allow slow tweaking of values.</span></div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;    g.DragCurrentAccumDirty = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;    <span class="keywordflow">if</span> (is_logarithmic)</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;    {</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;        <span class="comment">// Convert to parametric space, apply delta, convert back</span></div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;        <span class="keywordtype">float</span> v_new_parametric = ScaleRatioFromValueT&lt;TYPE, SIGNEDTYPE, FLOATTYPE&gt;(data_type, v_cur, v_min, v_max, is_logarithmic, logarithmic_zero_epsilon, zero_deadzone_halfsize);</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;        g.DragCurrentAccum -= (float)(v_new_parametric - v_old_ref_for_accum_remainder);</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;    }</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;    {</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;        g.DragCurrentAccum -= (float)((SIGNEDTYPE)v_cur - (SIGNEDTYPE)*v);</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;    }</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160; </div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;    <span class="comment">// Lose zero sign for float/double</span></div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;    <span class="keywordflow">if</span> (v_cur == (TYPE)-0)</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;        v_cur = (TYPE)0;</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160; </div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;    <span class="comment">// Clamp values (+ handle overflow/wrap-around for integer types)</span></div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;    <span class="keywordflow">if</span> (*v != v_cur &amp;&amp; is_clamped)</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;    {</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;        <span class="keywordflow">if</span> (v_cur &lt; v_min || (v_cur &gt; *v &amp;&amp; adjust_delta &lt; 0.0f &amp;&amp; !is_floating_point))</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;            v_cur = v_min;</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;        <span class="keywordflow">if</span> (v_cur &gt; v_max || (v_cur &lt; *v &amp;&amp; adjust_delta &gt; 0.0f &amp;&amp; !is_floating_point))</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;            v_cur = v_max;</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;    }</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160; </div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;    <span class="comment">// Apply result</span></div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;    <span class="keywordflow">if</span> (*v == v_cur)</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;    *v = v_cur;</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;}</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160; </div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;<span class="keywordtype">bool</span> ImGui::DragBehavior(ImGuiID <span class="keywordtype">id</span>, ImGuiDataType data_type, <span class="keywordtype">void</span> *p_v, <span class="keywordtype">float</span> v_speed, <span class="keyword">const</span> <span class="keywordtype">void</span> *p_min, <span class="keyword">const</span> <span class="keywordtype">void</span> *p_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiSliderFlags flags)</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;{</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;    <span class="comment">// Read imgui.cpp &quot;API BREAKING CHANGES&quot; section for 1.78 if you hit this assert.</span></div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;    IM_ASSERT((flags == 1 || (flags &amp; ImGuiSliderFlags_InvalidMask_) == 0) &amp;&amp; <span class="stringliteral">&quot;Invalid ImGuiSliderFlags flags! Has the &#39;float power&#39; argument been mistakenly cast to flags? Call function with ImGuiSliderFlags_Logarithmic flags instead.&quot;</span>);</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160; </div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;    <span class="keywordflow">if</span> (g.ActiveId == <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;    {</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;        <span class="keywordflow">if</span> (g.ActiveIdSource == ImGuiInputSource_Mouse &amp;&amp; !g.IO.MouseDown[0])</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;            ClearActiveID();</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (g.ActiveIdSource == ImGuiInputSource_Nav &amp;&amp; g.NavActivatePressedId == <span class="keywordtype">id</span> &amp;&amp; !g.ActiveIdIsJustActivated)</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;            ClearActiveID();</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;    }</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;    <span class="keywordflow">if</span> (g.ActiveId != <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;    <span class="keywordflow">if</span> ((g.LastItemData.InFlags &amp; ImGuiItemFlags_ReadOnly) || (flags &amp; ImGuiSliderFlags_ReadOnly))</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160; </div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;    <span class="keywordflow">switch</span> (data_type)</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;    {</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_S8:</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;    {</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;        ImS32 v32 = (ImS32) * (ImS8 *)p_v;  <span class="keywordtype">bool</span> r = DragBehaviorT&lt;ImS32, ImS32, float&gt;(ImGuiDataType_S32, &amp;v32, v_speed, p_min ? *(<span class="keyword">const</span> ImS8 *)p_min : IM_S8_MIN, p_max ? *(<span class="keyword">const</span> ImS8 *)p_max : IM_S8_MAX, format, flags); <span class="keywordflow">if</span> (r) *(ImS8 *)p_v = (ImS8)v32; <span class="keywordflow">return</span> r;</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;    }</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_U8:</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;    {</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;        ImU32 v32 = (ImU32) * (ImU8 *)p_v;  <span class="keywordtype">bool</span> r = DragBehaviorT&lt;ImU32, ImS32, float&gt;(ImGuiDataType_U32, &amp;v32, v_speed, p_min ? *(<span class="keyword">const</span> ImU8 *)p_min : IM_U8_MIN, p_max ? *(<span class="keyword">const</span> ImU8 *)p_max : IM_U8_MAX, format, flags); <span class="keywordflow">if</span> (r) *(ImU8 *)p_v = (ImU8)v32; <span class="keywordflow">return</span> r;</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;    }</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_S16:</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;    {</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;        ImS32 v32 = (ImS32) * (ImS16 *)p_v; <span class="keywordtype">bool</span> r = DragBehaviorT&lt;ImS32, ImS32, float&gt;(ImGuiDataType_S32, &amp;v32, v_speed, p_min ? *(<span class="keyword">const</span> ImS16 *)p_min : IM_S16_MIN, p_max ? *(<span class="keyword">const</span> ImS16 *)p_max : IM_S16_MAX, format, flags); <span class="keywordflow">if</span> (r) *(ImS16 *)p_v = (ImS16)v32; <span class="keywordflow">return</span> r;</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;    }</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_U16:</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;    {</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;        ImU32 v32 = (ImU32) * (ImU16 *)p_v; <span class="keywordtype">bool</span> r = DragBehaviorT&lt;ImU32, ImS32, float&gt;(ImGuiDataType_U32, &amp;v32, v_speed, p_min ? *(<span class="keyword">const</span> ImU16 *)p_min : IM_U16_MIN, p_max ? *(<span class="keyword">const</span> ImU16 *)p_max : IM_U16_MAX, format, flags); <span class="keywordflow">if</span> (r) *(ImU16 *)p_v = (ImU16)v32; <span class="keywordflow">return</span> r;</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;    }</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_S32:    <span class="keywordflow">return</span> DragBehaviorT&lt;ImS32, ImS32, float &gt;(data_type, (ImS32 *)p_v, v_speed, p_min ? *(<span class="keyword">const</span> ImS32 *)p_min : IM_S32_MIN, p_max ? *(<span class="keyword">const</span> ImS32 *)p_max : IM_S32_MAX, format, flags);</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_U32:    <span class="keywordflow">return</span> DragBehaviorT&lt;ImU32, ImS32, float &gt;(data_type, (ImU32 *)p_v, v_speed, p_min ? *(<span class="keyword">const</span> ImU32 *)p_min : IM_U32_MIN, p_max ? *(<span class="keyword">const</span> ImU32 *)p_max : IM_U32_MAX, format, flags);</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_S64:    <span class="keywordflow">return</span> DragBehaviorT&lt;ImS64, ImS64, double&gt;(data_type, (ImS64 *)p_v, v_speed, p_min ? *(<span class="keyword">const</span> ImS64 *)p_min : IM_S64_MIN, p_max ? *(<span class="keyword">const</span> ImS64 *)p_max : IM_S64_MAX, format, flags);</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_U64:    <span class="keywordflow">return</span> DragBehaviorT&lt;ImU64, ImS64, double&gt;(data_type, (ImU64 *)p_v, v_speed, p_min ? *(<span class="keyword">const</span> ImU64 *)p_min : IM_U64_MIN, p_max ? *(<span class="keyword">const</span> ImU64 *)p_max : IM_U64_MAX, format, flags);</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_Float:  <span class="keywordflow">return</span> DragBehaviorT&lt;float, float, float &gt;(data_type, (<span class="keywordtype">float</span> *)p_v, v_speed, p_min ? *(<span class="keyword">const</span> <span class="keywordtype">float</span> *)p_min : -FLT_MAX, p_max ? *(<span class="keyword">const</span> <span class="keywordtype">float</span> *)p_max : FLT_MAX, format, flags);</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_Double: <span class="keywordflow">return</span> DragBehaviorT&lt;double, double, double&gt;(data_type, (<span class="keywordtype">double</span> *)p_v, v_speed, p_min ? *(<span class="keyword">const</span> <span class="keywordtype">double</span> *)p_min : -DBL_MAX, p_max ? *(<span class="keyword">const</span> <span class="keywordtype">double</span> *)p_max : DBL_MAX, format, flags);</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_COUNT:  <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;    }</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;    IM_ASSERT(0);</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;}</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160; </div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;<span class="comment">// Note: p_data, p_min and p_max are _pointers_ to a memory address holding the data. For a Drag widget, p_min and p_max are optional.</span></div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;<span class="comment">// Read code of e.g. DragFloat(), DragInt() etc. or examples in &#39;Demo-&gt;Widgets-&gt;Data Types&#39; to understand how to use this function directly.</span></div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;<span class="keywordtype">bool</span> ImGui::DragScalar(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, ImGuiDataType data_type, <span class="keywordtype">void</span> *p_data, <span class="keywordtype">float</span> v_speed, <span class="keyword">const</span> <span class="keywordtype">void</span> *p_min, <span class="keyword">const</span> <span class="keywordtype">void</span> *p_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiSliderFlags flags)</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;{</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160; </div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_gui_style.html">ImGuiStyle</a> &amp;style = g.Style;</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;    <span class="keyword">const</span> ImGuiID <span class="keywordtype">id</span> = window-&gt;GetID(label);</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> w = CalcItemWidth();</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160; </div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> label_size = CalcTextSize(label, NULL, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> frame_bb(window-&gt;DC.CursorPos, window-&gt;DC.CursorPos + <a class="code" href="struct_im_vec2.html">ImVec2</a>(w, label_size.y + style.FramePadding.y * 2.0f));</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> total_bb(frame_bb.Min, frame_bb.Max + <a class="code" href="struct_im_vec2.html">ImVec2</a>(label_size.x &gt; 0.0f ? style.ItemInnerSpacing.x + label_size.x : 0.0f, 0.0f));</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160; </div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> temp_input_allowed = (flags &amp; ImGuiSliderFlags_NoInput) == 0;</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;    ItemSize(total_bb, style.FramePadding.y);</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;    <span class="keywordflow">if</span> (!ItemAdd(total_bb, <span class="keywordtype">id</span>, &amp;frame_bb, temp_input_allowed ? ImGuiItemAddFlags_Focusable : 0))</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160; </div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;    <span class="comment">// Default format string when passing NULL</span></div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;    <span class="keywordflow">if</span> (format == NULL)</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;        format = DataTypeGetInfo(data_type)-&gt;PrintFmt;</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (data_type == ImGuiDataType_S32 &amp;&amp; strcmp(format, <span class="stringliteral">&quot;%d&quot;</span>) != 0) <span class="comment">// (FIXME-LEGACY: Patch old &quot;%.0f&quot; format string to use &quot;%d&quot;, read function more details.)</span></div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;        format = PatchFormatStringFloatToInt(format);</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160; </div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;    <span class="comment">// Tabbing or CTRL-clicking on Drag turns it into an InputText</span></div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> hovered = ItemHoverable(frame_bb, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;    <span class="keywordtype">bool</span> temp_input_is_active = temp_input_allowed &amp;&amp; TempInputIsActive(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;    <span class="keywordflow">if</span> (!temp_input_is_active)</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;    {</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> focus_requested = temp_input_allowed &amp;&amp; (g.LastItemData.StatusFlags &amp; ImGuiItemStatusFlags_Focused) != 0;</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> clicked = (hovered &amp;&amp; g.IO.MouseClicked[0]);</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> double_clicked = (hovered &amp;&amp; g.IO.MouseDoubleClicked[0]);</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;        <span class="keywordflow">if</span> (focus_requested || clicked || double_clicked || g.NavActivateId == <span class="keywordtype">id</span> || g.NavInputId == <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;        {</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;            SetActiveID(<span class="keywordtype">id</span>, window);</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;            SetFocusID(<span class="keywordtype">id</span>, window);</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;            FocusWindow(window);</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;            g.ActiveIdUsingNavDirMask = (1 &lt;&lt; ImGuiDir_Left) | (1 &lt;&lt; ImGuiDir_Right);</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;            <span class="keywordflow">if</span> (temp_input_allowed &amp;&amp; (focus_requested || (clicked &amp;&amp; g.IO.KeyCtrl) || double_clicked || g.NavInputId == <span class="keywordtype">id</span>))</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;                temp_input_is_active = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;        }</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;        <span class="comment">// Experimental: simple click (without moving) turns Drag into an InputText</span></div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;        <span class="comment">// FIXME: Currently polling ImGuiConfigFlags_IsTouchScreen, may either poll an hypothetical ImGuiBackendFlags_HasKeyboard and/or an explicit drag settings.</span></div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;        <span class="keywordflow">if</span> (g.IO.ConfigDragClickToInputText &amp;&amp; temp_input_allowed &amp;&amp; !temp_input_is_active)</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;            <span class="keywordflow">if</span> (g.ActiveId == <span class="keywordtype">id</span> &amp;&amp; hovered &amp;&amp; g.IO.MouseReleased[0] &amp;&amp; !IsMouseDragPastThreshold(0, g.IO.MouseDragThreshold * DRAG_MOUSE_THRESHOLD_FACTOR))</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;            {</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;                g.NavInputId = id;</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;                temp_input_is_active = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;            }</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;    }</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160; </div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;    <span class="keywordflow">if</span> (temp_input_is_active)</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;    {</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;        <span class="comment">// Only clamp CTRL+Click input when ImGuiSliderFlags_AlwaysClamp is set</span></div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_clamp_input = (flags &amp; ImGuiSliderFlags_AlwaysClamp) != 0 &amp;&amp; (p_min == NULL || p_max == NULL || DataTypeCompare(data_type, p_min, p_max) &lt; 0);</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;        <span class="keywordflow">return</span> TempInputScalar(frame_bb, <span class="keywordtype">id</span>, label, data_type, p_data, format, is_clamp_input ? p_min : NULL, is_clamp_input ? p_max : NULL);</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;    }</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160; </div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;    <span class="comment">// Draw frame</span></div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;    <span class="keyword">const</span> ImU32 frame_col = GetColorU32(g.ActiveId == <span class="keywordtype">id</span> ? ImGuiCol_FrameBgActive : hovered ? ImGuiCol_FrameBgHovered : ImGuiCol_FrameBg);</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;    RenderNavHighlight(frame_bb, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;    RenderFrame(frame_bb.Min, frame_bb.Max, frame_col, <span class="keyword">true</span>, style.FrameRounding);</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160; </div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;    <span class="comment">// Drag behavior</span></div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> value_changed = DragBehavior(<span class="keywordtype">id</span>, data_type, p_data, v_speed, p_min, p_max, format, flags);</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;    <span class="keywordflow">if</span> (value_changed)</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;        MarkItemEdited(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160; </div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;    <span class="comment">// Display value using user-provided display format so user can add prefix/suffix/decorations to the value.</span></div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;    <span class="keywordtype">char</span> value_buf[64];</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *value_buf_end = value_buf + DataTypeFormatString(value_buf, IM_ARRAYSIZE(value_buf), data_type, p_data, format);</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;    <span class="keywordflow">if</span> (g.LogEnabled)</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;        LogSetNextTextDecoration(<span class="stringliteral">&quot;{&quot;</span>, <span class="stringliteral">&quot;}&quot;</span>);</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;    RenderTextClipped(frame_bb.Min, frame_bb.Max, value_buf, value_buf_end, NULL, <a class="code" href="struct_im_vec2.html">ImVec2</a>(0.5f, 0.5f));</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160; </div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;    <span class="keywordflow">if</span> (label_size.x &gt; 0.0f)</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;        RenderText(<a class="code" href="struct_im_vec2.html">ImVec2</a>(frame_bb.Max.x + style.ItemInnerSpacing.x, frame_bb.Min.y + style.FramePadding.y), label);</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160; </div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;    IMGUI_TEST_ENGINE_ITEM_INFO(<span class="keywordtype">id</span>, label, g.LastItemData.StatusFlags);</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;    <span class="keywordflow">return</span> value_changed;</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;}</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160; </div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;<span class="keywordtype">bool</span> ImGui::DragScalarN(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, ImGuiDataType data_type, <span class="keywordtype">void</span> *p_data, <span class="keywordtype">int</span> components, <span class="keywordtype">float</span> v_speed, <span class="keyword">const</span> <span class="keywordtype">void</span> *p_min, <span class="keyword">const</span> <span class="keywordtype">void</span> *p_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiSliderFlags flags)</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;{</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160; </div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;    <span class="keywordtype">bool</span> value_changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;    BeginGroup();</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;    PushID(label);</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;    PushMultiItemsWidths(components, CalcItemWidth());</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;    <span class="keywordtype">size_t</span> type_size = GDataTypeInfo[data_type].Size;</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; components; i++)</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;    {</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;        PushID(i);</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;        <span class="keywordflow">if</span> (i &gt; 0)</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;            SameLine(0, g.Style.ItemInnerSpacing.x);</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;        value_changed |= DragScalar(<span class="stringliteral">&quot;&quot;</span>, data_type, p_data, v_speed, p_min, p_max, format, flags);</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;        PopID();</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;        PopItemWidth();</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;        p_data = (<span class="keywordtype">void</span> *)((<span class="keywordtype">char</span> *)p_data + type_size);</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;    }</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;    PopID();</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160; </div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *label_end = FindRenderedTextEnd(label);</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;    <span class="keywordflow">if</span> (label != label_end)</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;    {</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;        SameLine(0, g.Style.ItemInnerSpacing.x);</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;        TextEx(label, label_end);</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;    }</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160; </div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;    EndGroup();</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;    <span class="keywordflow">return</span> value_changed;</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;}</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160; </div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;<span class="keywordtype">bool</span> ImGui::DragFloat(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">float</span> *v, <span class="keywordtype">float</span> v_speed, <span class="keywordtype">float</span> v_min, <span class="keywordtype">float</span> v_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiSliderFlags flags)</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;{</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;    <span class="keywordflow">return</span> DragScalar(label, ImGuiDataType_Float, v, v_speed, &amp;v_min, &amp;v_max, format, flags);</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;}</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160; </div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;<span class="keywordtype">bool</span> ImGui::DragFloat2(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">float</span> v[2], <span class="keywordtype">float</span> v_speed, <span class="keywordtype">float</span> v_min, <span class="keywordtype">float</span> v_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiSliderFlags flags)</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;{</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;    <span class="keywordflow">return</span> DragScalarN(label, ImGuiDataType_Float, v, 2, v_speed, &amp;v_min, &amp;v_max, format, flags);</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;}</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160; </div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;<span class="keywordtype">bool</span> ImGui::DragFloat3(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">float</span> v[3], <span class="keywordtype">float</span> v_speed, <span class="keywordtype">float</span> v_min, <span class="keywordtype">float</span> v_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiSliderFlags flags)</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;{</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;    <span class="keywordflow">return</span> DragScalarN(label, ImGuiDataType_Float, v, 3, v_speed, &amp;v_min, &amp;v_max, format, flags);</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;}</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160; </div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;<span class="keywordtype">bool</span> ImGui::DragFloat4(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">float</span> v[4], <span class="keywordtype">float</span> v_speed, <span class="keywordtype">float</span> v_min, <span class="keywordtype">float</span> v_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiSliderFlags flags)</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;{</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;    <span class="keywordflow">return</span> DragScalarN(label, ImGuiDataType_Float, v, 4, v_speed, &amp;v_min, &amp;v_max, format, flags);</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;}</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160; </div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;<span class="comment">// NB: You likely want to specify the ImGuiSliderFlags_AlwaysClamp when using this.</span></div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;<span class="keywordtype">bool</span> ImGui::DragFloatRange2(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">float</span> *v_current_min, <span class="keywordtype">float</span> *v_current_max, <span class="keywordtype">float</span> v_speed, <span class="keywordtype">float</span> v_min, <span class="keywordtype">float</span> v_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, <span class="keyword">const</span> <span class="keywordtype">char</span> *format_max, ImGuiSliderFlags flags)</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;{</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160; </div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;    PushID(label);</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;    BeginGroup();</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;    PushMultiItemsWidths(2, CalcItemWidth());</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160; </div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;    <span class="keywordtype">float</span> min_min = (v_min &gt;= v_max) ? -FLT_MAX : v_min;</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;    <span class="keywordtype">float</span> min_max = (v_min &gt;= v_max) ? *v_current_max : ImMin(v_max, *v_current_max);</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;    ImGuiSliderFlags min_flags = flags | ((min_min == min_max) ? ImGuiSliderFlags_ReadOnly : 0);</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;    <span class="keywordtype">bool</span> value_changed = DragScalar(<span class="stringliteral">&quot;##min&quot;</span>, ImGuiDataType_Float, v_current_min, v_speed, &amp;min_min, &amp;min_max, format, min_flags);</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;    PopItemWidth();</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;    SameLine(0, g.Style.ItemInnerSpacing.x);</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160; </div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;    <span class="keywordtype">float</span> max_min = (v_min &gt;= v_max) ? *v_current_min : ImMax(v_min, *v_current_min);</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;    <span class="keywordtype">float</span> max_max = (v_min &gt;= v_max) ? FLT_MAX : v_max;</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;    ImGuiSliderFlags max_flags = flags | ((max_min == max_max) ? ImGuiSliderFlags_ReadOnly : 0);</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;    value_changed |= DragScalar(<span class="stringliteral">&quot;##max&quot;</span>, ImGuiDataType_Float, v_current_max, v_speed, &amp;max_min, &amp;max_max, format_max ? format_max : format, max_flags);</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;    PopItemWidth();</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;    SameLine(0, g.Style.ItemInnerSpacing.x);</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160; </div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;    TextEx(label, FindRenderedTextEnd(label));</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;    EndGroup();</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;    PopID();</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160; </div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;    <span class="keywordflow">return</span> value_changed;</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;}</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160; </div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;<span class="comment">// NB: v_speed is float to allow adjusting the drag speed with more precision</span></div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;<span class="keywordtype">bool</span> ImGui::DragInt(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">int</span> *v, <span class="keywordtype">float</span> v_speed, <span class="keywordtype">int</span> v_min, <span class="keywordtype">int</span> v_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiSliderFlags flags)</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;{</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;    <span class="keywordflow">return</span> DragScalar(label, ImGuiDataType_S32, v, v_speed, &amp;v_min, &amp;v_max, format, flags);</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;}</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160; </div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;<span class="keywordtype">bool</span> ImGui::DragInt2(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">int</span> v[2], <span class="keywordtype">float</span> v_speed, <span class="keywordtype">int</span> v_min, <span class="keywordtype">int</span> v_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiSliderFlags flags)</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;{</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;    <span class="keywordflow">return</span> DragScalarN(label, ImGuiDataType_S32, v, 2, v_speed, &amp;v_min, &amp;v_max, format, flags);</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;}</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160; </div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;<span class="keywordtype">bool</span> ImGui::DragInt3(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">int</span> v[3], <span class="keywordtype">float</span> v_speed, <span class="keywordtype">int</span> v_min, <span class="keywordtype">int</span> v_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiSliderFlags flags)</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;{</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;    <span class="keywordflow">return</span> DragScalarN(label, ImGuiDataType_S32, v, 3, v_speed, &amp;v_min, &amp;v_max, format, flags);</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;}</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160; </div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;<span class="keywordtype">bool</span> ImGui::DragInt4(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">int</span> v[4], <span class="keywordtype">float</span> v_speed, <span class="keywordtype">int</span> v_min, <span class="keywordtype">int</span> v_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiSliderFlags flags)</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;{</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;    <span class="keywordflow">return</span> DragScalarN(label, ImGuiDataType_S32, v, 4, v_speed, &amp;v_min, &amp;v_max, format, flags);</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;}</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160; </div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;<span class="comment">// NB: You likely want to specify the ImGuiSliderFlags_AlwaysClamp when using this.</span></div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;<span class="keywordtype">bool</span> ImGui::DragIntRange2(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">int</span> *v_current_min, <span class="keywordtype">int</span> *v_current_max, <span class="keywordtype">float</span> v_speed, <span class="keywordtype">int</span> v_min, <span class="keywordtype">int</span> v_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, <span class="keyword">const</span> <span class="keywordtype">char</span> *format_max, ImGuiSliderFlags flags)</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;{</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160; </div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;    PushID(label);</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;    BeginGroup();</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;    PushMultiItemsWidths(2, CalcItemWidth());</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160; </div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;    <span class="keywordtype">int</span> min_min = (v_min &gt;= v_max) ? INT_MIN : v_min;</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;    <span class="keywordtype">int</span> min_max = (v_min &gt;= v_max) ? *v_current_max : ImMin(v_max, *v_current_max);</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;    ImGuiSliderFlags min_flags = flags | ((min_min == min_max) ? ImGuiSliderFlags_ReadOnly : 0);</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;    <span class="keywordtype">bool</span> value_changed = DragInt(<span class="stringliteral">&quot;##min&quot;</span>, v_current_min, v_speed, min_min, min_max, format, min_flags);</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;    PopItemWidth();</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;    SameLine(0, g.Style.ItemInnerSpacing.x);</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160; </div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;    <span class="keywordtype">int</span> max_min = (v_min &gt;= v_max) ? *v_current_min : ImMax(v_min, *v_current_min);</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;    <span class="keywordtype">int</span> max_max = (v_min &gt;= v_max) ? INT_MAX : v_max;</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;    ImGuiSliderFlags max_flags = flags | ((max_min == max_max) ? ImGuiSliderFlags_ReadOnly : 0);</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;    value_changed |= DragInt(<span class="stringliteral">&quot;##max&quot;</span>, v_current_max, v_speed, max_min, max_max, format_max ? format_max : format, max_flags);</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;    PopItemWidth();</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;    SameLine(0, g.Style.ItemInnerSpacing.x);</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160; </div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;    TextEx(label, FindRenderedTextEnd(label));</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;    EndGroup();</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;    PopID();</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160; </div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;    <span class="keywordflow">return</span> value_changed;</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;}</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160; </div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;<span class="preprocessor">#ifndef IMGUI_DISABLE_OBSOLETE_FUNCTIONS</span></div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160; </div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;<span class="comment">// Obsolete versions with power parameter. See https://github.com/ocornut/imgui/issues/3361 for details.</span></div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;<span class="keywordtype">bool</span> ImGui::DragScalar(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, ImGuiDataType data_type, <span class="keywordtype">void</span> *p_data, <span class="keywordtype">float</span> v_speed, <span class="keyword">const</span> <span class="keywordtype">void</span> *p_min, <span class="keyword">const</span> <span class="keywordtype">void</span> *p_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, <span class="keywordtype">float</span> power)</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;{</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;    ImGuiSliderFlags drag_flags = ImGuiSliderFlags_None;</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;    <span class="keywordflow">if</span> (power != 1.0f)</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;    {</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;        IM_ASSERT(power == 1.0f &amp;&amp; <span class="stringliteral">&quot;Call function with ImGuiSliderFlags_Logarithmic flags instead of using the old &#39;float power&#39; function!&quot;</span>);</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;        IM_ASSERT(p_min != NULL &amp;&amp; p_max != NULL);  <span class="comment">// When using a power curve the drag needs to have known bounds</span></div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;        drag_flags |= ImGuiSliderFlags_Logarithmic;   <span class="comment">// Fallback for non-asserting paths</span></div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;    }</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;    <span class="keywordflow">return</span> DragScalar(label, data_type, p_data, v_speed, p_min, p_max, format, drag_flags);</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;}</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160; </div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;<span class="keywordtype">bool</span> ImGui::DragScalarN(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, ImGuiDataType data_type, <span class="keywordtype">void</span> *p_data, <span class="keywordtype">int</span> components, <span class="keywordtype">float</span> v_speed, <span class="keyword">const</span> <span class="keywordtype">void</span> *p_min, <span class="keyword">const</span> <span class="keywordtype">void</span> *p_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, <span class="keywordtype">float</span> power)</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;{</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;    ImGuiSliderFlags drag_flags = ImGuiSliderFlags_None;</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;    <span class="keywordflow">if</span> (power != 1.0f)</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;    {</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;        IM_ASSERT(power == 1.0f &amp;&amp; <span class="stringliteral">&quot;Call function with ImGuiSliderFlags_Logarithmic flags instead of using the old &#39;float power&#39; function!&quot;</span>);</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;        IM_ASSERT(p_min != NULL &amp;&amp; p_max != NULL);  <span class="comment">// When using a power curve the drag needs to have known bounds</span></div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;        drag_flags |= ImGuiSliderFlags_Logarithmic;   <span class="comment">// Fallback for non-asserting paths</span></div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;    }</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;    <span class="keywordflow">return</span> DragScalarN(label, data_type, p_data, components, v_speed, p_min, p_max, format, drag_flags);</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;}</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160; </div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;<span class="preprocessor">#endif </span><span class="comment">// IMGUI_DISABLE_OBSOLETE_FUNCTIONS</span></div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160; </div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;<span class="comment">// [SECTION] Widgets: SliderScalar, SliderFloat, SliderInt, etc.</span></div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;<span class="comment">// - ScaleRatioFromValueT&lt;&gt; [Internal]</span></div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;<span class="comment">// - ScaleValueFromRatioT&lt;&gt; [Internal]</span></div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;<span class="comment">// - SliderBehaviorT&lt;&gt;() [Internal]</span></div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;<span class="comment">// - SliderBehavior() [Internal]</span></div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;<span class="comment">// - SliderScalar()</span></div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;<span class="comment">// - SliderScalarN()</span></div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;<span class="comment">// - SliderFloat()</span></div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;<span class="comment">// - SliderFloat2()</span></div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;<span class="comment">// - SliderFloat3()</span></div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;<span class="comment">// - SliderFloat4()</span></div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;<span class="comment">// - SliderAngle()</span></div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;<span class="comment">// - SliderInt()</span></div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;<span class="comment">// - SliderInt2()</span></div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;<span class="comment">// - SliderInt3()</span></div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;<span class="comment">// - SliderInt4()</span></div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;<span class="comment">// - VSliderScalar()</span></div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;<span class="comment">// - VSliderFloat()</span></div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;<span class="comment">// - VSliderInt()</span></div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160; </div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;<span class="comment">// Convert a value v in the output space of a slider into a parametric position on the slider itself (the logical opposite of ScaleValueFromRatioT)</span></div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> TYPE, <span class="keyword">typename</span> SIGNEDTYPE, <span class="keyword">typename</span> FLOATTYPE&gt;</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;<span class="keywordtype">float</span> ImGui::ScaleRatioFromValueT(ImGuiDataType data_type, TYPE v, TYPE v_min, TYPE v_max, <span class="keywordtype">bool</span> is_logarithmic, <span class="keywordtype">float</span> logarithmic_zero_epsilon, <span class="keywordtype">float</span> zero_deadzone_halfsize)</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;{</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;    <span class="keywordflow">if</span> (v_min == v_max)</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;        <span class="keywordflow">return</span> 0.0f;</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;    IM_UNUSED(data_type);</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160; </div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;    <span class="keyword">const</span> TYPE v_clamped = (v_min &lt; v_max) ? ImClamp(v, v_min, v_max) : ImClamp(v, v_max, v_min);</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;    <span class="keywordflow">if</span> (is_logarithmic)</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;    {</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;        <span class="keywordtype">bool</span> flipped = v_max &lt; v_min;</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160; </div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;        <span class="keywordflow">if</span> (flipped) <span class="comment">// Handle the case where the range is backwards</span></div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;            ImSwap(v_min, v_max);</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160; </div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;        <span class="comment">// Fudge min/max to avoid getting close to log(0)</span></div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;        FLOATTYPE v_min_fudged = (ImAbs((FLOATTYPE)v_min) &lt; logarithmic_zero_epsilon) ? ((v_min &lt; 0.0f) ? -logarithmic_zero_epsilon : logarithmic_zero_epsilon) : (FLOATTYPE)v_min;</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;        FLOATTYPE v_max_fudged = (ImAbs((FLOATTYPE)v_max) &lt; logarithmic_zero_epsilon) ? ((v_max &lt; 0.0f) ? -logarithmic_zero_epsilon : logarithmic_zero_epsilon) : (FLOATTYPE)v_max;</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160; </div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;        <span class="comment">// Awkward special cases - we need ranges of the form (-100 .. 0) to convert to (-100 .. -epsilon), not (-100 .. epsilon)</span></div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;        <span class="keywordflow">if</span> ((v_min == 0.0f) &amp;&amp; (v_max &lt; 0.0f))</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;            v_min_fudged = -logarithmic_zero_epsilon;</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((v_max == 0.0f) &amp;&amp; (v_min &lt; 0.0f))</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;            v_max_fudged = -logarithmic_zero_epsilon;</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160; </div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;        <span class="keywordtype">float</span> result;</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160; </div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;        <span class="keywordflow">if</span> (v_clamped &lt;= v_min_fudged)</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;            result = 0.0f; <span class="comment">// Workaround for values that are in-range but below our fudge</span></div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (v_clamped &gt;= v_max_fudged)</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;            result = 1.0f; <span class="comment">// Workaround for values that are in-range but above our fudge</span></div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((v_min * v_max) &lt; 0.0f) <span class="comment">// Range crosses zero, so split into two portions</span></div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;        {</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;            <span class="keywordtype">float</span> zero_point_center = (-(float)v_min) / ((float)v_max - (<span class="keywordtype">float</span>)v_min); <span class="comment">// The zero point in parametric space.  There&#39;s an argument we should take the logarithmic nature into account when calculating this, but for now this should do (and the most common case of a symmetrical range works fine)</span></div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;            <span class="keywordtype">float</span> zero_point_snap_L = zero_point_center - zero_deadzone_halfsize;</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;            <span class="keywordtype">float</span> zero_point_snap_R = zero_point_center + zero_deadzone_halfsize;</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;            <span class="keywordflow">if</span> (v == 0.0f)</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;                result = zero_point_center; <span class="comment">// Special case for exactly zero</span></div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (v &lt; 0.0f)</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;                result = (1.0f - (float)(ImLog(-(FLOATTYPE)v_clamped / logarithmic_zero_epsilon) / ImLog(-v_min_fudged / logarithmic_zero_epsilon))) * zero_point_snap_L;</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;                result = zero_point_snap_R + ((float)(ImLog((FLOATTYPE)v_clamped / logarithmic_zero_epsilon) / ImLog(v_max_fudged / logarithmic_zero_epsilon)) * (1.0f - zero_point_snap_R));</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;        }</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((v_min &lt; 0.0f) || (v_max &lt; 0.0f)) <span class="comment">// Entirely negative slider</span></div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;            result = 1.0f - (float)(ImLog(-(FLOATTYPE)v_clamped / -v_max_fudged) / ImLog(-v_min_fudged / -v_max_fudged));</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;            result = (float)(ImLog((FLOATTYPE)v_clamped / v_min_fudged) / ImLog(v_max_fudged / v_min_fudged));</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160; </div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;        <span class="keywordflow">return</span> flipped ? (1.0f - result) : result;</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;    }</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160; </div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;    <span class="comment">// Linear slider</span></div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">float</span>)((FLOATTYPE)(SIGNEDTYPE)(v_clamped - v_min) / (FLOATTYPE)(SIGNEDTYPE)(v_max - v_min));</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;}</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160; </div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;<span class="comment">// Convert a parametric position on a slider into a value v in the output space (the logical opposite of ScaleRatioFromValueT)</span></div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> TYPE, <span class="keyword">typename</span> SIGNEDTYPE, <span class="keyword">typename</span> FLOATTYPE&gt;</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;TYPE ImGui::ScaleValueFromRatioT(ImGuiDataType data_type, <span class="keywordtype">float</span> t, TYPE v_min, TYPE v_max, <span class="keywordtype">bool</span> is_logarithmic, <span class="keywordtype">float</span> logarithmic_zero_epsilon, <span class="keywordtype">float</span> zero_deadzone_halfsize)</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;{</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;    <span class="keywordflow">if</span> (v_min == v_max)</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;        <span class="keywordflow">return</span> v_min;</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_floating_point = (data_type == ImGuiDataType_Float) || (data_type == ImGuiDataType_Double);</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160; </div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;    TYPE result;</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;    <span class="keywordflow">if</span> (is_logarithmic)</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;    {</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;        <span class="comment">// We special-case the extents because otherwise our fudging can lead to &quot;mathematically correct&quot; but non-intuitive behaviors like a fully-left slider not actually reaching the minimum value</span></div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;        <span class="keywordflow">if</span> (t &lt;= 0.0f)</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;            result = v_min;</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t &gt;= 1.0f)</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;            result = v_max;</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;        {</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;            <span class="keywordtype">bool</span> flipped = v_max &lt; v_min; <span class="comment">// Check if range is &quot;backwards&quot;</span></div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160; </div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;            <span class="comment">// Fudge min/max to avoid getting silly results close to zero</span></div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;            FLOATTYPE v_min_fudged = (ImAbs((FLOATTYPE)v_min) &lt; logarithmic_zero_epsilon) ? ((v_min &lt; 0.0f) ? -logarithmic_zero_epsilon : logarithmic_zero_epsilon) : (FLOATTYPE)v_min;</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;            FLOATTYPE v_max_fudged = (ImAbs((FLOATTYPE)v_max) &lt; logarithmic_zero_epsilon) ? ((v_max &lt; 0.0f) ? -logarithmic_zero_epsilon : logarithmic_zero_epsilon) : (FLOATTYPE)v_max;</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160; </div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;            <span class="keywordflow">if</span> (flipped)</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;                ImSwap(v_min_fudged, v_max_fudged);</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160; </div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;            <span class="comment">// Awkward special case - we need ranges of the form (-100 .. 0) to convert to (-100 .. -epsilon), not (-100 .. epsilon)</span></div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;            <span class="keywordflow">if</span> ((v_max == 0.0f) &amp;&amp; (v_min &lt; 0.0f))</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;                v_max_fudged = -logarithmic_zero_epsilon;</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160; </div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;            <span class="keywordtype">float</span> t_with_flip = flipped ? (1.0f - t) : t; <span class="comment">// t, but flipped if necessary to account for us flipping the range</span></div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160; </div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;            <span class="keywordflow">if</span> ((v_min * v_max) &lt; 0.0f) <span class="comment">// Range crosses zero, so we have to do this in two parts</span></div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;            {</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;                <span class="keywordtype">float</span> zero_point_center = (-(float)ImMin(v_min, v_max)) / ImAbs((<span class="keywordtype">float</span>)v_max - (float)v_min); <span class="comment">// The zero point in parametric space</span></div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;                <span class="keywordtype">float</span> zero_point_snap_L = zero_point_center - zero_deadzone_halfsize;</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;                <span class="keywordtype">float</span> zero_point_snap_R = zero_point_center + zero_deadzone_halfsize;</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;                <span class="keywordflow">if</span> (t_with_flip &gt;= zero_point_snap_L &amp;&amp; t_with_flip &lt;= zero_point_snap_R)</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;                    result = (TYPE)0.0f; <span class="comment">// Special case to make getting exactly zero possible (the epsilon prevents it otherwise)</span></div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t_with_flip &lt; zero_point_center)</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;                    result = (TYPE)-(logarithmic_zero_epsilon * ImPow(-v_min_fudged / logarithmic_zero_epsilon, (FLOATTYPE)(1.0f - (t_with_flip / zero_point_snap_L))));</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;                    result = (TYPE)(logarithmic_zero_epsilon * ImPow(v_max_fudged / logarithmic_zero_epsilon, (FLOATTYPE)((t_with_flip - zero_point_snap_R) / (1.0f - zero_point_snap_R))));</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;            }</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((v_min &lt; 0.0f) || (v_max &lt; 0.0f)) <span class="comment">// Entirely negative slider</span></div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;                result = (TYPE)-(-v_max_fudged * ImPow(-v_min_fudged / -v_max_fudged, (FLOATTYPE)(1.0f - t_with_flip)));</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;                result = (TYPE)(v_min_fudged * ImPow(v_max_fudged / v_min_fudged, (FLOATTYPE)t_with_flip));</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;        }</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;    }</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;    {</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;        <span class="comment">// Linear slider</span></div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;        <span class="keywordflow">if</span> (is_floating_point)</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;        {</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;            result = ImLerp(v_min, v_max, t);</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;        }</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;        {</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;            <span class="comment">// - For integer values we want the clicking position to match the grab box so we round above</span></div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;            <span class="comment">//   This code is carefully tuned to work with large values (e.g. high ranges of U64) while preserving this property..</span></div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;            <span class="comment">// - Not doing a *1.0 multiply at the end of a range as it tends to be lossy. While absolute aiming at a large s64/u64</span></div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;            <span class="comment">//   range is going to be imprecise anyway, with this check we at least make the edge values matches expected limits.</span></div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;            <span class="keywordflow">if</span> (t &lt; 1.0)</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;            {</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;                FLOATTYPE v_new_off_f = (SIGNEDTYPE)(v_max - v_min) * t;</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;                result = (TYPE)((SIGNEDTYPE)v_min + (SIGNEDTYPE)(v_new_off_f + (FLOATTYPE)(v_min &gt; v_max ? -0.5 : 0.5)));</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;            }</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;            {</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;                result = v_max;</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;            }</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;        }</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;    }</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160; </div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;}</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160; </div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;<span class="comment">// FIXME: Move more of the code into SliderBehavior()</span></div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> TYPE, <span class="keyword">typename</span> SIGNEDTYPE, <span class="keyword">typename</span> FLOATTYPE&gt;</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;<span class="keywordtype">bool</span> ImGui::SliderBehaviorT(<span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> &amp;bb, ImGuiID <span class="keywordtype">id</span>, ImGuiDataType data_type, TYPE *v, <span class="keyword">const</span> TYPE v_min, <span class="keyword">const</span> TYPE v_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiSliderFlags flags, <a class="code" href="struct_im_rect.html">ImRect</a> *out_grab_bb)</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;{</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_gui_style.html">ImGuiStyle</a> &amp;style = g.Style;</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160; </div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;    <span class="keyword">const</span> ImGuiAxis axis = (flags &amp; ImGuiSliderFlags_Vertical) ? ImGuiAxis_Y : ImGuiAxis_X;</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_logarithmic = (flags &amp; ImGuiSliderFlags_Logarithmic) != 0;</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_floating_point = (data_type == ImGuiDataType_Float) || (data_type == ImGuiDataType_Double);</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160; </div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> grab_padding = 2.0f;</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> slider_sz = (bb.Max[axis] - bb.Min[axis]) - grab_padding * 2.0f;</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;    <span class="keywordtype">float</span> grab_sz = style.GrabMinSize;</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;    SIGNEDTYPE v_range = (v_min &lt; v_max ? v_max - v_min : v_min - v_max);</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;    <span class="keywordflow">if</span> (!is_floating_point &amp;&amp; v_range &gt;= 0)                                             <span class="comment">// v_range &lt; 0 may happen on integer overflows</span></div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;        grab_sz = ImMax((<span class="keywordtype">float</span>)(slider_sz / (v_range + 1)), style.GrabMinSize);  <span class="comment">// For integer sliders: if possible have the grab size represent 1 unit</span></div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;    grab_sz = ImMin(grab_sz, slider_sz);</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> slider_usable_sz = slider_sz - grab_sz;</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> slider_usable_pos_min = bb.Min[axis] + grab_padding + grab_sz * 0.5f;</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> slider_usable_pos_max = bb.Max[axis] - grab_padding - grab_sz * 0.5f;</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160; </div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;    <span class="keywordtype">float</span> logarithmic_zero_epsilon = 0.0f; <span class="comment">// Only valid when is_logarithmic is true</span></div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;    <span class="keywordtype">float</span> zero_deadzone_halfsize = 0.0f; <span class="comment">// Only valid when is_logarithmic is true</span></div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;    <span class="keywordflow">if</span> (is_logarithmic)</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;    {</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;        <span class="comment">// When using logarithmic sliders, we need to clamp to avoid hitting zero, but our choice of clamp value greatly affects slider precision. We attempt to use the specified precision to estimate a good lower bound.</span></div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> decimal_precision = is_floating_point ? ImParseFormatPrecision(format, 3) : 1;</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;        logarithmic_zero_epsilon = ImPow(0.1f, (<span class="keywordtype">float</span>)decimal_precision);</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;        zero_deadzone_halfsize = (style.LogSliderDeadzone * 0.5f) / ImMax(slider_usable_sz, 1.0f);</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;    }</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160; </div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;    <span class="comment">// Process interacting with the slider</span></div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;    <span class="keywordtype">bool</span> value_changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;    <span class="keywordflow">if</span> (g.ActiveId == <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;    {</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;        <span class="keywordtype">bool</span> set_new_value = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;        <span class="keywordtype">float</span> clicked_t = 0.0f;</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;        <span class="keywordflow">if</span> (g.ActiveIdSource == ImGuiInputSource_Mouse)</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;        {</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;            <span class="keywordflow">if</span> (!g.IO.MouseDown[0])</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;            {</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;                ClearActiveID();</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;            }</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;            {</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">float</span> mouse_abs_pos = g.IO.MousePos[axis];</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;                clicked_t = (slider_usable_sz &gt; 0.0f) ? ImClamp((mouse_abs_pos - slider_usable_pos_min) / slider_usable_sz, 0.0f, 1.0f) : 0.0f;</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;                <span class="keywordflow">if</span> (axis == ImGuiAxis_Y)</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;                    clicked_t = 1.0f - clicked_t;</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;                set_new_value = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;            }</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;        }</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (g.ActiveIdSource == ImGuiInputSource_Nav)</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;        {</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;            <span class="keywordflow">if</span> (g.ActiveIdIsJustActivated)</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;            {</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;                g.SliderCurrentAccum = 0.0f; <span class="comment">// Reset any stored nav delta upon activation</span></div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;                g.SliderCurrentAccumDirty = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;            }</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160; </div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;            <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> input_delta2 = GetNavInputAmount2d(ImGuiNavDirSourceFlags_Keyboard | ImGuiNavDirSourceFlags_PadDPad, ImGuiInputReadMode_RepeatFast, 0.0f, 0.0f);</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;            <span class="keywordtype">float</span> input_delta = (axis == ImGuiAxis_X) ? input_delta2.x : -input_delta2.y;</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;            if (input_delta != 0.0f)</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;            {</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> decimal_precision = is_floating_point ? ImParseFormatPrecision(format, 3) : 0;</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;                <span class="keywordflow">if</span> (decimal_precision &gt; 0)</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;                {</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;                    input_delta /= 100.0f;    <span class="comment">// Gamepad/keyboard tweak speeds in % of slider bounds</span></div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;                    <span class="keywordflow">if</span> (IsNavInputDown(ImGuiNavInput_TweakSlow))</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;                        input_delta /= 10.0f;</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;                }</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;                {</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;                    <span class="keywordflow">if</span> ((v_range &gt;= -100.0f &amp;&amp; v_range &lt;= 100.0f) || IsNavInputDown(ImGuiNavInput_TweakSlow))</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;                        input_delta = ((input_delta &lt; 0.0f) ? -1.0f : +1.0f) / (float)v_range; <span class="comment">// Gamepad/keyboard tweak speeds in integer steps</span></div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;                        input_delta /= 100.0f;</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;                }</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;                <span class="keywordflow">if</span> (IsNavInputDown(ImGuiNavInput_TweakFast))</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;                    input_delta *= 10.0f;</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160; </div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;                g.SliderCurrentAccum += input_delta;</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;                g.SliderCurrentAccumDirty = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;            }</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160; </div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;            <span class="keywordtype">float</span> delta = g.SliderCurrentAccum;</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;            <span class="keywordflow">if</span> (g.NavActivatePressedId == <span class="keywordtype">id</span> &amp;&amp; !g.ActiveIdIsJustActivated)</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;            {</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;                ClearActiveID();</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;            }</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (g.SliderCurrentAccumDirty)</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;            {</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;                clicked_t = ScaleRatioFromValueT&lt;TYPE, SIGNEDTYPE, FLOATTYPE&gt;(data_type, *v, v_min, v_max, is_logarithmic, logarithmic_zero_epsilon, zero_deadzone_halfsize);</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160; </div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;                <span class="keywordflow">if</span> ((clicked_t &gt;= 1.0f &amp;&amp; delta &gt; 0.0f) || (clicked_t &lt;= 0.0f &amp;&amp; delta &lt; 0.0f)) <span class="comment">// This is to avoid applying the saturation when already past the limits</span></div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;                {</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;                    set_new_value = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;                    g.SliderCurrentAccum = 0.0f; <span class="comment">// If pushing up against the limits, don&#39;t continue to accumulate</span></div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;                }</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;                {</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;                    set_new_value = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;                    <span class="keywordtype">float</span> old_clicked_t = clicked_t;</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;                    clicked_t = ImSaturate(clicked_t + delta);</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160; </div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;                    <span class="comment">// Calculate what our &quot;new&quot; clicked_t will be, and thus how far we actually moved the slider, and subtract this from the accumulator</span></div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;                    TYPE v_new = ScaleValueFromRatioT&lt;TYPE, SIGNEDTYPE, FLOATTYPE&gt;(data_type, clicked_t, v_min, v_max, is_logarithmic, logarithmic_zero_epsilon, zero_deadzone_halfsize);</div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;                    <span class="keywordflow">if</span> (!(flags &amp; ImGuiSliderFlags_NoRoundToFormat))</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;                        v_new = RoundScalarWithFormatT&lt;TYPE, SIGNEDTYPE&gt;(format, data_type, v_new);</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;                    <span class="keywordtype">float</span> new_clicked_t = ScaleRatioFromValueT&lt;TYPE, SIGNEDTYPE, FLOATTYPE&gt;(data_type, v_new, v_min, v_max, is_logarithmic, logarithmic_zero_epsilon, zero_deadzone_halfsize);</div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160; </div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;                    <span class="keywordflow">if</span> (delta &gt; 0)</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;                        g.SliderCurrentAccum -= ImMin(new_clicked_t - old_clicked_t, delta);</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;                        g.SliderCurrentAccum -= ImMax(new_clicked_t - old_clicked_t, delta);</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;                }</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160; </div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;                g.SliderCurrentAccumDirty = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;            }</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;        }</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160; </div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;        <span class="keywordflow">if</span> (set_new_value)</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;        {</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;            TYPE v_new = ScaleValueFromRatioT&lt;TYPE, SIGNEDTYPE, FLOATTYPE&gt;(data_type, clicked_t, v_min, v_max, is_logarithmic, logarithmic_zero_epsilon, zero_deadzone_halfsize);</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160; </div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;            <span class="comment">// Round to user desired precision based on format string</span></div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;            <span class="keywordflow">if</span> (!(flags &amp; ImGuiSliderFlags_NoRoundToFormat))</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;                v_new = RoundScalarWithFormatT&lt;TYPE, SIGNEDTYPE&gt;(format, data_type, v_new);</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160; </div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;            <span class="comment">// Apply result</span></div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;            <span class="keywordflow">if</span> (*v != v_new)</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;            {</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;                *v = v_new;</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;                value_changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;            }</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;        }</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;    }</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160; </div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;    <span class="keywordflow">if</span> (slider_sz &lt; 1.0f)</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;    {</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;        *out_grab_bb = <a class="code" href="struct_im_rect.html">ImRect</a>(bb.Min, bb.Min);</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;    }</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;    {</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;        <span class="comment">// Output grab position so it can be displayed by the caller</span></div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;        <span class="keywordtype">float</span> grab_t = ScaleRatioFromValueT&lt;TYPE, SIGNEDTYPE, FLOATTYPE&gt;(data_type, *v, v_min, v_max, is_logarithmic, logarithmic_zero_epsilon, zero_deadzone_halfsize);</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;        <span class="keywordflow">if</span> (axis == ImGuiAxis_Y)</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;            grab_t = 1.0f - grab_t;</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> grab_pos = ImLerp(slider_usable_pos_min, slider_usable_pos_max, grab_t);</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;        <span class="keywordflow">if</span> (axis == ImGuiAxis_X)</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;            *out_grab_bb = <a class="code" href="struct_im_rect.html">ImRect</a>(grab_pos - grab_sz * 0.5f, bb.Min.y + grab_padding, grab_pos + grab_sz * 0.5f, bb.Max.y - grab_padding);</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;            *out_grab_bb = <a class="code" href="struct_im_rect.html">ImRect</a>(bb.Min.x + grab_padding, grab_pos - grab_sz * 0.5f, bb.Max.x - grab_padding, grab_pos + grab_sz * 0.5f);</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;    }</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160; </div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;    <span class="keywordflow">return</span> value_changed;</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;}</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160; </div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;<span class="comment">// For 32-bit and larger types, slider bounds are limited to half the natural type range.</span></div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;<span class="comment">// So e.g. an integer Slider between INT_MAX-10 and INT_MAX will fail, but an integer Slider between INT_MAX/2-10 and INT_MAX/2 will be ok.</span></div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;<span class="comment">// It would be possible to lift that limitation with some work but it doesn&#39;t seem to be worth it for sliders.</span></div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;<span class="keywordtype">bool</span> ImGui::SliderBehavior(<span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> &amp;bb, ImGuiID <span class="keywordtype">id</span>, ImGuiDataType data_type, <span class="keywordtype">void</span> *p_v, <span class="keyword">const</span> <span class="keywordtype">void</span> *p_min, <span class="keyword">const</span> <span class="keywordtype">void</span> *p_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiSliderFlags flags, <a class="code" href="struct_im_rect.html">ImRect</a> *out_grab_bb)</div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;{</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;    <span class="comment">// Read imgui.cpp &quot;API BREAKING CHANGES&quot; section for 1.78 if you hit this assert.</span></div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;    IM_ASSERT((flags == 1 || (flags &amp; ImGuiSliderFlags_InvalidMask_) == 0) &amp;&amp; <span class="stringliteral">&quot;Invalid ImGuiSliderFlags flag!  Has the &#39;float power&#39; argument been mistakenly cast to flags? Call function with ImGuiSliderFlags_Logarithmic flags instead.&quot;</span>);</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160; </div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;    <span class="keywordflow">if</span> ((g.LastItemData.InFlags &amp; ImGuiItemFlags_ReadOnly) || (flags &amp; ImGuiSliderFlags_ReadOnly))</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160; </div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;    <span class="keywordflow">switch</span> (data_type)</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;    {</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_S8:</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;    {</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;        ImS32 v32 = (ImS32) * (ImS8 *)p_v;  <span class="keywordtype">bool</span> r = SliderBehaviorT&lt;ImS32, ImS32, float&gt;(bb, <span class="keywordtype">id</span>, ImGuiDataType_S32, &amp;v32, *(<span class="keyword">const</span> ImS8 *)p_min, *(<span class="keyword">const</span> ImS8 *)p_max, format, flags, out_grab_bb); <span class="keywordflow">if</span> (r) *(ImS8 *)p_v = (ImS8)v32;  <span class="keywordflow">return</span> r;</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;    }</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_U8:</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;    {</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;        ImU32 v32 = (ImU32) * (ImU8 *)p_v;  <span class="keywordtype">bool</span> r = SliderBehaviorT&lt;ImU32, ImS32, float&gt;(bb, <span class="keywordtype">id</span>, ImGuiDataType_U32, &amp;v32, *(<span class="keyword">const</span> ImU8 *)p_min, *(<span class="keyword">const</span> ImU8 *)p_max, format, flags, out_grab_bb); <span class="keywordflow">if</span> (r) *(ImU8 *)p_v = (ImU8)v32;  <span class="keywordflow">return</span> r;</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;    }</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_S16:</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;    {</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;        ImS32 v32 = (ImS32) * (ImS16 *)p_v; <span class="keywordtype">bool</span> r = SliderBehaviorT&lt;ImS32, ImS32, float&gt;(bb, <span class="keywordtype">id</span>, ImGuiDataType_S32, &amp;v32, *(<span class="keyword">const</span> ImS16 *)p_min, *(<span class="keyword">const</span> ImS16 *)p_max, format, flags, out_grab_bb); <span class="keywordflow">if</span> (r) *(ImS16 *)p_v = (ImS16)v32; <span class="keywordflow">return</span> r;</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;    }</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_U16:</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;    {</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;        ImU32 v32 = (ImU32) * (ImU16 *)p_v; <span class="keywordtype">bool</span> r = SliderBehaviorT&lt;ImU32, ImS32, float&gt;(bb, <span class="keywordtype">id</span>, ImGuiDataType_U32, &amp;v32, *(<span class="keyword">const</span> ImU16 *)p_min, *(<span class="keyword">const</span> ImU16 *)p_max, format, flags, out_grab_bb); <span class="keywordflow">if</span> (r) *(ImU16 *)p_v = (ImU16)v32; <span class="keywordflow">return</span> r;</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;    }</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_S32:</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;        IM_ASSERT(*(<span class="keyword">const</span> ImS32 *)p_min &gt;= IM_S32_MIN / 2 &amp;&amp; *(<span class="keyword">const</span> ImS32 *)p_max &lt;= IM_S32_MAX / 2);</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;        <span class="keywordflow">return</span> SliderBehaviorT&lt;ImS32, ImS32, float &gt;(bb, <span class="keywordtype">id</span>, data_type, (ImS32 *)p_v, *(<span class="keyword">const</span> ImS32 *)p_min, *(<span class="keyword">const</span> ImS32 *)p_max, format, flags, out_grab_bb);</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_U32:</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;        IM_ASSERT(*(<span class="keyword">const</span> ImU32 *)p_max &lt;= IM_U32_MAX / 2);</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;        <span class="keywordflow">return</span> SliderBehaviorT&lt;ImU32, ImS32, float &gt;(bb, <span class="keywordtype">id</span>, data_type, (ImU32 *)p_v, *(<span class="keyword">const</span> ImU32 *)p_min, *(<span class="keyword">const</span> ImU32 *)p_max, format, flags, out_grab_bb);</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_S64:</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;        IM_ASSERT(*(<span class="keyword">const</span> ImS64 *)p_min &gt;= IM_S64_MIN / 2 &amp;&amp; *(<span class="keyword">const</span> ImS64 *)p_max &lt;= IM_S64_MAX / 2);</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;        <span class="keywordflow">return</span> SliderBehaviorT&lt;ImS64, ImS64, double&gt;(bb, <span class="keywordtype">id</span>, data_type, (ImS64 *)p_v, *(<span class="keyword">const</span> ImS64 *)p_min, *(<span class="keyword">const</span> ImS64 *)p_max, format, flags, out_grab_bb);</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_U64:</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;        IM_ASSERT(*(<span class="keyword">const</span> ImU64 *)p_max &lt;= IM_U64_MAX / 2);</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;        <span class="keywordflow">return</span> SliderBehaviorT&lt;ImU64, ImS64, double&gt;(bb, <span class="keywordtype">id</span>, data_type, (ImU64 *)p_v, *(<span class="keyword">const</span> ImU64 *)p_min, *(<span class="keyword">const</span> ImU64 *)p_max, format, flags, out_grab_bb);</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_Float:</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;        IM_ASSERT(*(<span class="keyword">const</span> <span class="keywordtype">float</span> *)p_min &gt;= -FLT_MAX / 2.0f &amp;&amp; *(<span class="keyword">const</span> <span class="keywordtype">float</span> *)p_max &lt;= FLT_MAX / 2.0f);</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;        <span class="keywordflow">return</span> SliderBehaviorT&lt;float, float, float &gt;(bb, <span class="keywordtype">id</span>, data_type, (<span class="keywordtype">float</span> *)p_v, *(<span class="keyword">const</span> <span class="keywordtype">float</span> *)p_min, *(<span class="keyword">const</span> <span class="keywordtype">float</span> *)p_max, format, flags, out_grab_bb);</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_Double:</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;        IM_ASSERT(*(<span class="keyword">const</span> <span class="keywordtype">double</span> *)p_min &gt;= -DBL_MAX / 2.0f &amp;&amp; *(<span class="keyword">const</span> <span class="keywordtype">double</span> *)p_max &lt;= DBL_MAX / 2.0f);</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;        <span class="keywordflow">return</span> SliderBehaviorT&lt;double, double, double&gt;(bb, <span class="keywordtype">id</span>, data_type, (<span class="keywordtype">double</span> *)p_v, *(<span class="keyword">const</span> <span class="keywordtype">double</span> *)p_min, *(<span class="keyword">const</span> <span class="keywordtype">double</span> *)p_max, format, flags, out_grab_bb);</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;    <span class="keywordflow">case</span> ImGuiDataType_COUNT: <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;    }</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;    IM_ASSERT(0);</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;}</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160; </div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;<span class="comment">// Note: p_data, p_min and p_max are _pointers_ to a memory address holding the data. For a slider, they are all required.</span></div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;<span class="comment">// Read code of e.g. SliderFloat(), SliderInt() etc. or examples in &#39;Demo-&gt;Widgets-&gt;Data Types&#39; to understand how to use this function directly.</span></div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;<span class="keywordtype">bool</span> ImGui::SliderScalar(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, ImGuiDataType data_type, <span class="keywordtype">void</span> *p_data, <span class="keyword">const</span> <span class="keywordtype">void</span> *p_min, <span class="keyword">const</span> <span class="keywordtype">void</span> *p_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiSliderFlags flags)</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;{</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160; </div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_gui_style.html">ImGuiStyle</a> &amp;style = g.Style;</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;    <span class="keyword">const</span> ImGuiID <span class="keywordtype">id</span> = window-&gt;GetID(label);</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> w = CalcItemWidth();</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160; </div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> label_size = CalcTextSize(label, NULL, <span class="keyword">true</span>);</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> frame_bb(window-&gt;DC.CursorPos, window-&gt;DC.CursorPos + <a class="code" href="struct_im_vec2.html">ImVec2</a>(w, label_size.y + style.FramePadding.y * 2.0f));</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> total_bb(frame_bb.Min, frame_bb.Max + <a class="code" href="struct_im_vec2.html">ImVec2</a>(label_size.x &gt; 0.0f ? style.ItemInnerSpacing.x + label_size.x : 0.0f, 0.0f));</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160; </div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> temp_input_allowed = (flags &amp; ImGuiSliderFlags_NoInput) == 0;</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;    ItemSize(total_bb, style.FramePadding.y);</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;    <span class="keywordflow">if</span> (!ItemAdd(total_bb, <span class="keywordtype">id</span>, &amp;frame_bb, temp_input_allowed ? ImGuiItemAddFlags_Focusable : 0))</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160; </div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;    <span class="comment">// Default format string when passing NULL</span></div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;    <span class="keywordflow">if</span> (format == NULL)</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;        format = DataTypeGetInfo(data_type)-&gt;PrintFmt;</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (data_type == ImGuiDataType_S32 &amp;&amp; strcmp(format, <span class="stringliteral">&quot;%d&quot;</span>) != 0) <span class="comment">// (FIXME-LEGACY: Patch old &quot;%.0f&quot; format string to use &quot;%d&quot;, read function more details.)</span></div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;        format = PatchFormatStringFloatToInt(format);</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160; </div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;    <span class="comment">// Tabbing or CTRL-clicking on Slider turns it into an input box</span></div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> hovered = ItemHoverable(frame_bb, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;    <span class="keywordtype">bool</span> temp_input_is_active = temp_input_allowed &amp;&amp; TempInputIsActive(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;    <span class="keywordflow">if</span> (!temp_input_is_active)</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;    {</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> focus_requested = temp_input_allowed &amp;&amp; (g.LastItemData.StatusFlags &amp; ImGuiItemStatusFlags_Focused) != 0;</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> clicked = (hovered &amp;&amp; g.IO.MouseClicked[0]);</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;        <span class="keywordflow">if</span> (focus_requested || clicked || g.NavActivateId == <span class="keywordtype">id</span> || g.NavInputId == <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;        {</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;            SetActiveID(<span class="keywordtype">id</span>, window);</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;            SetFocusID(<span class="keywordtype">id</span>, window);</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;            FocusWindow(window);</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;            g.ActiveIdUsingNavDirMask |= (1 &lt;&lt; ImGuiDir_Left) | (1 &lt;&lt; ImGuiDir_Right);</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;            <span class="keywordflow">if</span> (temp_input_allowed &amp;&amp; (focus_requested || (clicked &amp;&amp; g.IO.KeyCtrl) || g.NavInputId == <span class="keywordtype">id</span>))</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;                temp_input_is_active = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;        }</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;    }</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160; </div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;    <span class="keywordflow">if</span> (temp_input_is_active)</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;    {</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;        <span class="comment">// Only clamp CTRL+Click input when ImGuiSliderFlags_AlwaysClamp is set</span></div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_clamp_input = (flags &amp; ImGuiSliderFlags_AlwaysClamp) != 0;</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;        <span class="keywordflow">return</span> TempInputScalar(frame_bb, <span class="keywordtype">id</span>, label, data_type, p_data, format, is_clamp_input ? p_min : NULL, is_clamp_input ? p_max : NULL);</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;    }</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160; </div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;    <span class="comment">// Draw frame</span></div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;    <span class="keyword">const</span> ImU32 frame_col = GetColorU32(g.ActiveId == <span class="keywordtype">id</span> ? ImGuiCol_FrameBgActive : hovered ? ImGuiCol_FrameBgHovered : ImGuiCol_FrameBg);</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;    RenderNavHighlight(frame_bb, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;    RenderFrame(frame_bb.Min, frame_bb.Max, frame_col, <span class="keyword">true</span>, g.Style.FrameRounding);</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160; </div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;    <span class="comment">// Slider behavior</span></div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;    <a class="code" href="struct_im_rect.html">ImRect</a> grab_bb;</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> value_changed = SliderBehavior(frame_bb, <span class="keywordtype">id</span>, data_type, p_data, p_min, p_max, format, flags, &amp;grab_bb);</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;    <span class="keywordflow">if</span> (value_changed)</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;        MarkItemEdited(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160; </div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;    <span class="comment">// Render grab</span></div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;    <span class="keywordflow">if</span> (grab_bb.Max.x &gt; grab_bb.Min.x)</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;        window-&gt;DrawList-&gt;AddRectFilled(grab_bb.Min, grab_bb.Max, GetColorU32(g.ActiveId == <span class="keywordtype">id</span> ? ImGuiCol_SliderGrabActive : ImGuiCol_SliderGrab), style.GrabRounding);</div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160; </div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;    <span class="comment">// Display value using user-provided display format so user can add prefix/suffix/decorations to the value.</span></div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;    <span class="keywordtype">char</span> value_buf[64];</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *value_buf_end = value_buf + DataTypeFormatString(value_buf, IM_ARRAYSIZE(value_buf), data_type, p_data, format);</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;    <span class="keywordflow">if</span> (g.LogEnabled)</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;        LogSetNextTextDecoration(<span class="stringliteral">&quot;{&quot;</span>, <span class="stringliteral">&quot;}&quot;</span>);</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;    RenderTextClipped(frame_bb.Min, frame_bb.Max, value_buf, value_buf_end, NULL, <a class="code" href="struct_im_vec2.html">ImVec2</a>(0.5f, 0.5f));</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160; </div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;    <span class="keywordflow">if</span> (label_size.x &gt; 0.0f)</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;        RenderText(<a class="code" href="struct_im_vec2.html">ImVec2</a>(frame_bb.Max.x + style.ItemInnerSpacing.x, frame_bb.Min.y + style.FramePadding.y), label);</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160; </div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;    IMGUI_TEST_ENGINE_ITEM_INFO(<span class="keywordtype">id</span>, label, g.LastItemData.StatusFlags);</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;    <span class="keywordflow">return</span> value_changed;</div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;}</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160; </div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;<span class="comment">// Add multiple sliders on 1 line for compact edition of multiple components</span></div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;<span class="keywordtype">bool</span> ImGui::SliderScalarN(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, ImGuiDataType data_type, <span class="keywordtype">void</span> *v, <span class="keywordtype">int</span> components, <span class="keyword">const</span> <span class="keywordtype">void</span> *v_min, <span class="keyword">const</span> <span class="keywordtype">void</span> *v_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiSliderFlags flags)</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;{</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160; </div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;    <span class="keywordtype">bool</span> value_changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;    BeginGroup();</div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;    PushID(label);</div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;    PushMultiItemsWidths(components, CalcItemWidth());</div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;    <span class="keywordtype">size_t</span> type_size = GDataTypeInfo[data_type].Size;</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; components; i++)</div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;    {</div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;        PushID(i);</div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;        <span class="keywordflow">if</span> (i &gt; 0)</div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;            SameLine(0, g.Style.ItemInnerSpacing.x);</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;        value_changed |= SliderScalar(<span class="stringliteral">&quot;&quot;</span>, data_type, v, v_min, v_max, format, flags);</div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;        PopID();</div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;        PopItemWidth();</div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;        v = (<span class="keywordtype">void</span> *)((<span class="keywordtype">char</span> *)v + type_size);</div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;    }</div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;    PopID();</div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160; </div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *label_end = FindRenderedTextEnd(label);</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;    <span class="keywordflow">if</span> (label != label_end)</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;    {</div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;        SameLine(0, g.Style.ItemInnerSpacing.x);</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;        TextEx(label, label_end);</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;    }</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160; </div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;    EndGroup();</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;    <span class="keywordflow">return</span> value_changed;</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;}</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160; </div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;<span class="keywordtype">bool</span> ImGui::SliderFloat(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">float</span> *v, <span class="keywordtype">float</span> v_min, <span class="keywordtype">float</span> v_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiSliderFlags flags)</div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;{</div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;    <span class="keywordflow">return</span> SliderScalar(label, ImGuiDataType_Float, v, &amp;v_min, &amp;v_max, format, flags);</div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;}</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160; </div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;<span class="keywordtype">bool</span> ImGui::SliderFloat2(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">float</span> v[2], <span class="keywordtype">float</span> v_min, <span class="keywordtype">float</span> v_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiSliderFlags flags)</div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;{</div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;    <span class="keywordflow">return</span> SliderScalarN(label, ImGuiDataType_Float, v, 2, &amp;v_min, &amp;v_max, format, flags);</div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;}</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160; </div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;<span class="keywordtype">bool</span> ImGui::SliderFloat3(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">float</span> v[3], <span class="keywordtype">float</span> v_min, <span class="keywordtype">float</span> v_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiSliderFlags flags)</div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;{</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;    <span class="keywordflow">return</span> SliderScalarN(label, ImGuiDataType_Float, v, 3, &amp;v_min, &amp;v_max, format, flags);</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;}</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160; </div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;<span class="keywordtype">bool</span> ImGui::SliderFloat4(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">float</span> v[4], <span class="keywordtype">float</span> v_min, <span class="keywordtype">float</span> v_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiSliderFlags flags)</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;{</div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;    <span class="keywordflow">return</span> SliderScalarN(label, ImGuiDataType_Float, v, 4, &amp;v_min, &amp;v_max, format, flags);</div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;}</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160; </div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;<span class="keywordtype">bool</span> ImGui::SliderAngle(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">float</span> *v_rad, <span class="keywordtype">float</span> v_degrees_min, <span class="keywordtype">float</span> v_degrees_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiSliderFlags flags)</div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;{</div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;    <span class="keywordflow">if</span> (format == NULL)</div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;        format = <span class="stringliteral">&quot;%.0f deg&quot;</span>;</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;    <span class="keywordtype">float</span> v_deg = (*v_rad) * 360.0f / (2 * IM_PI);</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;    <span class="keywordtype">bool</span> value_changed = SliderFloat(label, &amp;v_deg, v_degrees_min, v_degrees_max, format, flags);</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;    *v_rad = v_deg * (2 * IM_PI) / 360.0f;</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;    <span class="keywordflow">return</span> value_changed;</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;}</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160; </div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;<span class="keywordtype">bool</span> ImGui::SliderInt(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">int</span> *v, <span class="keywordtype">int</span> v_min, <span class="keywordtype">int</span> v_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiSliderFlags flags)</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;{</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;    <span class="keywordflow">return</span> SliderScalar(label, ImGuiDataType_S32, v, &amp;v_min, &amp;v_max, format, flags);</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;}</div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160; </div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;<span class="keywordtype">bool</span> ImGui::SliderInt2(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">int</span> v[2], <span class="keywordtype">int</span> v_min, <span class="keywordtype">int</span> v_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiSliderFlags flags)</div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;{</div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;    <span class="keywordflow">return</span> SliderScalarN(label, ImGuiDataType_S32, v, 2, &amp;v_min, &amp;v_max, format, flags);</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;}</div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160; </div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;<span class="keywordtype">bool</span> ImGui::SliderInt3(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">int</span> v[3], <span class="keywordtype">int</span> v_min, <span class="keywordtype">int</span> v_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiSliderFlags flags)</div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;{</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;    <span class="keywordflow">return</span> SliderScalarN(label, ImGuiDataType_S32, v, 3, &amp;v_min, &amp;v_max, format, flags);</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;}</div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160; </div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;<span class="keywordtype">bool</span> ImGui::SliderInt4(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">int</span> v[4], <span class="keywordtype">int</span> v_min, <span class="keywordtype">int</span> v_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiSliderFlags flags)</div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;{</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;    <span class="keywordflow">return</span> SliderScalarN(label, ImGuiDataType_S32, v, 4, &amp;v_min, &amp;v_max, format, flags);</div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;}</div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160; </div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;<span class="keywordtype">bool</span> ImGui::VSliderScalar(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> &amp;size, ImGuiDataType data_type, <span class="keywordtype">void</span> *p_data, <span class="keyword">const</span> <span class="keywordtype">void</span> *p_min, <span class="keyword">const</span> <span class="keywordtype">void</span> *p_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiSliderFlags flags)</div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;{</div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160; </div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_gui_style.html">ImGuiStyle</a> &amp;style = g.Style;</div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;    <span class="keyword">const</span> ImGuiID <span class="keywordtype">id</span> = window-&gt;GetID(label);</div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160; </div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> label_size = CalcTextSize(label, NULL, <span class="keyword">true</span>);</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> frame_bb(window-&gt;DC.CursorPos, window-&gt;DC.CursorPos + size);</div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> bb(frame_bb.Min, frame_bb.Max + <a class="code" href="struct_im_vec2.html">ImVec2</a>(label_size.x &gt; 0.0f ? style.ItemInnerSpacing.x + label_size.x : 0.0f, 0.0f));</div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160; </div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;    ItemSize(bb, style.FramePadding.y);</div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;    <span class="keywordflow">if</span> (!ItemAdd(frame_bb, <span class="keywordtype">id</span>))</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160; </div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;    <span class="comment">// Default format string when passing NULL</span></div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;    <span class="keywordflow">if</span> (format == NULL)</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;        format = DataTypeGetInfo(data_type)-&gt;PrintFmt;</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (data_type == ImGuiDataType_S32 &amp;&amp; strcmp(format, <span class="stringliteral">&quot;%d&quot;</span>) != 0) <span class="comment">// (FIXME-LEGACY: Patch old &quot;%.0f&quot; format string to use &quot;%d&quot;, read function more details.)</span></div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;        format = PatchFormatStringFloatToInt(format);</div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160; </div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> hovered = ItemHoverable(frame_bb, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;    <span class="keywordflow">if</span> ((hovered &amp;&amp; g.IO.MouseClicked[0]) || g.NavActivateId == <span class="keywordtype">id</span> || g.NavInputId == <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;    {</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;        SetActiveID(<span class="keywordtype">id</span>, window);</div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;        SetFocusID(<span class="keywordtype">id</span>, window);</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;        FocusWindow(window);</div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;        g.ActiveIdUsingNavDirMask |= (1 &lt;&lt; ImGuiDir_Up) | (1 &lt;&lt; ImGuiDir_Down);</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;    }</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160; </div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;    <span class="comment">// Draw frame</span></div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;    <span class="keyword">const</span> ImU32 frame_col = GetColorU32(g.ActiveId == <span class="keywordtype">id</span> ? ImGuiCol_FrameBgActive : hovered ? ImGuiCol_FrameBgHovered : ImGuiCol_FrameBg);</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;    RenderNavHighlight(frame_bb, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;    RenderFrame(frame_bb.Min, frame_bb.Max, frame_col, <span class="keyword">true</span>, g.Style.FrameRounding);</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160; </div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;    <span class="comment">// Slider behavior</span></div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;    <a class="code" href="struct_im_rect.html">ImRect</a> grab_bb;</div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> value_changed = SliderBehavior(frame_bb, <span class="keywordtype">id</span>, data_type, p_data, p_min, p_max, format, flags | ImGuiSliderFlags_Vertical, &amp;grab_bb);</div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;    <span class="keywordflow">if</span> (value_changed)</div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;        MarkItemEdited(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160; </div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;    <span class="comment">// Render grab</span></div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;    <span class="keywordflow">if</span> (grab_bb.Max.y &gt; grab_bb.Min.y)</div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;        window-&gt;DrawList-&gt;AddRectFilled(grab_bb.Min, grab_bb.Max, GetColorU32(g.ActiveId == <span class="keywordtype">id</span> ? ImGuiCol_SliderGrabActive : ImGuiCol_SliderGrab), style.GrabRounding);</div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160; </div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;    <span class="comment">// Display value using user-provided display format so user can add prefix/suffix/decorations to the value.</span></div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;    <span class="comment">// For the vertical slider we allow centered text to overlap the frame padding</span></div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;    <span class="keywordtype">char</span> value_buf[64];</div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *value_buf_end = value_buf + DataTypeFormatString(value_buf, IM_ARRAYSIZE(value_buf), data_type, p_data, format);</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;    RenderTextClipped(<a class="code" href="struct_im_vec2.html">ImVec2</a>(frame_bb.Min.x, frame_bb.Min.y + style.FramePadding.y), frame_bb.Max, value_buf, value_buf_end, NULL, <a class="code" href="struct_im_vec2.html">ImVec2</a>(0.5f, 0.0f));</div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;    <span class="keywordflow">if</span> (label_size.x &gt; 0.0f)</div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;        RenderText(<a class="code" href="struct_im_vec2.html">ImVec2</a>(frame_bb.Max.x + style.ItemInnerSpacing.x, frame_bb.Min.y + style.FramePadding.y), label);</div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160; </div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;    <span class="keywordflow">return</span> value_changed;</div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;}</div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160; </div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;<span class="keywordtype">bool</span> ImGui::VSliderFloat(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> &amp;size, <span class="keywordtype">float</span> *v, <span class="keywordtype">float</span> v_min, <span class="keywordtype">float</span> v_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiSliderFlags flags)</div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;{</div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;    <span class="keywordflow">return</span> VSliderScalar(label, size, ImGuiDataType_Float, v, &amp;v_min, &amp;v_max, format, flags);</div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;}</div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160; </div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;<span class="keywordtype">bool</span> ImGui::VSliderInt(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> &amp;size, <span class="keywordtype">int</span> *v, <span class="keywordtype">int</span> v_min, <span class="keywordtype">int</span> v_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiSliderFlags flags)</div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;{</div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;    <span class="keywordflow">return</span> VSliderScalar(label, size, ImGuiDataType_S32, v, &amp;v_min, &amp;v_max, format, flags);</div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;}</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160; </div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;<span class="preprocessor">#ifndef IMGUI_DISABLE_OBSOLETE_FUNCTIONS</span></div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160; </div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;<span class="comment">// Obsolete versions with power parameter. See https://github.com/ocornut/imgui/issues/3361 for details.</span></div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;<span class="keywordtype">bool</span> ImGui::SliderScalar(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, ImGuiDataType data_type, <span class="keywordtype">void</span> *p_data, <span class="keyword">const</span> <span class="keywordtype">void</span> *p_min, <span class="keyword">const</span> <span class="keywordtype">void</span> *p_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, <span class="keywordtype">float</span> power)</div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;{</div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;    ImGuiSliderFlags slider_flags = ImGuiSliderFlags_None;</div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;    <span class="keywordflow">if</span> (power != 1.0f)</div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;    {</div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;        IM_ASSERT(power == 1.0f &amp;&amp; <span class="stringliteral">&quot;Call function with ImGuiSliderFlags_Logarithmic flags instead of using the old &#39;float power&#39; function!&quot;</span>);</div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;        slider_flags |= ImGuiSliderFlags_Logarithmic;   <span class="comment">// Fallback for non-asserting paths</span></div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;    }</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;    <span class="keywordflow">return</span> SliderScalar(label, data_type, p_data, p_min, p_max, format, slider_flags);</div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;}</div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160; </div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;<span class="keywordtype">bool</span> ImGui::SliderScalarN(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, ImGuiDataType data_type, <span class="keywordtype">void</span> *v, <span class="keywordtype">int</span> components, <span class="keyword">const</span> <span class="keywordtype">void</span> *v_min, <span class="keyword">const</span> <span class="keywordtype">void</span> *v_max, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, <span class="keywordtype">float</span> power)</div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;{</div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;    ImGuiSliderFlags slider_flags = ImGuiSliderFlags_None;</div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;    <span class="keywordflow">if</span> (power != 1.0f)</div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;    {</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;        IM_ASSERT(power == 1.0f &amp;&amp; <span class="stringliteral">&quot;Call function with ImGuiSliderFlags_Logarithmic flags instead of using the old &#39;float power&#39; function!&quot;</span>);</div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;        slider_flags |= ImGuiSliderFlags_Logarithmic;   <span class="comment">// Fallback for non-asserting paths</span></div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;    }</div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;    <span class="keywordflow">return</span> SliderScalarN(label, data_type, v, components, v_min, v_max, format, slider_flags);</div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;}</div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160; </div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;<span class="preprocessor">#endif </span><span class="comment">// IMGUI_DISABLE_OBSOLETE_FUNCTIONS</span></div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160; </div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;<span class="comment">// [SECTION] Widgets: InputScalar, InputFloat, InputInt, etc.</span></div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;<span class="comment">// - ImParseFormatFindStart() [Internal]</span></div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;<span class="comment">// - ImParseFormatFindEnd() [Internal]</span></div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;<span class="comment">// - ImParseFormatTrimDecorations() [Internal]</span></div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;<span class="comment">// - ImParseFormatPrecision() [Internal]</span></div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;<span class="comment">// - TempInputTextScalar() [Internal]</span></div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;<span class="comment">// - InputScalar()</span></div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;<span class="comment">// - InputScalarN()</span></div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;<span class="comment">// - InputFloat()</span></div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;<span class="comment">// - InputFloat2()</span></div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;<span class="comment">// - InputFloat3()</span></div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;<span class="comment">// - InputFloat4()</span></div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;<span class="comment">// - InputInt()</span></div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;<span class="comment">// - InputInt2()</span></div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;<span class="comment">// - InputInt3()</span></div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;<span class="comment">// - InputInt4()</span></div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;<span class="comment">// - InputDouble()</span></div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160; </div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;<span class="comment">// We don&#39;t use strchr() because our strings are usually very short and often start with &#39;%&#39;</span></div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> *ImParseFormatFindStart(<span class="keyword">const</span> <span class="keywordtype">char</span> *fmt)</div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;{</div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;    <span class="keywordflow">while</span> (<span class="keywordtype">char</span> c = fmt[0])</div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;    {</div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;        <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;%&#39;</span> &amp;&amp; fmt[1] != <span class="charliteral">&#39;%&#39;</span>)</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;            <span class="keywordflow">return</span> fmt;</div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;%&#39;</span>)</div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;            fmt++;</div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;        fmt++;</div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;    }</div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;    <span class="keywordflow">return</span> fmt;</div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;}</div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160; </div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> *ImParseFormatFindEnd(<span class="keyword">const</span> <span class="keywordtype">char</span> *fmt)</div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;{</div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;    <span class="comment">// Printf/scanf types modifiers: I/L/h/j/l/t/w/z. Other uppercase letters qualify as types aka end of the format.</span></div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;    <span class="keywordflow">if</span> (fmt[0] != <span class="charliteral">&#39;%&#39;</span>)</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;        <span class="keywordflow">return</span> fmt;</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ignored_uppercase_mask = (1 &lt;&lt; (<span class="charliteral">&#39;I&#39;</span> - <span class="charliteral">&#39;A&#39;</span>)) | (1 &lt;&lt; (<span class="charliteral">&#39;L&#39;</span> - <span class="charliteral">&#39;A&#39;</span>));</div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ignored_lowercase_mask = (1 &lt;&lt; (<span class="charliteral">&#39;h&#39;</span> - <span class="charliteral">&#39;a&#39;</span>)) | (1 &lt;&lt; (<span class="charliteral">&#39;j&#39;</span> - <span class="charliteral">&#39;a&#39;</span>)) | (1 &lt;&lt; (<span class="charliteral">&#39;l&#39;</span> - <span class="charliteral">&#39;a&#39;</span>)) | (1 &lt;&lt; (<span class="charliteral">&#39;t&#39;</span> - <span class="charliteral">&#39;a&#39;</span>)) | (1 &lt;&lt; (<span class="charliteral">&#39;w&#39;</span> - <span class="charliteral">&#39;a&#39;</span>)) | (1 &lt;&lt; (<span class="charliteral">&#39;z&#39;</span> - <span class="charliteral">&#39;a&#39;</span>));</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">char</span> c; (c = *fmt) != 0; fmt++)</div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;    {</div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;        <span class="keywordflow">if</span> (c &gt;= <span class="charliteral">&#39;A&#39;</span> &amp;&amp; c &lt;= <span class="charliteral">&#39;Z&#39;</span> &amp;&amp; ((1 &lt;&lt; (c - <span class="charliteral">&#39;A&#39;</span>)) &amp; ignored_uppercase_mask) == 0)</div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;            <span class="keywordflow">return</span> fmt + 1;</div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;        <span class="keywordflow">if</span> (c &gt;= <span class="charliteral">&#39;a&#39;</span> &amp;&amp; c &lt;= <span class="charliteral">&#39;z&#39;</span> &amp;&amp; ((1 &lt;&lt; (c - <span class="charliteral">&#39;a&#39;</span>)) &amp; ignored_lowercase_mask) == 0)</div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;            <span class="keywordflow">return</span> fmt + 1;</div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;    }</div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;    <span class="keywordflow">return</span> fmt;</div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;}</div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160; </div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;<span class="comment">// Extract the format out of a format string with leading or trailing decorations</span></div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;<span class="comment">//  fmt = &quot;blah blah&quot;  -&gt; return fmt</span></div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;<span class="comment">//  fmt = &quot;%.3f&quot;       -&gt; return fmt</span></div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;<span class="comment">//  fmt = &quot;hello %.3f&quot; -&gt; return fmt + 6</span></div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;<span class="comment">//  fmt = &quot;%.3f hello&quot; -&gt; return buf written with &quot;%.3f&quot;</span></div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> *ImParseFormatTrimDecorations(<span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, <span class="keywordtype">char</span> *buf, <span class="keywordtype">size_t</span> buf_size)</div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;{</div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt_start = ImParseFormatFindStart(fmt);</div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;    <span class="keywordflow">if</span> (fmt_start[0] != <span class="charliteral">&#39;%&#39;</span>)</div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;        <span class="keywordflow">return</span> fmt;</div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt_end = ImParseFormatFindEnd(fmt_start);</div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;    <span class="keywordflow">if</span> (fmt_end[0] == 0) <span class="comment">// If we only have leading decoration, we don&#39;t need to copy the data.</span></div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;        <span class="keywordflow">return</span> fmt_start;</div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;    ImStrncpy(buf, fmt_start, ImMin((<span class="keywordtype">size_t</span>)(fmt_end - fmt_start) + 1, buf_size));</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;    <span class="keywordflow">return</span> buf;</div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;}</div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160; </div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;<span class="comment">// Parse display precision back from the display format string</span></div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;<span class="comment">// FIXME: This is still used by some navigation code path to infer a minimum tweak step, but we should aim to rework widgets so it isn&#39;t needed.</span></div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;<span class="keywordtype">int</span> ImParseFormatPrecision(<span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, <span class="keywordtype">int</span> default_precision)</div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;{</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;    fmt = ImParseFormatFindStart(fmt);</div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;    <span class="keywordflow">if</span> (fmt[0] != <span class="charliteral">&#39;%&#39;</span>)</div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;        <span class="keywordflow">return</span> default_precision;</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;    fmt++;</div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;    <span class="keywordflow">while</span> (*fmt &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; *fmt &lt;= <span class="charliteral">&#39;9&#39;</span>)</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;        fmt++;</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;    <span class="keywordtype">int</span> precision = INT_MAX;</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;    <span class="keywordflow">if</span> (*fmt == <span class="charliteral">&#39;.&#39;</span>)</div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;    {</div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;        fmt = ImAtoi&lt;int&gt;(fmt + 1, &amp;precision);</div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;        <span class="keywordflow">if</span> (precision &lt; 0 || precision &gt; 99)</div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;            precision = default_precision;</div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;    }</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;    <span class="keywordflow">if</span> (*fmt == <span class="charliteral">&#39;e&#39;</span> || *fmt == <span class="charliteral">&#39;E&#39;</span>) <span class="comment">// Maximum precision with scientific notation</span></div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;        precision = -1;</div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;    <span class="keywordflow">if</span> ((*fmt == <span class="charliteral">&#39;g&#39;</span> || *fmt == <span class="charliteral">&#39;G&#39;</span>) &amp;&amp; precision == INT_MAX)</div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;        precision = -1;</div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;    <span class="keywordflow">return</span> (precision == INT_MAX) ? default_precision : precision;</div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;}</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160; </div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;<span class="comment">// Create text input in place of another active widget (e.g. used when doing a CTRL+Click on drag/slider widgets)</span></div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;<span class="comment">// FIXME: Facilitate using this in variety of other situations.</span></div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;<span class="keywordtype">bool</span> ImGui::TempInputText(<span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> &amp;bb, ImGuiID <span class="keywordtype">id</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">char</span> *buf, <span class="keywordtype">int</span> buf_size, ImGuiInputTextFlags flags)</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;{</div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;    <span class="comment">// On the first frame, g.TempInputTextId == 0, then on subsequent frames it becomes == id.</span></div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;    <span class="comment">// We clear ActiveID on the first frame to allow the InputText() taking it back.</span></div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> init = (g.TempInputId != id);</div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;    <span class="keywordflow">if</span> (init)</div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;        ClearActiveID();</div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160; </div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;    g.CurrentWindow-&gt;DC.CursorPos = bb.Min;</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;    <span class="keywordtype">bool</span> value_changed = InputTextEx(label, NULL, buf, buf_size, bb.GetSize(), flags | ImGuiInputTextFlags_MergedItem);</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;    <span class="keywordflow">if</span> (init)</div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;    {</div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;        <span class="comment">// First frame we started displaying the InputText widget, we expect it to take the active id.</span></div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;        IM_ASSERT(g.ActiveId == <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;        g.TempInputId = g.ActiveId;</div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;    }</div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;    <span class="keywordflow">return</span> value_changed;</div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;}</div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160; </div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;<span class="comment">// Note that Drag/Slider functions are only forwarding the min/max values clamping values if the ImGuiSliderFlags_AlwaysClamp flag is set!</span></div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;<span class="comment">// This is intended: this way we allow CTRL+Click manual input to set a value out of bounds, for maximum flexibility.</span></div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;<span class="comment">// However this may not be ideal for all uses, as some user code may break on out of bound values.</span></div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;<span class="keywordtype">bool</span> ImGui::TempInputScalar(<span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> &amp;bb, ImGuiID <span class="keywordtype">id</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> *label, ImGuiDataType data_type, <span class="keywordtype">void</span> *p_data, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, <span class="keyword">const</span> <span class="keywordtype">void</span> *p_clamp_min, <span class="keyword">const</span> <span class="keywordtype">void</span> *p_clamp_max)</div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;{</div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160; </div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;    <span class="keywordtype">char</span> fmt_buf[32];</div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;    <span class="keywordtype">char</span> data_buf[32];</div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;    format = ImParseFormatTrimDecorations(format, fmt_buf, IM_ARRAYSIZE(fmt_buf));</div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;    DataTypeFormatString(data_buf, IM_ARRAYSIZE(data_buf), data_type, p_data, format);</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;    ImStrTrimBlanks(data_buf);</div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160; </div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;    ImGuiInputTextFlags flags = ImGuiInputTextFlags_AutoSelectAll | ImGuiInputTextFlags_NoMarkEdited;</div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;    flags |= ((data_type == ImGuiDataType_Float || data_type == ImGuiDataType_Double) ? ImGuiInputTextFlags_CharsScientific : ImGuiInputTextFlags_CharsDecimal);</div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;    <span class="keywordtype">bool</span> value_changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;    <span class="keywordflow">if</span> (TempInputText(bb, <span class="keywordtype">id</span>, label, data_buf, IM_ARRAYSIZE(data_buf), flags))</div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;    {</div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;        <span class="comment">// Backup old value</span></div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;        <span class="keywordtype">size_t</span> data_type_size = DataTypeGetInfo(data_type)-&gt;Size;</div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;        <a class="code" href="struct_im_gui_data_type_temp_storage.html">ImGuiDataTypeTempStorage</a> data_backup;</div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;        memcpy(&amp;data_backup, p_data, data_type_size);</div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160; </div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;        <span class="comment">// Apply new value (or operations) then clamp</span></div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;        DataTypeApplyOpFromText(data_buf, g.InputTextState.InitialTextA.Data, data_type, p_data, NULL);</div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;        <span class="keywordflow">if</span> (p_clamp_min || p_clamp_max)</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;        {</div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;            <span class="keywordflow">if</span> (p_clamp_min &amp;&amp; p_clamp_max &amp;&amp; DataTypeCompare(data_type, p_clamp_min, p_clamp_max) &gt; 0)</div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;                ImSwap(p_clamp_min, p_clamp_max);</div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;            DataTypeClamp(data_type, p_data, p_clamp_min, p_clamp_max);</div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;        }</div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160; </div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;        <span class="comment">// Only mark as edited if new value is different</span></div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;        value_changed = memcmp(&amp;data_backup, p_data, data_type_size) != 0;</div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;        <span class="keywordflow">if</span> (value_changed)</div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;            MarkItemEdited(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;    }</div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;    <span class="keywordflow">return</span> value_changed;</div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;}</div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160; </div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;<span class="comment">// Note: p_data, p_step, p_step_fast are _pointers_ to a memory address holding the data. For an Input widget, p_step and p_step_fast are optional.</span></div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;<span class="comment">// Read code of e.g. InputFloat(), InputInt() etc. or examples in &#39;Demo-&gt;Widgets-&gt;Data Types&#39; to understand how to use this function directly.</span></div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;<span class="keywordtype">bool</span> ImGui::InputScalar(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, ImGuiDataType data_type, <span class="keywordtype">void</span> *p_data, <span class="keyword">const</span> <span class="keywordtype">void</span> *p_step, <span class="keyword">const</span> <span class="keywordtype">void</span> *p_step_fast, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiInputTextFlags flags)</div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;{</div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160; </div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;    <a class="code" href="struct_im_gui_style.html">ImGuiStyle</a> &amp;style = g.Style;</div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160; </div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;    <span class="keywordflow">if</span> (format == NULL)</div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;        format = DataTypeGetInfo(data_type)-&gt;PrintFmt;</div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160; </div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;    <span class="keywordtype">char</span> buf[64];</div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;    DataTypeFormatString(buf, IM_ARRAYSIZE(buf), data_type, p_data, format);</div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160; </div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;    <span class="keywordtype">bool</span> value_changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; (ImGuiInputTextFlags_CharsHexadecimal | ImGuiInputTextFlags_CharsScientific)) == 0)</div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;        flags |= ImGuiInputTextFlags_CharsDecimal;</div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;    flags |= ImGuiInputTextFlags_AutoSelectAll;</div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;    flags |= ImGuiInputTextFlags_NoMarkEdited;  <span class="comment">// We call MarkItemEdited() ourselves by comparing the actual data rather than the string.</span></div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160; </div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;    <span class="keywordflow">if</span> (p_step != NULL)</div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;    {</div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> button_size = GetFrameHeight();</div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160; </div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;        BeginGroup(); <span class="comment">// The only purpose of the group here is to allow the caller to query item data e.g. IsItemActive()</span></div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;        PushID(label);</div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;        SetNextItemWidth(ImMax(1.0f, CalcItemWidth() - (button_size + style.ItemInnerSpacing.x) * 2));</div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;        <span class="keywordflow">if</span> (InputText(<span class="stringliteral">&quot;&quot;</span>, buf, IM_ARRAYSIZE(buf), flags)) <span class="comment">// PushId(label) + &quot;&quot; gives us the expected ID from outside point of view</span></div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;            value_changed = DataTypeApplyOpFromText(buf, g.InputTextState.InitialTextA.Data, data_type, p_data, format);</div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160; </div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;        <span class="comment">// Step buttons</span></div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> backup_frame_padding = style.FramePadding;</div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;        style.FramePadding.x = style.FramePadding.y;</div>
<div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;        ImGuiButtonFlags button_flags = ImGuiButtonFlags_Repeat | ImGuiButtonFlags_DontClosePopups;</div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;        <span class="keywordflow">if</span> (flags &amp; ImGuiInputTextFlags_ReadOnly)</div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;            BeginDisabled(<span class="keyword">true</span>);</div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;        SameLine(0, style.ItemInnerSpacing.x);</div>
<div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;        <span class="keywordflow">if</span> (ButtonEx(<span class="stringliteral">&quot;-&quot;</span>, <a class="code" href="struct_im_vec2.html">ImVec2</a>(button_size, button_size), button_flags))</div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;        {</div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;            DataTypeApplyOp(data_type, <span class="charliteral">&#39;-&#39;</span>, p_data, p_data, g.IO.KeyCtrl &amp;&amp; p_step_fast ? p_step_fast : p_step);</div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;            value_changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;        }</div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;        SameLine(0, style.ItemInnerSpacing.x);</div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;        <span class="keywordflow">if</span> (ButtonEx(<span class="stringliteral">&quot;+&quot;</span>, <a class="code" href="struct_im_vec2.html">ImVec2</a>(button_size, button_size), button_flags))</div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;        {</div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;            DataTypeApplyOp(data_type, <span class="charliteral">&#39;+&#39;</span>, p_data, p_data, g.IO.KeyCtrl &amp;&amp; p_step_fast ? p_step_fast : p_step);</div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;            value_changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;        }</div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;        <span class="keywordflow">if</span> (flags &amp; ImGuiInputTextFlags_ReadOnly)</div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;            EndDisabled();</div>
<div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160; </div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *label_end = FindRenderedTextEnd(label);</div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;        <span class="keywordflow">if</span> (label != label_end)</div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;        {</div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;            SameLine(0, style.ItemInnerSpacing.x);</div>
<div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;            TextEx(label, label_end);</div>
<div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;        }</div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;        style.FramePadding = backup_frame_padding;</div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160; </div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;        PopID();</div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;        EndGroup();</div>
<div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;    }</div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;    {</div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;        <span class="keywordflow">if</span> (InputText(label, buf, IM_ARRAYSIZE(buf), flags))</div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;            value_changed = DataTypeApplyOpFromText(buf, g.InputTextState.InitialTextA.Data, data_type, p_data, format);</div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;    }</div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;    <span class="keywordflow">if</span> (value_changed)</div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;        MarkItemEdited(g.LastItemData.ID);</div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160; </div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;    <span class="keywordflow">return</span> value_changed;</div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;}</div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160; </div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;<span class="keywordtype">bool</span> ImGui::InputScalarN(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, ImGuiDataType data_type, <span class="keywordtype">void</span> *p_data, <span class="keywordtype">int</span> components, <span class="keyword">const</span> <span class="keywordtype">void</span> *p_step, <span class="keyword">const</span> <span class="keywordtype">void</span> *p_step_fast, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiInputTextFlags flags)</div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;{</div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160; </div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;    <span class="keywordtype">bool</span> value_changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;    BeginGroup();</div>
<div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;    PushID(label);</div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;    PushMultiItemsWidths(components, CalcItemWidth());</div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;    <span class="keywordtype">size_t</span> type_size = GDataTypeInfo[data_type].Size;</div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; components; i++)</div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;    {</div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;        PushID(i);</div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;        <span class="keywordflow">if</span> (i &gt; 0)</div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;            SameLine(0, g.Style.ItemInnerSpacing.x);</div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;        value_changed |= InputScalar(<span class="stringliteral">&quot;&quot;</span>, data_type, p_data, p_step, p_step_fast, format, flags);</div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;        PopID();</div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;        PopItemWidth();</div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;        p_data = (<span class="keywordtype">void</span> *)((<span class="keywordtype">char</span> *)p_data + type_size);</div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;    }</div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;    PopID();</div>
<div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160; </div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *label_end = FindRenderedTextEnd(label);</div>
<div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;    <span class="keywordflow">if</span> (label != label_end)</div>
<div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;    {</div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;        SameLine(0.0f, g.Style.ItemInnerSpacing.x);</div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;        TextEx(label, label_end);</div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;    }</div>
<div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160; </div>
<div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;    EndGroup();</div>
<div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;    <span class="keywordflow">return</span> value_changed;</div>
<div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;}</div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160; </div>
<div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;<span class="keywordtype">bool</span> ImGui::InputFloat(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">float</span> *v, <span class="keywordtype">float</span> step, <span class="keywordtype">float</span> step_fast, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiInputTextFlags flags)</div>
<div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;{</div>
<div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;    flags |= ImGuiInputTextFlags_CharsScientific;</div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;    <span class="keywordflow">return</span> InputScalar(label, ImGuiDataType_Float, (<span class="keywordtype">void</span> *)v, (<span class="keywordtype">void</span> *)(step &gt; 0.0f ? &amp;step : NULL), (<span class="keywordtype">void</span> *)(step_fast &gt; 0.0f ? &amp;step_fast : NULL), format, flags);</div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;}</div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160; </div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;<span class="keywordtype">bool</span> ImGui::InputFloat2(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">float</span> v[2], <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiInputTextFlags flags)</div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;{</div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;    <span class="keywordflow">return</span> InputScalarN(label, ImGuiDataType_Float, v, 2, NULL, NULL, format, flags);</div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;}</div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160; </div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;<span class="keywordtype">bool</span> ImGui::InputFloat3(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">float</span> v[3], <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiInputTextFlags flags)</div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;{</div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;    <span class="keywordflow">return</span> InputScalarN(label, ImGuiDataType_Float, v, 3, NULL, NULL, format, flags);</div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;}</div>
<div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160; </div>
<div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;<span class="keywordtype">bool</span> ImGui::InputFloat4(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">float</span> v[4], <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiInputTextFlags flags)</div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;{</div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;    <span class="keywordflow">return</span> InputScalarN(label, ImGuiDataType_Float, v, 4, NULL, NULL, format, flags);</div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;}</div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160; </div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;<span class="keywordtype">bool</span> ImGui::InputInt(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">int</span> *v, <span class="keywordtype">int</span> step, <span class="keywordtype">int</span> step_fast, ImGuiInputTextFlags flags)</div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;{</div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;    <span class="comment">// Hexadecimal input provided as a convenience but the flag name is awkward. Typically you&#39;d use InputText() to parse your own data, if you want to handle prefixes.</span></div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *format = (flags &amp; ImGuiInputTextFlags_CharsHexadecimal) ? <span class="stringliteral">&quot;%08X&quot;</span> : <span class="stringliteral">&quot;%d&quot;</span>;</div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;    <span class="keywordflow">return</span> InputScalar(label, ImGuiDataType_S32, (<span class="keywordtype">void</span> *)v, (<span class="keywordtype">void</span> *)(step &gt; 0 ? &amp;step : NULL), (<span class="keywordtype">void</span> *)(step_fast &gt; 0 ? &amp;step_fast : NULL), format, flags);</div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;}</div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160; </div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;<span class="keywordtype">bool</span> ImGui::InputInt2(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">int</span> v[2], ImGuiInputTextFlags flags)</div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;{</div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;    <span class="keywordflow">return</span> InputScalarN(label, ImGuiDataType_S32, v, 2, NULL, NULL, <span class="stringliteral">&quot;%d&quot;</span>, flags);</div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;}</div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160; </div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;<span class="keywordtype">bool</span> ImGui::InputInt3(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">int</span> v[3], ImGuiInputTextFlags flags)</div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;{</div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;    <span class="keywordflow">return</span> InputScalarN(label, ImGuiDataType_S32, v, 3, NULL, NULL, <span class="stringliteral">&quot;%d&quot;</span>, flags);</div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;}</div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160; </div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;<span class="keywordtype">bool</span> ImGui::InputInt4(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">int</span> v[4], ImGuiInputTextFlags flags)</div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;{</div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;    <span class="keywordflow">return</span> InputScalarN(label, ImGuiDataType_S32, v, 4, NULL, NULL, <span class="stringliteral">&quot;%d&quot;</span>, flags);</div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;}</div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160; </div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;<span class="keywordtype">bool</span> ImGui::InputDouble(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">double</span> *v, <span class="keywordtype">double</span> step, <span class="keywordtype">double</span> step_fast, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ImGuiInputTextFlags flags)</div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;{</div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;    flags |= ImGuiInputTextFlags_CharsScientific;</div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;    <span class="keywordflow">return</span> InputScalar(label, ImGuiDataType_Double, (<span class="keywordtype">void</span> *)v, (<span class="keywordtype">void</span> *)(step &gt; 0.0 ? &amp;step : NULL), (<span class="keywordtype">void</span> *)(step_fast &gt; 0.0 ? &amp;step_fast : NULL), format, flags);</div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;}</div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160; </div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;<span class="comment">// [SECTION] Widgets: InputText, InputTextMultiline, InputTextWithHint</span></div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;<span class="comment">// - InputText()</span></div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;<span class="comment">// - InputTextWithHint()</span></div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;<span class="comment">// - InputTextMultiline()</span></div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;<span class="comment">// - InputTextEx() [Internal]</span></div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160; </div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;<span class="keywordtype">bool</span> ImGui::InputText(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">char</span> *buf, <span class="keywordtype">size_t</span> buf_size, ImGuiInputTextFlags flags, ImGuiInputTextCallback callback, <span class="keywordtype">void</span> *user_data)</div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;{</div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;    IM_ASSERT(!(flags &amp; ImGuiInputTextFlags_Multiline)); <span class="comment">// call InputTextMultiline()</span></div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;    <span class="keywordflow">return</span> InputTextEx(label, NULL, buf, (<span class="keywordtype">int</span>)buf_size, <a class="code" href="struct_im_vec2.html">ImVec2</a>(0, 0), flags, callback, user_data);</div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;}</div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160; </div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;<span class="keywordtype">bool</span> ImGui::InputTextMultiline(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">char</span> *buf, <span class="keywordtype">size_t</span> buf_size, <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> &amp;size, ImGuiInputTextFlags flags, ImGuiInputTextCallback callback, <span class="keywordtype">void</span> *user_data)</div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;{</div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;    <span class="keywordflow">return</span> InputTextEx(label, NULL, buf, (<span class="keywordtype">int</span>)buf_size, size, flags | ImGuiInputTextFlags_Multiline, callback, user_data);</div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;}</div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160; </div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;<span class="keywordtype">bool</span> ImGui::InputTextWithHint(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keyword">const</span> <span class="keywordtype">char</span> *hint, <span class="keywordtype">char</span> *buf, <span class="keywordtype">size_t</span> buf_size, ImGuiInputTextFlags flags, ImGuiInputTextCallback callback, <span class="keywordtype">void</span> *user_data)</div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;{</div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;    IM_ASSERT(!(flags &amp; ImGuiInputTextFlags_Multiline)); <span class="comment">// call InputTextMultiline()</span></div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;    <span class="keywordflow">return</span> InputTextEx(label, hint, buf, (<span class="keywordtype">int</span>)buf_size, <a class="code" href="struct_im_vec2.html">ImVec2</a>(0, 0), flags, callback, user_data);</div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;}</div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160; </div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> InputTextCalcTextLenAndLineCount(<span class="keyword">const</span> <span class="keywordtype">char</span> *text_begin, <span class="keyword">const</span> <span class="keywordtype">char</span> **out_text_end)</div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;{</div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;    <span class="keywordtype">int</span> line_count = 0;</div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *s = text_begin;</div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;    <span class="keywordflow">while</span> (<span class="keywordtype">char</span> c = *s++) <span class="comment">// We are only matching for \n so we can ignore UTF-8 decoding</span></div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;        <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;            line_count++;</div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;    s--;</div>
<div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;    <span class="keywordflow">if</span> (s[0] != <span class="charliteral">&#39;\n&#39;</span> &amp;&amp; s[0] != <span class="charliteral">&#39;\r&#39;</span>)</div>
<div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;        line_count++;</div>
<div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;    *out_text_end = s;</div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;    <span class="keywordflow">return</span> line_count;</div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;}</div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160; </div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;<span class="keyword">static</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> InputTextCalcTextSizeW(<span class="keyword">const</span> ImWchar *text_begin, <span class="keyword">const</span> ImWchar *text_end, <span class="keyword">const</span> ImWchar **remaining, <a class="code" href="struct_im_vec2.html">ImVec2</a> *out_offset, <span class="keywordtype">bool</span> stop_on_new_line)</div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;{</div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;    <a class="code" href="struct_im_font.html">ImFont</a> *font = g.Font;</div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> line_height = g.FontSize;</div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> scale = line_height / font-&gt;FontSize;</div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160; </div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> text_size = <a class="code" href="struct_im_vec2.html">ImVec2</a>(0, 0);</div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;    <span class="keywordtype">float</span> line_width = 0.0f;</div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160; </div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;    <span class="keyword">const</span> ImWchar *s = text_begin;</div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;    <span class="keywordflow">while</span> (s &lt; text_end)</div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;    {</div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> c = (<span class="keywordtype">unsigned</span> int)(*s++);</div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;        <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;        {</div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;            text_size.x = ImMax(text_size.x, line_width);</div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;            text_size.y += line_height;</div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;            line_width = 0.0f;</div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;            <span class="keywordflow">if</span> (stop_on_new_line)</div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;        }</div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;        <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\r&#39;</span>)</div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160; </div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> char_width = font-&gt;GetCharAdvance((ImWchar)c) * scale;</div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;        line_width += char_width;</div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;    }</div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160; </div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;    <span class="keywordflow">if</span> (text_size.x &lt; line_width)</div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;        text_size.x = line_width;</div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160; </div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;    <span class="keywordflow">if</span> (out_offset)</div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;        *out_offset = <a class="code" href="struct_im_vec2.html">ImVec2</a>(line_width, text_size.y + line_height);  <span class="comment">// offset allow for the possibility of sitting after a trailing \n</span></div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160; </div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;    <span class="keywordflow">if</span> (line_width &gt; 0 || text_size.y == 0.0f)                        <span class="comment">// whereas size.y will ignore the trailing \n</span></div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;        text_size.y += line_height;</div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160; </div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;    <span class="keywordflow">if</span> (remaining)</div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;        *remaining = s;</div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160; </div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;    <span class="keywordflow">return</span> text_size;</div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;}</div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160; </div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;<span class="comment">// Wrapper for stb_textedit.h to edit text (our wrapper is for: statically sized buffer, single-line, wchar characters. InputText converts between UTF-8 and wchar)</span></div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;<span class="keyword">namespace </span>ImStb</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;{</div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160; </div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span>     STB_TEXTEDIT_STRINGLEN(<span class="keyword">const</span> <a class="code" href="struct_im_gui_input_text_state.html">ImGuiInputTextState</a> *obj)</div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;    {</div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;        <span class="keywordflow">return</span> obj-&gt;CurLenW;</div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;    }</div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;    <span class="keyword">static</span> ImWchar STB_TEXTEDIT_GETCHAR(<span class="keyword">const</span> <a class="code" href="struct_im_gui_input_text_state.html">ImGuiInputTextState</a> *obj, <span class="keywordtype">int</span> idx)</div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;    {</div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;        <span class="keywordflow">return</span> obj-&gt;TextW[idx];</div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;    }</div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">float</span>   STB_TEXTEDIT_GETWIDTH(<a class="code" href="struct_im_gui_input_text_state.html">ImGuiInputTextState</a> *obj, <span class="keywordtype">int</span> line_start_idx, <span class="keywordtype">int</span> char_idx)</div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;    {</div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;        ImWchar c = obj-&gt;TextW[line_start_idx + char_idx]; <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\n&#39;</span>) <span class="keywordflow">return</span> STB_TEXTEDIT_GETWIDTH_NEWLINE; <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui; <span class="keywordflow">return</span> g.Font-&gt;GetCharAdvance(c) * (g.FontSize / g.Font-&gt;FontSize);</div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;    }</div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span>     STB_TEXTEDIT_KEYTOTEXT(<span class="keywordtype">int</span> key)</div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;    {</div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;        <span class="keywordflow">return</span> key &gt;= 0x200000 ? 0 : key;</div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;    }</div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;    <span class="keyword">static</span> ImWchar STB_TEXTEDIT_NEWLINE = <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span>    STB_TEXTEDIT_LAYOUTROW(<a class="code" href="struct_stb_textedit_row.html">StbTexteditRow</a> *r, <a class="code" href="struct_im_gui_input_text_state.html">ImGuiInputTextState</a> *obj, <span class="keywordtype">int</span> line_start_idx)</div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;    {</div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;        <span class="keyword">const</span> ImWchar *text = obj-&gt;TextW.Data;</div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;        <span class="keyword">const</span> ImWchar *text_remaining = NULL;</div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> size = InputTextCalcTextSizeW(text + line_start_idx, text + obj-&gt;CurLenW, &amp;text_remaining, NULL, <span class="keyword">true</span>);</div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;        r-&gt;x0 = 0.0f;</div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;        r-&gt;x1 = size.x;</div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;        r-&gt;baseline_y_delta = size.y;</div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;        r-&gt;ymin = 0.0f;</div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;        r-&gt;ymax = size.y;</div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;        r-&gt;num_chars = (int)(text_remaining - (text + line_start_idx));</div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;    }</div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160; </div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;    <span class="comment">// When ImGuiInputTextFlags_Password is set, we don&#39;t want actions such as CTRL+Arrow to leak the fact that underlying data are blanks or separators.</span></div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">bool</span> is_separator(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> c)</div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;    {</div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;        <span class="keywordflow">return</span> ImCharIsBlankW(c) || c == <span class="charliteral">&#39;,&#39;</span> || c == <span class="charliteral">&#39;;&#39;</span> || c == <span class="charliteral">&#39;(&#39;</span> || c == <span class="charliteral">&#39;)&#39;</span> || c == <span class="charliteral">&#39;{&#39;</span> || c == <span class="charliteral">&#39;}&#39;</span> || c == <span class="charliteral">&#39;[&#39;</span> || c == <span class="charliteral">&#39;]&#39;</span> || c == <span class="charliteral">&#39;|&#39;</span>;</div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;    }</div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span>  is_word_boundary_from_right(<a class="code" href="struct_im_gui_input_text_state.html">ImGuiInputTextState</a> *obj, <span class="keywordtype">int</span> idx)</div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;    {</div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;        <span class="keywordflow">if</span> (obj-&gt;Flags &amp; ImGuiInputTextFlags_Password) <span class="keywordflow">return</span> 0; <span class="keywordflow">return</span> idx &gt; 0 ? (is_separator(obj-&gt;TextW[idx - 1]) &amp;&amp; !is_separator(obj-&gt;TextW[idx])) : 1;</div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;    }</div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span>  STB_TEXTEDIT_MOVEWORDLEFT_IMPL(<a class="code" href="struct_im_gui_input_text_state.html">ImGuiInputTextState</a> *obj, <span class="keywordtype">int</span> idx)</div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;    {</div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;        idx--; <span class="keywordflow">while</span> (idx &gt;= 0 &amp;&amp; !is_word_boundary_from_right(obj, idx)) idx--; <span class="keywordflow">return</span> idx &lt; 0 ? 0 : idx;</div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;    }</div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;<span class="preprocessor">#ifdef __APPLE__    </span><span class="comment">// FIXME: Move setting to IO structure</span></div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span>  is_word_boundary_from_left(<a class="code" href="struct_im_gui_input_text_state.html">ImGuiInputTextState</a> *obj, <span class="keywordtype">int</span> idx)</div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;    {</div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;        <span class="keywordflow">if</span> (obj-&gt;Flags &amp; ImGuiInputTextFlags_Password) <span class="keywordflow">return</span> 0; <span class="keywordflow">return</span> idx &gt; 0 ? (!is_separator(obj-&gt;TextW[idx - 1]) &amp;&amp; is_separator(obj-&gt;TextW[idx])) : 1;</div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;    }</div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span>  STB_TEXTEDIT_MOVEWORDRIGHT_IMPL(<a class="code" href="struct_im_gui_input_text_state.html">ImGuiInputTextState</a> *obj, <span class="keywordtype">int</span> idx)</div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;    {</div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;        idx++; <span class="keywordtype">int</span> len = obj-&gt;CurLenW; <span class="keywordflow">while</span> (idx &lt; len &amp;&amp; !is_word_boundary_from_left(obj, idx)) idx++; <span class="keywordflow">return</span> idx &gt; len ? len : idx;</div>
<div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;    }</div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span>  STB_TEXTEDIT_MOVEWORDRIGHT_IMPL(<a class="code" href="struct_im_gui_input_text_state.html">ImGuiInputTextState</a> *obj, <span class="keywordtype">int</span> idx)</div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;    {</div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;        idx++; <span class="keywordtype">int</span> len = obj-&gt;CurLenW; <span class="keywordflow">while</span> (idx &lt; len &amp;&amp; !is_word_boundary_from_right(obj, idx)) idx++; <span class="keywordflow">return</span> idx &gt; len ? len : idx;</div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;    }</div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;<span class="preprocessor">#define STB_TEXTEDIT_MOVEWORDLEFT   STB_TEXTEDIT_MOVEWORDLEFT_IMPL    </span><span class="comment">// They need to be #define for stb_textedit.h</span></div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;<span class="preprocessor">#define STB_TEXTEDIT_MOVEWORDRIGHT  STB_TEXTEDIT_MOVEWORDRIGHT_IMPL</span></div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160; </div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span> STB_TEXTEDIT_DELETECHARS(<a class="code" href="struct_im_gui_input_text_state.html">ImGuiInputTextState</a> *obj, <span class="keywordtype">int</span> pos, <span class="keywordtype">int</span> n)</div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;    {</div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;        ImWchar *dst = obj-&gt;TextW.Data + pos;</div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160; </div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;        <span class="comment">// We maintain our buffer length in both UTF-8 and wchar formats</span></div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;        obj-&gt;Edited = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;        obj-&gt;CurLenA -= ImTextCountUtf8BytesFromStr(dst, dst + n);</div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;        obj-&gt;CurLenW -= n;</div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160; </div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;        <span class="comment">// Offset remaining text (FIXME-OPT: Use memmove)</span></div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;        <span class="keyword">const</span> ImWchar *src = obj-&gt;TextW.Data + pos + n;</div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;        <span class="keywordflow">while</span> (ImWchar c = *src++)</div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;            *dst++ = c;</div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;        *dst = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;    }</div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160; </div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">bool</span> STB_TEXTEDIT_INSERTCHARS(<a class="code" href="struct_im_gui_input_text_state.html">ImGuiInputTextState</a> *obj, <span class="keywordtype">int</span> pos, <span class="keyword">const</span> ImWchar *new_text, <span class="keywordtype">int</span> new_text_len)</div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;    {</div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_resizable = (obj-&gt;Flags &amp; ImGuiInputTextFlags_CallbackResize) != 0;</div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> text_len = obj-&gt;CurLenW;</div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;        IM_ASSERT(pos &lt;= text_len);</div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160; </div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> new_text_len_utf8 = ImTextCountUtf8BytesFromStr(new_text, new_text + new_text_len);</div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;        <span class="keywordflow">if</span> (!is_resizable &amp;&amp; (new_text_len_utf8 + obj-&gt;CurLenA + 1 &gt; obj-&gt;BufCapacityA))</div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160; </div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;        <span class="comment">// Grow internal buffer if needed</span></div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;        <span class="keywordflow">if</span> (new_text_len + text_len + 1 &gt; obj-&gt;TextW.Size)</div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;        {</div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;            <span class="keywordflow">if</span> (!is_resizable)</div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;            IM_ASSERT(text_len &lt; obj-&gt;TextW.Size);</div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;            obj-&gt;TextW.resize(text_len + ImClamp(new_text_len * 4, 32, ImMax(256, new_text_len)) + 1);</div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;        }</div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160; </div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;        ImWchar *text = obj-&gt;TextW.Data;</div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;        <span class="keywordflow">if</span> (pos != text_len)</div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;            memmove(text + pos + new_text_len, text + pos, (<span class="keywordtype">size_t</span>)(text_len - pos) * <span class="keyword">sizeof</span>(ImWchar));</div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;        memcpy(text + pos, new_text, (<span class="keywordtype">size_t</span>)new_text_len * <span class="keyword">sizeof</span>(ImWchar));</div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160; </div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;        obj-&gt;Edited = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;        obj-&gt;CurLenW += new_text_len;</div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;        obj-&gt;CurLenA += new_text_len_utf8;</div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;        obj-&gt;TextW[obj-&gt;CurLenW] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160; </div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;    }</div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160; </div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;    <span class="comment">// We don&#39;t use an enum so we can build even with conflicting symbols (if another user of stb_textedit.h leak their STB_TEXTEDIT_K_* symbols)</span></div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;<span class="preprocessor">#define STB_TEXTEDIT_K_LEFT         0x200000 </span><span class="comment">// keyboard input to move cursor left</span></div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;<span class="preprocessor">#define STB_TEXTEDIT_K_RIGHT        0x200001 </span><span class="comment">// keyboard input to move cursor right</span></div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;<span class="preprocessor">#define STB_TEXTEDIT_K_UP           0x200002 </span><span class="comment">// keyboard input to move cursor up</span></div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;<span class="preprocessor">#define STB_TEXTEDIT_K_DOWN         0x200003 </span><span class="comment">// keyboard input to move cursor down</span></div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;<span class="preprocessor">#define STB_TEXTEDIT_K_LINESTART    0x200004 </span><span class="comment">// keyboard input to move cursor to start of line</span></div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;<span class="preprocessor">#define STB_TEXTEDIT_K_LINEEND      0x200005 </span><span class="comment">// keyboard input to move cursor to end of line</span></div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;<span class="preprocessor">#define STB_TEXTEDIT_K_TEXTSTART    0x200006 </span><span class="comment">// keyboard input to move cursor to start of text</span></div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;<span class="preprocessor">#define STB_TEXTEDIT_K_TEXTEND      0x200007 </span><span class="comment">// keyboard input to move cursor to end of text</span></div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;<span class="preprocessor">#define STB_TEXTEDIT_K_DELETE       0x200008 </span><span class="comment">// keyboard input to delete selection or character under cursor</span></div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;<span class="preprocessor">#define STB_TEXTEDIT_K_BACKSPACE    0x200009 </span><span class="comment">// keyboard input to delete selection or character left of cursor</span></div>
<div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;<span class="preprocessor">#define STB_TEXTEDIT_K_UNDO         0x20000A </span><span class="comment">// keyboard input to perform undo</span></div>
<div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;<span class="preprocessor">#define STB_TEXTEDIT_K_REDO         0x20000B </span><span class="comment">// keyboard input to perform redo</span></div>
<div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;<span class="preprocessor">#define STB_TEXTEDIT_K_WORDLEFT     0x20000C </span><span class="comment">// keyboard input to move cursor left one word</span></div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;<span class="preprocessor">#define STB_TEXTEDIT_K_WORDRIGHT    0x20000D </span><span class="comment">// keyboard input to move cursor right one word</span></div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;<span class="preprocessor">#define STB_TEXTEDIT_K_PGUP         0x20000E </span><span class="comment">// keyboard input to move cursor up a page</span></div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;<span class="preprocessor">#define STB_TEXTEDIT_K_PGDOWN       0x20000F </span><span class="comment">// keyboard input to move cursor down a page</span></div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;<span class="preprocessor">#define STB_TEXTEDIT_K_SHIFT        0x400000</span></div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160; </div>
<div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;<span class="preprocessor">#define STB_TEXTEDIT_IMPLEMENTATION</span></div>
<div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;<span class="preprocessor">#include &quot;imstb_textedit.h&quot;</span></div>
<div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160; </div>
<div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;<span class="comment">// stb_textedit internally allows for a single undo record to do addition and deletion, but somehow, calling</span></div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;<span class="comment">// the stb_textedit_paste() function creates two separate records, so we perform it manually. (FIXME: Report to nothings/stb?)</span></div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span> stb_textedit_replace(<a class="code" href="struct_im_gui_input_text_state.html">ImGuiInputTextState</a> *str, <a class="code" href="struct_s_t_b___textedit_state.html">STB_TexteditState</a> *state, <span class="keyword">const</span> STB_TEXTEDIT_CHARTYPE *text, <span class="keywordtype">int</span> text_len)</div>
<div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;    {</div>
<div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;        stb_text_makeundo_replace(str, state, 0, str-&gt;CurLenW, text_len);</div>
<div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;        ImStb::STB_TEXTEDIT_DELETECHARS(str, 0, str-&gt;CurLenW);</div>
<div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;        <span class="keywordflow">if</span> (text_len &lt;= 0)</div>
<div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;        <span class="keywordflow">if</span> (ImStb::STB_TEXTEDIT_INSERTCHARS(str, 0, text, text_len))</div>
<div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;        {</div>
<div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;            state-&gt;cursor = text_len;</div>
<div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;            state-&gt;has_preferred_x = 0;</div>
<div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;        }</div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;        IM_ASSERT(0); <span class="comment">// Failed to insert character, normally shouldn&#39;t happen because of how we currently use stb_textedit_replace()</span></div>
<div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;    }</div>
<div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160; </div>
<div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;} <span class="comment">// namespace ImStb</span></div>
<div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160; </div>
<div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;<span class="keywordtype">void</span> ImGuiInputTextState::OnKeyPressed(<span class="keywordtype">int</span> key)</div>
<div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;{</div>
<div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;    stb_textedit_key(<span class="keyword">this</span>, &amp;Stb, key);</div>
<div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;    CursorFollow = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;    CursorAnimReset();</div>
<div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;}</div>
<div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160; </div>
<div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;ImGuiInputTextCallbackData::ImGuiInputTextCallbackData()</div>
<div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;{</div>
<div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;    memset(<span class="keyword">this</span>, 0, <span class="keyword">sizeof</span>(*<span class="keyword">this</span>));</div>
<div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;}</div>
<div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160; </div>
<div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;<span class="comment">// Public API to manipulate UTF-8 text</span></div>
<div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;<span class="comment">// We expose UTF-8 to the user (unlike the STB_TEXTEDIT_* functions which are manipulating wchar)</span></div>
<div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;<span class="comment">// FIXME: The existence of this rarely exercised code path is a bit of a nuisance.</span></div>
<div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;<span class="keywordtype">void</span> ImGuiInputTextCallbackData::DeleteChars(<span class="keywordtype">int</span> pos, <span class="keywordtype">int</span> bytes_count)</div>
<div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;{</div>
<div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;    IM_ASSERT(pos + bytes_count &lt;= BufTextLen);</div>
<div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;    <span class="keywordtype">char</span> *dst = Buf + pos;</div>
<div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *src = Buf + pos + bytes_count;</div>
<div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;    <span class="keywordflow">while</span> (<span class="keywordtype">char</span> c = *src++)</div>
<div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;        *dst++ = c;</div>
<div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;    *dst = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160; </div>
<div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;    <span class="keywordflow">if</span> (CursorPos &gt;= pos + bytes_count)</div>
<div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;        CursorPos -= bytes_count;</div>
<div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (CursorPos &gt;= pos)</div>
<div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;        CursorPos = pos;</div>
<div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;    SelectionStart = SelectionEnd = CursorPos;</div>
<div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;    BufDirty = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;    BufTextLen -= bytes_count;</div>
<div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;}</div>
<div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160; </div>
<div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;<span class="keywordtype">void</span> ImGuiInputTextCallbackData::InsertChars(<span class="keywordtype">int</span> pos, <span class="keyword">const</span> <span class="keywordtype">char</span> *new_text, <span class="keyword">const</span> <span class="keywordtype">char</span> *new_text_end)</div>
<div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;{</div>
<div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_resizable = (Flags &amp; ImGuiInputTextFlags_CallbackResize) != 0;</div>
<div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> new_text_len = new_text_end ? (int)(new_text_end - new_text) : (int)strlen(new_text);</div>
<div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;    <span class="keywordflow">if</span> (new_text_len + BufTextLen &gt;= BufSize)</div>
<div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;    {</div>
<div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;        <span class="keywordflow">if</span> (!is_resizable)</div>
<div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160; </div>
<div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;        <span class="comment">// Contrary to STB_TEXTEDIT_INSERTCHARS() this is working in the UTF8 buffer, hence the mildly similar code (until we remove the U16 buffer altogether!)</span></div>
<div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;        <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;        <a class="code" href="struct_im_gui_input_text_state.html">ImGuiInputTextState</a> *edit_state = &amp;g.InputTextState;</div>
<div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;        IM_ASSERT(edit_state-&gt;ID != 0 &amp;&amp; g.ActiveId == edit_state-&gt;ID);</div>
<div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;        IM_ASSERT(Buf == edit_state-&gt;TextA.Data);</div>
<div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;        <span class="keywordtype">int</span> new_buf_size = BufTextLen + ImClamp(new_text_len * 4, 32, ImMax(256, new_text_len)) + 1;</div>
<div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;        edit_state-&gt;TextA.reserve(new_buf_size + 1);</div>
<div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;        Buf = edit_state-&gt;TextA.Data;</div>
<div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;        BufSize = edit_state-&gt;BufCapacityA = new_buf_size;</div>
<div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;    }</div>
<div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160; </div>
<div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;    <span class="keywordflow">if</span> (BufTextLen != pos)</div>
<div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;        memmove(Buf + pos + new_text_len, Buf + pos, (<span class="keywordtype">size_t</span>)(BufTextLen - pos));</div>
<div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;    memcpy(Buf + pos, new_text, (<span class="keywordtype">size_t</span>)new_text_len * <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));</div>
<div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;    Buf[BufTextLen + new_text_len] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160; </div>
<div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;    <span class="keywordflow">if</span> (CursorPos &gt;= pos)</div>
<div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;        CursorPos += new_text_len;</div>
<div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;    SelectionStart = SelectionEnd = CursorPos;</div>
<div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;    BufDirty = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;    BufTextLen += new_text_len;</div>
<div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;}</div>
<div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160; </div>
<div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;<span class="comment">// Return false to discard a character.</span></div>
<div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> InputTextFilterCharacter(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *p_char, ImGuiInputTextFlags flags, ImGuiInputTextCallback callback, <span class="keywordtype">void</span> *user_data, ImGuiInputSource input_source)</div>
<div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;{</div>
<div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;    IM_ASSERT(input_source == ImGuiInputSource_Keyboard || input_source == ImGuiInputSource_Clipboard);</div>
<div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> c = *p_char;</div>
<div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160; </div>
<div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;    <span class="comment">// Filter non-printable (NB: isprint is unreliable! see #2467)</span></div>
<div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;    <span class="keywordtype">bool</span> apply_named_filters = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;    <span class="keywordflow">if</span> (c &lt; 0x20)</div>
<div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;    {</div>
<div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;        <span class="keywordtype">bool</span> pass = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;        pass |= (c == <span class="charliteral">&#39;\n&#39;</span> &amp;&amp; (flags &amp; ImGuiInputTextFlags_Multiline));</div>
<div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;        pass |= (c == <span class="charliteral">&#39;\t&#39;</span> &amp;&amp; (flags &amp; ImGuiInputTextFlags_AllowTabInput));</div>
<div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;        <span class="keywordflow">if</span> (!pass)</div>
<div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;        apply_named_filters = <span class="keyword">false</span>; <span class="comment">// Override named filters below so newline and tabs can still be inserted.</span></div>
<div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;    }</div>
<div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160; </div>
<div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;    <span class="keywordflow">if</span> (input_source != ImGuiInputSource_Clipboard)</div>
<div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;    {</div>
<div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;        <span class="comment">// We ignore Ascii representation of delete (emitted from Backspace on OSX, see #2578, #2817)</span></div>
<div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;        <span class="keywordflow">if</span> (c == 127)</div>
<div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160; </div>
<div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;        <span class="comment">// Filter private Unicode range. GLFW on OSX seems to send private characters for special keys like arrow keys (FIXME)</span></div>
<div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;        <span class="keywordflow">if</span> (c &gt;= 0xE000 &amp;&amp; c &lt;= 0xF8FF)</div>
<div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;    }</div>
<div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160; </div>
<div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;    <span class="comment">// Filter Unicode ranges we are not handling in this build</span></div>
<div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;    <span class="keywordflow">if</span> (c &gt; IM_UNICODE_CODEPOINT_MAX)</div>
<div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160; </div>
<div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;    <span class="comment">// Generic named filters</span></div>
<div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;    <span class="keywordflow">if</span> (apply_named_filters &amp;&amp; (flags &amp; (ImGuiInputTextFlags_CharsDecimal | ImGuiInputTextFlags_CharsHexadecimal | ImGuiInputTextFlags_CharsUppercase | ImGuiInputTextFlags_CharsNoBlank | ImGuiInputTextFlags_CharsScientific)))</div>
<div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;    {</div>
<div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;        <span class="comment">// The libc allows overriding locale, with e.g. &#39;setlocale(LC_NUMERIC, &quot;de_DE.UTF-8&quot;);&#39; which affect the output/input of printf/scanf.</span></div>
<div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;        <span class="comment">// The standard mandate that programs starts in the &quot;C&quot; locale where the decimal point is &#39;.&#39;.</span></div>
<div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;        <span class="comment">// We don&#39;t really intend to provide widespread support for it, but out of empathy for people stuck with using odd API, we support the bare minimum aka overriding the decimal point.</span></div>
<div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;        <span class="comment">// Change the default decimal_point with:</span></div>
<div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;        <span class="comment">//   ImGui::GetCurrentContext()-&gt;PlatformLocaleDecimalPoint = *localeconv()-&gt;decimal_point;</span></div>
<div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;        <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> c_decimal_point = (<span class="keywordtype">unsigned</span> int)g.PlatformLocaleDecimalPoint;</div>
<div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160; </div>
<div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;        <span class="comment">// Allow 0-9 . - + * /</span></div>
<div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;        if (flags &amp; ImGuiInputTextFlags_CharsDecimal)</div>
<div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;            <span class="keywordflow">if</span> (!(c &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; c &lt;= <span class="charliteral">&#39;9&#39;</span>) &amp;&amp; (c != c_decimal_point) &amp;&amp; (c != <span class="charliteral">&#39;-&#39;</span>) &amp;&amp; (c != <span class="charliteral">&#39;+&#39;</span>) &amp;&amp; (c != <span class="charliteral">&#39;*&#39;</span>) &amp;&amp; (c != <span class="charliteral">&#39;/&#39;</span>))</div>
<div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160; </div>
<div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;        <span class="comment">// Allow 0-9 . - + * / e E</span></div>
<div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;        <span class="keywordflow">if</span> (flags &amp; ImGuiInputTextFlags_CharsScientific)</div>
<div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;            <span class="keywordflow">if</span> (!(c &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; c &lt;= <span class="charliteral">&#39;9&#39;</span>) &amp;&amp; (c != c_decimal_point) &amp;&amp; (c != <span class="charliteral">&#39;-&#39;</span>) &amp;&amp; (c != <span class="charliteral">&#39;+&#39;</span>) &amp;&amp; (c != <span class="charliteral">&#39;*&#39;</span>) &amp;&amp; (c != <span class="charliteral">&#39;/&#39;</span>) &amp;&amp; (c != <span class="charliteral">&#39;e&#39;</span>) &amp;&amp; (c != <span class="charliteral">&#39;E&#39;</span>))</div>
<div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160; </div>
<div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;        <span class="comment">// Allow 0-9 a-F A-F</span></div>
<div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;        <span class="keywordflow">if</span> (flags &amp; ImGuiInputTextFlags_CharsHexadecimal)</div>
<div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;            <span class="keywordflow">if</span> (!(c &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; c &lt;= <span class="charliteral">&#39;9&#39;</span>) &amp;&amp; !(c &gt;= <span class="charliteral">&#39;a&#39;</span> &amp;&amp; c &lt;= <span class="charliteral">&#39;f&#39;</span>) &amp;&amp; !(c &gt;= <span class="charliteral">&#39;A&#39;</span> &amp;&amp; c &lt;= <span class="charliteral">&#39;F&#39;</span>))</div>
<div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160; </div>
<div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;        <span class="comment">// Turn a-z into A-Z</span></div>
<div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;        <span class="keywordflow">if</span> (flags &amp; ImGuiInputTextFlags_CharsUppercase)</div>
<div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;            <span class="keywordflow">if</span> (c &gt;= <span class="charliteral">&#39;a&#39;</span> &amp;&amp; c &lt;= <span class="charliteral">&#39;z&#39;</span>)</div>
<div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;                *p_char = (c += (<span class="keywordtype">unsigned</span> int)(<span class="charliteral">&#39;A&#39;</span> - <span class="charliteral">&#39;a&#39;</span>));</div>
<div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160; </div>
<div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;        <span class="keywordflow">if</span> (flags &amp; ImGuiInputTextFlags_CharsNoBlank)</div>
<div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;            <span class="keywordflow">if</span> (ImCharIsBlankW(c))</div>
<div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;    }</div>
<div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160; </div>
<div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;    <span class="comment">// Custom callback filter</span></div>
<div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;    <span class="keywordflow">if</span> (flags &amp; ImGuiInputTextFlags_CallbackCharFilter)</div>
<div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;    {</div>
<div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;        <a class="code" href="struct_im_gui_input_text_callback_data.html">ImGuiInputTextCallbackData</a> callback_data;</div>
<div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;        memset(&amp;callback_data, 0, <span class="keyword">sizeof</span>(<a class="code" href="struct_im_gui_input_text_callback_data.html">ImGuiInputTextCallbackData</a>));</div>
<div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;        callback_data.EventFlag = ImGuiInputTextFlags_CallbackCharFilter;</div>
<div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;        callback_data.EventChar = (ImWchar)c;</div>
<div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;        callback_data.Flags = flags;</div>
<div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;        callback_data.UserData = user_data;</div>
<div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;        <span class="keywordflow">if</span> (callback(&amp;callback_data) != 0)</div>
<div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;        *p_char = callback_data.EventChar;</div>
<div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;        <span class="keywordflow">if</span> (!callback_data.EventChar)</div>
<div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;    }</div>
<div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160; </div>
<div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;}</div>
<div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160; </div>
<div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;<span class="comment">// Edit a string of text</span></div>
<div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;<span class="comment">// - buf_size account for the zero-terminator, so a buf_size of 6 can hold &quot;Hello&quot; but not &quot;Hello!&quot;.</span></div>
<div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;<span class="comment">//   This is so we can easily call InputText() on static arrays using ARRAYSIZE() and to match</span></div>
<div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;<span class="comment">//   Note that in std::string world, capacity() would omit 1 byte used by the zero-terminator.</span></div>
<div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;<span class="comment">// - When active, hold on a privately held copy of the text (and apply back to &#39;buf&#39;). So changing &#39;buf&#39; while the InputText is active has no effect.</span></div>
<div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;<span class="comment">// - If you want to use ImGui::InputText() with std::string, see misc/cpp/imgui_stdlib.h</span></div>
<div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;<span class="comment">// (FIXME: Rather confusing and messy function, among the worse part of our codebase, expecting to rewrite a V2 at some point.. Partly because we are</span></div>
<div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;<span class="comment">//  doing UTF8 &gt; U16 &gt; UTF8 conversions on the go to easily interface with stb_textedit. Ideally should stay in UTF-8 all the time. See https://github.com/nothings/stb/issues/188)</span></div>
<div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;<span class="keywordtype">bool</span> ImGui::InputTextEx(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keyword">const</span> <span class="keywordtype">char</span> *hint, <span class="keywordtype">char</span> *buf, <span class="keywordtype">int</span> buf_size, <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> &amp;size_arg, ImGuiInputTextFlags flags, ImGuiInputTextCallback callback, <span class="keywordtype">void</span> *callback_user_data)</div>
<div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;{</div>
<div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160; </div>
<div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;    IM_ASSERT(buf != NULL &amp;&amp; buf_size &gt;= 0);</div>
<div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;    IM_ASSERT(!((flags &amp; ImGuiInputTextFlags_CallbackHistory) &amp;&amp; (flags &amp; ImGuiInputTextFlags_Multiline)));        <span class="comment">// Can&#39;t use both together (they both use up/down keys)</span></div>
<div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;    IM_ASSERT(!((flags &amp; ImGuiInputTextFlags_CallbackCompletion) &amp;&amp; (flags &amp; ImGuiInputTextFlags_AllowTabInput))); <span class="comment">// Can&#39;t use both together (they both use tab key)</span></div>
<div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160; </div>
<div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;    <a class="code" href="struct_im_gui_i_o.html">ImGuiIO</a> &amp;io = g.IO;</div>
<div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_gui_style.html">ImGuiStyle</a> &amp;style = g.Style;</div>
<div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160; </div>
<div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> RENDER_SELECTION_WHEN_INACTIVE = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_multiline = (flags &amp; ImGuiInputTextFlags_Multiline) != 0;</div>
<div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_readonly = (flags &amp; ImGuiInputTextFlags_ReadOnly) != 0;</div>
<div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_password = (flags &amp; ImGuiInputTextFlags_Password) != 0;</div>
<div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_undoable = (flags &amp; ImGuiInputTextFlags_NoUndoRedo) == 0;</div>
<div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_resizable = (flags &amp; ImGuiInputTextFlags_CallbackResize) != 0;</div>
<div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;    <span class="keywordflow">if</span> (is_resizable)</div>
<div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;        IM_ASSERT(callback != NULL); <span class="comment">// Must provide a callback if you set the ImGuiInputTextFlags_CallbackResize flag!</span></div>
<div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160; </div>
<div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;    <span class="keywordflow">if</span> (is_multiline) <span class="comment">// Open group before calling GetID() because groups tracks id created within their scope,</span></div>
<div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;        BeginGroup();</div>
<div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;    <span class="keyword">const</span> ImGuiID <span class="keywordtype">id</span> = window-&gt;GetID(label);</div>
<div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> label_size = CalcTextSize(label, NULL, <span class="keyword">true</span>);</div>
<div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> frame_size = CalcItemSize(size_arg, CalcItemWidth(), (is_multiline ? g.FontSize * 8.0f : label_size.y) + style.FramePadding.y * 2.0f); <span class="comment">// Arbitrary default of 8 lines high for multi-line</span></div>
<div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> total_size = <a class="code" href="struct_im_vec2.html">ImVec2</a>(frame_size.x + (label_size.x &gt; 0.0f ? style.ItemInnerSpacing.x + label_size.x : 0.0f), frame_size.y);</div>
<div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160; </div>
<div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> frame_bb(window-&gt;DC.CursorPos, window-&gt;DC.CursorPos + frame_size);</div>
<div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> total_bb(frame_bb.Min, frame_bb.Min + total_size);</div>
<div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160; </div>
<div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *draw_window = window;</div>
<div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> inner_size = frame_size;</div>
<div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;    ImGuiItemStatusFlags item_status_flags = 0;</div>
<div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;    <span class="keywordflow">if</span> (is_multiline)</div>
<div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;    {</div>
<div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;        <span class="keywordflow">if</span> (!ItemAdd(total_bb, <span class="keywordtype">id</span>, &amp;frame_bb, ImGuiItemAddFlags_Focusable))</div>
<div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;        {</div>
<div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;            ItemSize(total_bb, style.FramePadding.y);</div>
<div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;            EndGroup();</div>
<div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;        }</div>
<div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;        item_status_flags = g.LastItemData.StatusFlags;</div>
<div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160; </div>
<div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;        <span class="comment">// We reproduce the contents of BeginChildFrame() in order to provide &#39;label&#39; so our window internal data are easier to read/debug.</span></div>
<div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;        PushStyleColor(ImGuiCol_ChildBg, style.Colors[ImGuiCol_FrameBg]);</div>
<div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;        PushStyleVar(ImGuiStyleVar_ChildRounding, style.FrameRounding);</div>
<div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;        PushStyleVar(ImGuiStyleVar_ChildBorderSize, style.FrameBorderSize);</div>
<div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;        <span class="keywordtype">bool</span> child_visible = BeginChildEx(label, <span class="keywordtype">id</span>, frame_bb.GetSize(), <span class="keyword">true</span>, ImGuiWindowFlags_NoMove);</div>
<div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;        PopStyleVar(2);</div>
<div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;        PopStyleColor();</div>
<div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;        <span class="keywordflow">if</span> (!child_visible)</div>
<div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;        {</div>
<div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;            EndChild();</div>
<div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;            EndGroup();</div>
<div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;        }</div>
<div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;        draw_window = g.CurrentWindow; <span class="comment">// Child window</span></div>
<div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;        draw_window-&gt;DC.NavLayersActiveMaskNext |= (1 &lt;&lt; draw_window-&gt;DC.NavLayerCurrent); <span class="comment">// This is to ensure that EndChild() will display a navigation highlight so we can &quot;enter&quot; into it.</span></div>
<div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;        draw_window-&gt;DC.CursorPos += style.FramePadding;</div>
<div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;        inner_size.x -= draw_window-&gt;ScrollbarSizes.x;</div>
<div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;    }</div>
<div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;    {</div>
<div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;        <span class="comment">// Support for internal ImGuiInputTextFlags_MergedItem flag, which could be redesigned as an ItemFlags if needed (with test performed in ItemAdd)</span></div>
<div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;        ItemSize(total_bb, style.FramePadding.y);</div>
<div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;        <span class="keywordflow">if</span> (!(flags &amp; ImGuiInputTextFlags_MergedItem))</div>
<div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;            <span class="keywordflow">if</span> (!ItemAdd(total_bb, <span class="keywordtype">id</span>, &amp;frame_bb, ImGuiItemAddFlags_Focusable))</div>
<div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;        item_status_flags = g.LastItemData.StatusFlags;</div>
<div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;    }</div>
<div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> hovered = ItemHoverable(frame_bb, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;    <span class="keywordflow">if</span> (hovered)</div>
<div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;        g.MouseCursor = ImGuiMouseCursor_TextInput;</div>
<div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160; </div>
<div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;    <span class="comment">// We are only allowed to access the state if we are already the active widget.</span></div>
<div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;    <a class="code" href="struct_im_gui_input_text_state.html">ImGuiInputTextState</a> *state = GetInputTextState(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160; </div>
<div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> focus_requested_by_code = (item_status_flags &amp; ImGuiItemStatusFlags_FocusedByCode) != 0;</div>
<div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> focus_requested_by_tabbing = (item_status_flags &amp; ImGuiItemStatusFlags_FocusedByTabbing) != 0;</div>
<div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160; </div>
<div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> user_clicked = hovered &amp;&amp; io.MouseClicked[0];</div>
<div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> user_nav_input_start = (g.ActiveId != id) &amp;&amp; ((g.NavInputId == <span class="keywordtype">id</span>) || (g.NavActivateId == <span class="keywordtype">id</span> &amp;&amp; g.NavInputSource == ImGuiInputSource_Keyboard));</div>
<div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> user_scroll_finish = is_multiline &amp;&amp; state != NULL &amp;&amp; g.ActiveId == 0 &amp;&amp; g.ActiveIdPreviousFrame == GetWindowScrollbarID(draw_window, ImGuiAxis_Y);</div>
<div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> user_scroll_active = is_multiline &amp;&amp; state != NULL &amp;&amp; g.ActiveId == GetWindowScrollbarID(draw_window, ImGuiAxis_Y);</div>
<div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160; </div>
<div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;    <span class="keywordtype">bool</span> clear_active_id = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;    <span class="keywordtype">bool</span> select_all = (g.ActiveId != id) &amp;&amp; ((flags &amp; ImGuiInputTextFlags_AutoSelectAll) != 0 || user_nav_input_start) &amp;&amp; (!is_multiline);</div>
<div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160; </div>
<div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;    <span class="keywordtype">float</span> scroll_y = is_multiline ? draw_window-&gt;Scroll.y : FLT_MAX;</div>
<div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160; </div>
<div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> init_changed_specs = (state != NULL &amp;&amp; state-&gt;Stb.single_line != !is_multiline);</div>
<div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> init_make_active = (user_clicked || user_scroll_finish || user_nav_input_start || focus_requested_by_code || focus_requested_by_tabbing);</div>
<div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> init_state = (init_make_active || user_scroll_active);</div>
<div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;    <span class="keywordflow">if</span> ((init_state &amp;&amp; g.ActiveId != <span class="keywordtype">id</span>) || init_changed_specs)</div>
<div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;    {</div>
<div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;        <span class="comment">// Access state even if we don&#39;t own it yet.</span></div>
<div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;        state = &amp;g.InputTextState;</div>
<div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;        state-&gt;CursorAnimReset();</div>
<div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160; </div>
<div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;        <span class="comment">// Take a copy of the initial buffer value (both in original UTF-8 format and converted to wchar)</span></div>
<div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;        <span class="comment">// From the moment we focused we are ignoring the content of &#39;buf&#39; (unless we are in read-only mode)</span></div>
<div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> buf_len = (int)strlen(buf);</div>
<div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;        state-&gt;InitialTextA.resize(buf_len + 1);    <span class="comment">// UTF-8. we use +1 to make sure that .Data is always pointing to at least an empty string.</span></div>
<div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;        memcpy(state-&gt;InitialTextA.Data, buf, buf_len + 1);</div>
<div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160; </div>
<div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;        <span class="comment">// Start edition</span></div>
<div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *buf_end = NULL;</div>
<div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;        state-&gt;TextW.resize(buf_size + 1);          <span class="comment">// wchar count &lt;= UTF-8 count. we use +1 to make sure that .Data is always pointing to at least an empty string.</span></div>
<div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;        state-&gt;TextA.resize(0);</div>
<div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;        state-&gt;TextAIsValid = <span class="keyword">false</span>;                <span class="comment">// TextA is not valid yet (we will display buf until then)</span></div>
<div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;        state-&gt;CurLenW = ImTextStrFromUtf8(state-&gt;TextW.Data, buf_size, buf, NULL, &amp;buf_end);</div>
<div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;        state-&gt;CurLenA = (int)(buf_end - buf);      <span class="comment">// We can&#39;t get the result from ImStrncpy() above because it is not UTF-8 aware. Here we&#39;ll cut off malformed UTF-8.</span></div>
<div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160; </div>
<div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;        <span class="comment">// Preserve cursor position and undo/redo stack if we come back to same widget</span></div>
<div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;        <span class="comment">// FIXME: For non-readonly widgets we might be able to require that TextAIsValid &amp;&amp; TextA == buf ? (untested) and discard undo stack if user buffer has changed.</span></div>
<div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> recycle_state = (state-&gt;ID == <span class="keywordtype">id</span> &amp;&amp; !init_changed_specs);</div>
<div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;        <span class="keywordflow">if</span> (recycle_state)</div>
<div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;        {</div>
<div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;            <span class="comment">// Recycle existing cursor/selection/undo stack but clamp position</span></div>
<div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;            <span class="comment">// Note a single mouse click will override the cursor/position immediately by calling stb_textedit_click handler.</span></div>
<div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;            state-&gt;CursorClamp();</div>
<div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;        }</div>
<div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;        {</div>
<div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;            state-&gt;ID = id;</div>
<div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;            state-&gt;ScrollX = 0.0f;</div>
<div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;            stb_textedit_initialize_state(&amp;state-&gt;Stb, !is_multiline);</div>
<div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;            <span class="keywordflow">if</span> (!is_multiline &amp;&amp; focus_requested_by_code)</div>
<div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;                select_all = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;        }</div>
<div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;        <span class="keywordflow">if</span> (flags &amp; ImGuiInputTextFlags_AlwaysOverwrite)</div>
<div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;            state-&gt;Stb.insert_mode = 1; <span class="comment">// stb field name is indeed incorrect (see #2863)</span></div>
<div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;        <span class="keywordflow">if</span> (!is_multiline &amp;&amp; (focus_requested_by_tabbing || (user_clicked &amp;&amp; io.KeyCtrl)))</div>
<div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;            select_all = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;    }</div>
<div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160; </div>
<div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;    <span class="keywordflow">if</span> (g.ActiveId != <span class="keywordtype">id</span> &amp;&amp; init_make_active)</div>
<div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;    {</div>
<div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;        IM_ASSERT(state &amp;&amp; state-&gt;ID == <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;        SetActiveID(<span class="keywordtype">id</span>, window);</div>
<div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;        SetFocusID(<span class="keywordtype">id</span>, window);</div>
<div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;        FocusWindow(window);</div>
<div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160; </div>
<div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;        <span class="comment">// Declare our inputs</span></div>
<div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;        IM_ASSERT(ImGuiNavInput_COUNT &lt; 32);</div>
<div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;        g.ActiveIdUsingNavDirMask |= (1 &lt;&lt; ImGuiDir_Left) | (1 &lt;&lt; ImGuiDir_Right);</div>
<div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;        <span class="keywordflow">if</span> (is_multiline || (flags &amp; ImGuiInputTextFlags_CallbackHistory))</div>
<div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;            g.ActiveIdUsingNavDirMask |= (1 &lt;&lt; ImGuiDir_Up) | (1 &lt;&lt; ImGuiDir_Down);</div>
<div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;        g.ActiveIdUsingNavInputMask |= (1 &lt;&lt; ImGuiNavInput_Cancel);</div>
<div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;        g.ActiveIdUsingKeyInputMask |= ((ImU64)1 &lt;&lt; ImGuiKey_Home) | ((ImU64)1 &lt;&lt; ImGuiKey_End);</div>
<div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;        <span class="keywordflow">if</span> (is_multiline)</div>
<div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;            g.ActiveIdUsingKeyInputMask |= ((ImU64)1 &lt;&lt; ImGuiKey_PageUp) | ((ImU64)1 &lt;&lt; ImGuiKey_PageDown);</div>
<div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160;        <span class="keywordflow">if</span> (flags &amp; (ImGuiInputTextFlags_CallbackCompletion | ImGuiInputTextFlags_AllowTabInput))  <span class="comment">// Disable keyboard tabbing out as we will use the \t character.</span></div>
<div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;            g.ActiveIdUsingKeyInputMask |= ((ImU64)1 &lt;&lt; ImGuiKey_Tab);</div>
<div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;    }</div>
<div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160; </div>
<div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;    <span class="comment">// We have an edge case if ActiveId was set through another widget (e.g. widget being swapped), clear id immediately (don&#39;t wait until the end of the function)</span></div>
<div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;    <span class="keywordflow">if</span> (g.ActiveId == <span class="keywordtype">id</span> &amp;&amp; state == NULL)</div>
<div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;        ClearActiveID();</div>
<div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160; </div>
<div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;    <span class="comment">// Release focus when we click outside</span></div>
<div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;    <span class="keywordflow">if</span> (g.ActiveId == <span class="keywordtype">id</span> &amp;&amp; io.MouseClicked[0] &amp;&amp; !init_state &amp;&amp; !init_make_active) <span class="comment">//-V560</span></div>
<div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;        clear_active_id = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160; </div>
<div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;    <span class="comment">// Lock the decision of whether we are going to take the path displaying the cursor or selection</span></div>
<div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> render_cursor = (g.ActiveId == id) || (state &amp;&amp; user_scroll_active);</div>
<div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;    <span class="keywordtype">bool</span> render_selection = state &amp;&amp; state-&gt;HasSelection() &amp;&amp; (RENDER_SELECTION_WHEN_INACTIVE || render_cursor);</div>
<div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;    <span class="keywordtype">bool</span> value_changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;    <span class="keywordtype">bool</span> enter_pressed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160; </div>
<div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;    <span class="comment">// When read-only we always use the live data passed to the function</span></div>
<div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;    <span class="comment">// FIXME-OPT: Because our selection/cursor code currently needs the wide text we need to convert it when active, which is not ideal :(</span></div>
<div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;    <span class="keywordflow">if</span> (is_readonly &amp;&amp; state != NULL &amp;&amp; (render_cursor || render_selection))</div>
<div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;    {</div>
<div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *buf_end = NULL;</div>
<div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;        state-&gt;TextW.resize(buf_size + 1);</div>
<div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;        state-&gt;CurLenW = ImTextStrFromUtf8(state-&gt;TextW.Data, state-&gt;TextW.Size, buf, NULL, &amp;buf_end);</div>
<div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;        state-&gt;CurLenA = (int)(buf_end - buf);</div>
<div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;        state-&gt;CursorClamp();</div>
<div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;        render_selection &amp;= state-&gt;HasSelection();</div>
<div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;    }</div>
<div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160; </div>
<div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160;    <span class="comment">// Select the buffer to render.</span></div>
<div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> buf_display_from_state = (render_cursor || render_selection || g.ActiveId == id) &amp;&amp; !is_readonly &amp;&amp; state &amp;&amp; state-&gt;TextAIsValid;</div>
<div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_displaying_hint = (hint != NULL &amp;&amp; (buf_display_from_state ? state-&gt;TextA.Data : buf)[0] == 0);</div>
<div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160; </div>
<div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;    <span class="comment">// Password pushes a temporary font with only a fallback glyph</span></div>
<div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160;    <span class="keywordflow">if</span> (is_password &amp;&amp; !is_displaying_hint)</div>
<div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;    {</div>
<div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_im_font_glyph.html">ImFontGlyph</a> *glyph = g.Font-&gt;FindGlyph(<span class="charliteral">&#39;*&#39;</span>);</div>
<div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;        <a class="code" href="struct_im_font.html">ImFont</a> *password_font = &amp;g.InputTextPasswordFont;</div>
<div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;        password_font-&gt;FontSize = g.Font-&gt;FontSize;</div>
<div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160;        password_font-&gt;Scale = g.Font-&gt;Scale;</div>
<div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;        password_font-&gt;Ascent = g.Font-&gt;Ascent;</div>
<div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;        password_font-&gt;Descent = g.Font-&gt;Descent;</div>
<div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;        password_font-&gt;ContainerAtlas = g.Font-&gt;ContainerAtlas;</div>
<div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;        password_font-&gt;FallbackGlyph = glyph;</div>
<div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;        password_font-&gt;FallbackAdvanceX = glyph-&gt;AdvanceX;</div>
<div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;        IM_ASSERT(password_font-&gt;Glyphs.empty() &amp;&amp; password_font-&gt;IndexAdvanceX.empty() &amp;&amp; password_font-&gt;IndexLookup.empty());</div>
<div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;        PushFont(password_font);</div>
<div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;    }</div>
<div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160; </div>
<div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;    <span class="comment">// Process mouse inputs and character inputs</span></div>
<div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;    <span class="keywordtype">int</span> backup_current_text_length = 0;</div>
<div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;    <span class="keywordflow">if</span> (g.ActiveId == <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160;    {</div>
<div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;        IM_ASSERT(state != NULL);</div>
<div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;        backup_current_text_length = state-&gt;CurLenA;</div>
<div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;        state-&gt;Edited = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;        state-&gt;BufCapacityA = buf_size;</div>
<div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160;        state-&gt;Flags = flags;</div>
<div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;        state-&gt;UserCallback = callback;</div>
<div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;        state-&gt;UserCallbackData = callback_user_data;</div>
<div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160; </div>
<div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;        <span class="comment">// Although we are active we don&#39;t prevent mouse from hovering other elements unless we are interacting right now with the widget.</span></div>
<div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;        <span class="comment">// Down the line we should have a cleaner library-wide concept of Selected vs Active.</span></div>
<div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;        g.ActiveIdAllowOverlap = !io.MouseDown[0];</div>
<div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160;        g.WantTextInputNextFrame = 1;</div>
<div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160; </div>
<div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;        <span class="comment">// Edit in progress</span></div>
<div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> mouse_x = (io.MousePos.x - frame_bb.Min.x - style.FramePadding.x) + state-&gt;ScrollX;</div>
<div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> mouse_y = (is_multiline ? (io.MousePos.y - draw_window-&gt;DC.CursorPos.y) : (g.FontSize * 0.5f));</div>
<div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160; </div>
<div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_osx = io.ConfigMacOSXBehaviors;</div>
<div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160;        <span class="keywordflow">if</span> (select_all || (hovered &amp;&amp; !is_osx &amp;&amp; io.MouseDoubleClicked[0]))</div>
<div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;        {</div>
<div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;            state-&gt;SelectAll();</div>
<div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160;            state-&gt;SelectedAllMouseLock = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;        }</div>
<div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hovered &amp;&amp; is_osx &amp;&amp; io.MouseDoubleClicked[0])</div>
<div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;        {</div>
<div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;            <span class="comment">// Double-click select a word only, OS X style (by simulating keystrokes)</span></div>
<div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;            state-&gt;OnKeyPressed(STB_TEXTEDIT_K_WORDLEFT);</div>
<div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;            state-&gt;OnKeyPressed(STB_TEXTEDIT_K_WORDRIGHT | STB_TEXTEDIT_K_SHIFT);</div>
<div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;        }</div>
<div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (io.MouseClicked[0] &amp;&amp; !state-&gt;SelectedAllMouseLock)</div>
<div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;        {</div>
<div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;            <span class="keywordflow">if</span> (hovered)</div>
<div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;            {</div>
<div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160;                stb_textedit_click(state, &amp;state-&gt;Stb, mouse_x, mouse_y);</div>
<div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160;                state-&gt;CursorAnimReset();</div>
<div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;            }</div>
<div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160;        }</div>
<div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (io.MouseDown[0] &amp;&amp; !state-&gt;SelectedAllMouseLock &amp;&amp; (io.MouseDelta.x != 0.0f || io.MouseDelta.y != 0.0f))</div>
<div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;        {</div>
<div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;            stb_textedit_drag(state, &amp;state-&gt;Stb, mouse_x, mouse_y);</div>
<div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;            state-&gt;CursorAnimReset();</div>
<div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;            state-&gt;CursorFollow = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160;        }</div>
<div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;        <span class="keywordflow">if</span> (state-&gt;SelectedAllMouseLock &amp;&amp; !io.MouseDown[0])</div>
<div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;            state-&gt;SelectedAllMouseLock = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160; </div>
<div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;        <span class="comment">// It is ill-defined whether the backend needs to send a \t character when pressing the TAB keys.</span></div>
<div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160;        <span class="comment">// Win32 and GLFW naturally do it but not SDL.</span></div>
<div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> ignore_char_inputs = (io.KeyCtrl &amp;&amp; !io.KeyAlt) || (is_osx &amp;&amp; io.KeySuper);</div>
<div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160;        <span class="keywordflow">if</span> ((flags &amp; ImGuiInputTextFlags_AllowTabInput) &amp;&amp; IsKeyPressedMap(ImGuiKey_Tab) &amp;&amp; !ignore_char_inputs &amp;&amp; !io.KeyShift &amp;&amp; !is_readonly)</div>
<div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;            <span class="keywordflow">if</span> (!io.InputQueueCharacters.contains(<span class="charliteral">&#39;\t&#39;</span>))</div>
<div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160;            {</div>
<div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> c = <span class="charliteral">&#39;\t&#39;</span>; <span class="comment">// Insert TAB</span></div>
<div class="line"><a name="l04376"></a><span class="lineno"> 4376</span>&#160;                <span class="keywordflow">if</span> (InputTextFilterCharacter(&amp;c, flags, callback, callback_user_data, ImGuiInputSource_Keyboard))</div>
<div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160;                    state-&gt;OnKeyPressed((<span class="keywordtype">int</span>)c);</div>
<div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160;            }</div>
<div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160; </div>
<div class="line"><a name="l04380"></a><span class="lineno"> 4380</span>&#160;        <span class="comment">// Process regular text input (before we check for Return because using some IME will effectively send a Return?)</span></div>
<div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160;        <span class="comment">// We ignore CTRL inputs, but need to allow ALT+CTRL as some keyboards (e.g. German) use AltGR (which _is_ Alt+Ctrl) to input certain characters.</span></div>
<div class="line"><a name="l04382"></a><span class="lineno"> 4382</span>&#160;        <span class="keywordflow">if</span> (io.InputQueueCharacters.Size &gt; 0)</div>
<div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160;        {</div>
<div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160;            <span class="keywordflow">if</span> (!ignore_char_inputs &amp;&amp; !is_readonly &amp;&amp; !user_nav_input_start)</div>
<div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; io.InputQueueCharacters.Size; n++)</div>
<div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;                {</div>
<div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160;                    <span class="comment">// Insert character if they pass filtering</span></div>
<div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160;                    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> c = (<span class="keywordtype">unsigned</span> int)io.InputQueueCharacters[n];</div>
<div class="line"><a name="l04389"></a><span class="lineno"> 4389</span>&#160;                    if (c == <span class="charliteral">&#39;\t&#39;</span> &amp;&amp; io.KeyShift)</div>
<div class="line"><a name="l04390"></a><span class="lineno"> 4390</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160;                    <span class="keywordflow">if</span> (InputTextFilterCharacter(&amp;c, flags, callback, callback_user_data, ImGuiInputSource_Keyboard))</div>
<div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;                        state-&gt;OnKeyPressed((<span class="keywordtype">int</span>)c);</div>
<div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160;                }</div>
<div class="line"><a name="l04394"></a><span class="lineno"> 4394</span>&#160; </div>
<div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;            <span class="comment">// Consume characters</span></div>
<div class="line"><a name="l04396"></a><span class="lineno"> 4396</span>&#160;            io.InputQueueCharacters.resize(0);</div>
<div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160;        }</div>
<div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160;    }</div>
<div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160; </div>
<div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;    <span class="comment">// Process other shortcuts/key-presses</span></div>
<div class="line"><a name="l04401"></a><span class="lineno"> 4401</span>&#160;    <span class="keywordtype">bool</span> cancel_edit = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04402"></a><span class="lineno"> 4402</span>&#160;    <span class="keywordflow">if</span> (g.ActiveId == <span class="keywordtype">id</span> &amp;&amp; !g.ActiveIdIsJustActivated &amp;&amp; !clear_active_id)</div>
<div class="line"><a name="l04403"></a><span class="lineno"> 4403</span>&#160;    {</div>
<div class="line"><a name="l04404"></a><span class="lineno"> 4404</span>&#160;        IM_ASSERT(state != NULL);</div>
<div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160;        IM_ASSERT(io.KeyMods == GetMergedKeyModFlags() &amp;&amp; <span class="stringliteral">&quot;Mismatching io.KeyCtrl/io.KeyShift/io.KeyAlt/io.KeySuper vs io.KeyMods&quot;</span>); <span class="comment">// We rarely do this check, but if anything let&#39;s do it here.</span></div>
<div class="line"><a name="l04406"></a><span class="lineno"> 4406</span>&#160; </div>
<div class="line"><a name="l04407"></a><span class="lineno"> 4407</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> row_count_per_page = ImMax((<span class="keywordtype">int</span>)((inner_size.y - style.FramePadding.y) / g.FontSize), 1);</div>
<div class="line"><a name="l04408"></a><span class="lineno"> 4408</span>&#160;        state-&gt;Stb.row_count_per_page = row_count_per_page;</div>
<div class="line"><a name="l04409"></a><span class="lineno"> 4409</span>&#160; </div>
<div class="line"><a name="l04410"></a><span class="lineno"> 4410</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> k_mask = (io.KeyShift ? STB_TEXTEDIT_K_SHIFT : 0);</div>
<div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_osx = io.ConfigMacOSXBehaviors;</div>
<div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_osx_shift_shortcut = is_osx &amp;&amp; (io.KeyMods == (ImGuiKeyModFlags_Super | ImGuiKeyModFlags_Shift));</div>
<div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_wordmove_key_down = is_osx ? io.KeyAlt : io.KeyCtrl;                     <span class="comment">// OS X style: Text editing cursor movement using Alt instead of Ctrl</span></div>
<div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_startend_key_down = is_osx &amp;&amp; io.KeySuper &amp;&amp; !io.KeyCtrl &amp;&amp; !io.KeyAlt;  <span class="comment">// OS X style: Line/Text Start and End using Cmd+Arrows instead of Home/End</span></div>
<div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_ctrl_key_only = (io.KeyMods == ImGuiKeyModFlags_Ctrl);</div>
<div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_shift_key_only = (io.KeyMods == ImGuiKeyModFlags_Shift);</div>
<div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_shortcut_key = g.IO.ConfigMacOSXBehaviors ? (io.KeyMods == ImGuiKeyModFlags_Super) : (io.KeyMods == ImGuiKeyModFlags_Ctrl);</div>
<div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160; </div>
<div class="line"><a name="l04419"></a><span class="lineno"> 4419</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_cut = ((is_shortcut_key &amp;&amp; IsKeyPressedMap(ImGuiKey_X)) || (is_shift_key_only &amp;&amp; IsKeyPressedMap(ImGuiKey_Delete))) &amp;&amp; !is_readonly &amp;&amp; !is_password &amp;&amp; (!is_multiline || state-&gt;HasSelection());</div>
<div class="line"><a name="l04420"></a><span class="lineno"> 4420</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_copy = ((is_shortcut_key &amp;&amp; IsKeyPressedMap(ImGuiKey_C)) || (is_ctrl_key_only &amp;&amp; IsKeyPressedMap(ImGuiKey_Insert))) &amp;&amp; !is_password &amp;&amp; (!is_multiline || state-&gt;HasSelection());</div>
<div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_paste = ((is_shortcut_key &amp;&amp; IsKeyPressedMap(ImGuiKey_V)) || (is_shift_key_only &amp;&amp; IsKeyPressedMap(ImGuiKey_Insert))) &amp;&amp; !is_readonly;</div>
<div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_undo = ((is_shortcut_key &amp;&amp; IsKeyPressedMap(ImGuiKey_Z)) &amp;&amp; !is_readonly &amp;&amp; is_undoable);</div>
<div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_redo = ((is_shortcut_key &amp;&amp; IsKeyPressedMap(ImGuiKey_Y)) || (is_osx_shift_shortcut &amp;&amp; IsKeyPressedMap(ImGuiKey_Z))) &amp;&amp; !is_readonly &amp;&amp; is_undoable;</div>
<div class="line"><a name="l04424"></a><span class="lineno"> 4424</span>&#160; </div>
<div class="line"><a name="l04425"></a><span class="lineno"> 4425</span>&#160;        <span class="keywordflow">if</span> (IsKeyPressedMap(ImGuiKey_LeftArrow))</div>
<div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160;        {</div>
<div class="line"><a name="l04427"></a><span class="lineno"> 4427</span>&#160;            state-&gt;OnKeyPressed((is_startend_key_down ? STB_TEXTEDIT_K_LINESTART : is_wordmove_key_down ? STB_TEXTEDIT_K_WORDLEFT : STB_TEXTEDIT_K_LEFT) | k_mask);</div>
<div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160;        }</div>
<div class="line"><a name="l04429"></a><span class="lineno"> 4429</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsKeyPressedMap(ImGuiKey_RightArrow))</div>
<div class="line"><a name="l04430"></a><span class="lineno"> 4430</span>&#160;        {</div>
<div class="line"><a name="l04431"></a><span class="lineno"> 4431</span>&#160;            state-&gt;OnKeyPressed((is_startend_key_down ? STB_TEXTEDIT_K_LINEEND : is_wordmove_key_down ? STB_TEXTEDIT_K_WORDRIGHT : STB_TEXTEDIT_K_RIGHT) | k_mask);</div>
<div class="line"><a name="l04432"></a><span class="lineno"> 4432</span>&#160;        }</div>
<div class="line"><a name="l04433"></a><span class="lineno"> 4433</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsKeyPressedMap(ImGuiKey_UpArrow) &amp;&amp; is_multiline)</div>
<div class="line"><a name="l04434"></a><span class="lineno"> 4434</span>&#160;        {</div>
<div class="line"><a name="l04435"></a><span class="lineno"> 4435</span>&#160;            <span class="keywordflow">if</span> (io.KeyCtrl) SetScrollY(draw_window, ImMax(draw_window-&gt;Scroll.y - g.FontSize, 0.0f)); <span class="keywordflow">else</span> state-&gt;OnKeyPressed((is_startend_key_down ? STB_TEXTEDIT_K_TEXTSTART : STB_TEXTEDIT_K_UP) | k_mask);</div>
<div class="line"><a name="l04436"></a><span class="lineno"> 4436</span>&#160;        }</div>
<div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsKeyPressedMap(ImGuiKey_DownArrow) &amp;&amp; is_multiline)</div>
<div class="line"><a name="l04438"></a><span class="lineno"> 4438</span>&#160;        {</div>
<div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160;            <span class="keywordflow">if</span> (io.KeyCtrl) SetScrollY(draw_window, ImMin(draw_window-&gt;Scroll.y + g.FontSize, GetScrollMaxY())); <span class="keywordflow">else</span> state-&gt;OnKeyPressed((is_startend_key_down ? STB_TEXTEDIT_K_TEXTEND : STB_TEXTEDIT_K_DOWN) | k_mask);</div>
<div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160;        }</div>
<div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsKeyPressedMap(ImGuiKey_PageUp) &amp;&amp; is_multiline)</div>
<div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;        {</div>
<div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160;            state-&gt;OnKeyPressed(STB_TEXTEDIT_K_PGUP | k_mask); scroll_y -= row_count_per_page * g.FontSize;</div>
<div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160;        }</div>
<div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsKeyPressedMap(ImGuiKey_PageDown) &amp;&amp; is_multiline)</div>
<div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160;        {</div>
<div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160;            state-&gt;OnKeyPressed(STB_TEXTEDIT_K_PGDOWN | k_mask); scroll_y += row_count_per_page * g.FontSize;</div>
<div class="line"><a name="l04448"></a><span class="lineno"> 4448</span>&#160;        }</div>
<div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsKeyPressedMap(ImGuiKey_Home))</div>
<div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160;        {</div>
<div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160;            state-&gt;OnKeyPressed(io.KeyCtrl ? STB_TEXTEDIT_K_TEXTSTART | k_mask : STB_TEXTEDIT_K_LINESTART | k_mask);</div>
<div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160;        }</div>
<div class="line"><a name="l04453"></a><span class="lineno"> 4453</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsKeyPressedMap(ImGuiKey_End))</div>
<div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160;        {</div>
<div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160;            state-&gt;OnKeyPressed(io.KeyCtrl ? STB_TEXTEDIT_K_TEXTEND | k_mask : STB_TEXTEDIT_K_LINEEND | k_mask);</div>
<div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160;        }</div>
<div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsKeyPressedMap(ImGuiKey_Delete) &amp;&amp; !is_readonly)</div>
<div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160;        {</div>
<div class="line"><a name="l04459"></a><span class="lineno"> 4459</span>&#160;            state-&gt;OnKeyPressed(STB_TEXTEDIT_K_DELETE | k_mask);</div>
<div class="line"><a name="l04460"></a><span class="lineno"> 4460</span>&#160;        }</div>
<div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsKeyPressedMap(ImGuiKey_Backspace) &amp;&amp; !is_readonly)</div>
<div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160;        {</div>
<div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160;            <span class="keywordflow">if</span> (!state-&gt;HasSelection())</div>
<div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160;            {</div>
<div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160;                <span class="keywordflow">if</span> (is_wordmove_key_down)</div>
<div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160;                    state-&gt;OnKeyPressed(STB_TEXTEDIT_K_WORDLEFT | STB_TEXTEDIT_K_SHIFT);</div>
<div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (is_osx &amp;&amp; io.KeySuper &amp;&amp; !io.KeyAlt &amp;&amp; !io.KeyCtrl)</div>
<div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160;                    state-&gt;OnKeyPressed(STB_TEXTEDIT_K_LINESTART | STB_TEXTEDIT_K_SHIFT);</div>
<div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;            }</div>
<div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160;            state-&gt;OnKeyPressed(STB_TEXTEDIT_K_BACKSPACE | k_mask);</div>
<div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160;        }</div>
<div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsKeyPressedMap(ImGuiKey_Enter) || IsKeyPressedMap(ImGuiKey_KeyPadEnter))</div>
<div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160;        {</div>
<div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;            <span class="keywordtype">bool</span> ctrl_enter_for_new_line = (flags &amp; ImGuiInputTextFlags_CtrlEnterForNewLine) != 0;</div>
<div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160;            <span class="keywordflow">if</span> (!is_multiline || (ctrl_enter_for_new_line &amp;&amp; !io.KeyCtrl) || (!ctrl_enter_for_new_line &amp;&amp; io.KeyCtrl))</div>
<div class="line"><a name="l04476"></a><span class="lineno"> 4476</span>&#160;            {</div>
<div class="line"><a name="l04477"></a><span class="lineno"> 4477</span>&#160;                enter_pressed = clear_active_id = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04478"></a><span class="lineno"> 4478</span>&#160;            }</div>
<div class="line"><a name="l04479"></a><span class="lineno"> 4479</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!is_readonly)</div>
<div class="line"><a name="l04480"></a><span class="lineno"> 4480</span>&#160;            {</div>
<div class="line"><a name="l04481"></a><span class="lineno"> 4481</span>&#160;                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> c = <span class="charliteral">&#39;\n&#39;</span>; <span class="comment">// Insert new line</span></div>
<div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160;                <span class="keywordflow">if</span> (InputTextFilterCharacter(&amp;c, flags, callback, callback_user_data, ImGuiInputSource_Keyboard))</div>
<div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;                    state-&gt;OnKeyPressed((<span class="keywordtype">int</span>)c);</div>
<div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160;            }</div>
<div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;        }</div>
<div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsKeyPressedMap(ImGuiKey_Escape))</div>
<div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;        {</div>
<div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;            clear_active_id = cancel_edit = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;        }</div>
<div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (is_undo || is_redo)</div>
<div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160;        {</div>
<div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;            state-&gt;OnKeyPressed(is_undo ? STB_TEXTEDIT_K_UNDO : STB_TEXTEDIT_K_REDO);</div>
<div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160;            state-&gt;ClearSelection();</div>
<div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160;        }</div>
<div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (is_shortcut_key &amp;&amp; IsKeyPressedMap(ImGuiKey_A))</div>
<div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160;        {</div>
<div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;            state-&gt;SelectAll();</div>
<div class="line"><a name="l04498"></a><span class="lineno"> 4498</span>&#160;            state-&gt;CursorFollow = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160;        }</div>
<div class="line"><a name="l04500"></a><span class="lineno"> 4500</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (is_cut || is_copy)</div>
<div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160;        {</div>
<div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;            <span class="comment">// Cut, Copy</span></div>
<div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;            <span class="keywordflow">if</span> (io.SetClipboardTextFn)</div>
<div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;            {</div>
<div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> ib = state-&gt;HasSelection() ? ImMin(state-&gt;Stb.select_start, state-&gt;Stb.select_end) : 0;</div>
<div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> ie = state-&gt;HasSelection() ? ImMax(state-&gt;Stb.select_start, state-&gt;Stb.select_end) : state-&gt;CurLenW;</div>
<div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> clipboard_data_len = ImTextCountUtf8BytesFromStr(state-&gt;TextW.Data + ib, state-&gt;TextW.Data + ie) + 1;</div>
<div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;                <span class="keywordtype">char</span> *clipboard_data = (<span class="keywordtype">char</span> *)IM_ALLOC(clipboard_data_len * <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));</div>
<div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160;                ImTextStrToUtf8(clipboard_data, clipboard_data_len, state-&gt;TextW.Data + ib, state-&gt;TextW.Data + ie);</div>
<div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160;                SetClipboardText(clipboard_data);</div>
<div class="line"><a name="l04511"></a><span class="lineno"> 4511</span>&#160;                MemFree(clipboard_data);</div>
<div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160;            }</div>
<div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;            <span class="keywordflow">if</span> (is_cut)</div>
<div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;            {</div>
<div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;                <span class="keywordflow">if</span> (!state-&gt;HasSelection())</div>
<div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;                    state-&gt;SelectAll();</div>
<div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;                state-&gt;CursorFollow = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;                stb_textedit_cut(state, &amp;state-&gt;Stb);</div>
<div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;            }</div>
<div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;        }</div>
<div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (is_paste)</div>
<div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;        {</div>
<div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;            <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keywordtype">char</span> *clipboard = GetClipboardText())</div>
<div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;            {</div>
<div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;                <span class="comment">// Filter pasted buffer</span></div>
<div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> clipboard_len = (int)strlen(clipboard);</div>
<div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;                ImWchar *clipboard_filtered = (ImWchar *)IM_ALLOC((clipboard_len + 1) * <span class="keyword">sizeof</span>(ImWchar));</div>
<div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;                <span class="keywordtype">int</span> clipboard_filtered_len = 0;</div>
<div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;                <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keywordtype">char</span> *s = clipboard; *s; )</div>
<div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160;                {</div>
<div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;                    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> c;</div>
<div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;                    s += ImTextCharFromUtf8(&amp;c, s, NULL);</div>
<div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;                    <span class="keywordflow">if</span> (c == 0)</div>
<div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;                    <span class="keywordflow">if</span> (!InputTextFilterCharacter(&amp;c, flags, callback, callback_user_data, ImGuiInputSource_Clipboard))</div>
<div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160;                    clipboard_filtered[clipboard_filtered_len++] = (ImWchar)c;</div>
<div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;                }</div>
<div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160;                clipboard_filtered[clipboard_filtered_len] = 0;</div>
<div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;                <span class="keywordflow">if</span> (clipboard_filtered_len &gt; 0) <span class="comment">// If everything was filtered, ignore the pasting operation</span></div>
<div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160;                {</div>
<div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160;                    stb_textedit_paste(state, &amp;state-&gt;Stb, clipboard_filtered, clipboard_filtered_len);</div>
<div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160;                    state-&gt;CursorFollow = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160;                }</div>
<div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;                MemFree(clipboard_filtered);</div>
<div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;            }</div>
<div class="line"><a name="l04547"></a><span class="lineno"> 4547</span>&#160;        }</div>
<div class="line"><a name="l04548"></a><span class="lineno"> 4548</span>&#160; </div>
<div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160;        <span class="comment">// Update render selection flag after events have been handled, so selection highlight can be displayed during the same frame.</span></div>
<div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160;        render_selection |= state-&gt;HasSelection() &amp;&amp; (RENDER_SELECTION_WHEN_INACTIVE || render_cursor);</div>
<div class="line"><a name="l04551"></a><span class="lineno"> 4551</span>&#160;    }</div>
<div class="line"><a name="l04552"></a><span class="lineno"> 4552</span>&#160; </div>
<div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160;    <span class="comment">// Process callbacks and apply result back to user&#39;s buffer.</span></div>
<div class="line"><a name="l04554"></a><span class="lineno"> 4554</span>&#160;    <span class="keywordflow">if</span> (g.ActiveId == <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l04555"></a><span class="lineno"> 4555</span>&#160;    {</div>
<div class="line"><a name="l04556"></a><span class="lineno"> 4556</span>&#160;        IM_ASSERT(state != NULL);</div>
<div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *apply_new_text = NULL;</div>
<div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160;        <span class="keywordtype">int</span> apply_new_text_length = 0;</div>
<div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160;        <span class="keywordflow">if</span> (cancel_edit)</div>
<div class="line"><a name="l04560"></a><span class="lineno"> 4560</span>&#160;        {</div>
<div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160;            <span class="comment">// Restore initial value. Only return true if restoring to the initial value changes the current buffer contents.</span></div>
<div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;            <span class="keywordflow">if</span> (!is_readonly &amp;&amp; strcmp(buf, state-&gt;InitialTextA.Data) != 0)</div>
<div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;            {</div>
<div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;                <span class="comment">// Push records into the undo stack so we can CTRL+Z the revert operation itself</span></div>
<div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160;                apply_new_text = state-&gt;InitialTextA.Data;</div>
<div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;                apply_new_text_length = state-&gt;InitialTextA.Size - 1;</div>
<div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;                <a class="code" href="struct_im_vector.html">ImVector&lt;ImWchar&gt;</a> w_text;</div>
<div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160;                <span class="keywordflow">if</span> (apply_new_text_length &gt; 0)</div>
<div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;                {</div>
<div class="line"><a name="l04570"></a><span class="lineno"> 4570</span>&#160;                    w_text.resize(ImTextCountCharsFromUtf8(apply_new_text, apply_new_text + apply_new_text_length) + 1);</div>
<div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160;                    ImTextStrFromUtf8(w_text.Data, w_text.Size, apply_new_text, apply_new_text + apply_new_text_length);</div>
<div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160;                }</div>
<div class="line"><a name="l04573"></a><span class="lineno"> 4573</span>&#160;                stb_textedit_replace(state, &amp;state-&gt;Stb, w_text.Data, (apply_new_text_length &gt; 0) ? (w_text.Size - 1) : 0);</div>
<div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160;            }</div>
<div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160;        }</div>
<div class="line"><a name="l04576"></a><span class="lineno"> 4576</span>&#160; </div>
<div class="line"><a name="l04577"></a><span class="lineno"> 4577</span>&#160;        <span class="comment">// When using &#39;ImGuiInputTextFlags_EnterReturnsTrue&#39; as a special case we reapply the live buffer back to the input buffer before clearing ActiveId, even though strictly speaking it wasn&#39;t modified on this frame.</span></div>
<div class="line"><a name="l04578"></a><span class="lineno"> 4578</span>&#160;        <span class="comment">// If we didn&#39;t do that, code like InputInt() with ImGuiInputTextFlags_EnterReturnsTrue would fail.</span></div>
<div class="line"><a name="l04579"></a><span class="lineno"> 4579</span>&#160;        <span class="comment">// This also allows the user to use InputText() with ImGuiInputTextFlags_EnterReturnsTrue without maintaining any user-side storage (please note that if you use this property along ImGuiInputTextFlags_CallbackResize you can end up with your temporary string object unnecessarily allocating once a frame, either store your string data, either if you don&#39;t then don&#39;t use ImGuiInputTextFlags_CallbackResize).</span></div>
<div class="line"><a name="l04580"></a><span class="lineno"> 4580</span>&#160;        <span class="keywordtype">bool</span> apply_edit_back_to_user_buffer = !cancel_edit || (enter_pressed &amp;&amp; (flags &amp; ImGuiInputTextFlags_EnterReturnsTrue) != 0);</div>
<div class="line"><a name="l04581"></a><span class="lineno"> 4581</span>&#160;        <span class="keywordflow">if</span> (apply_edit_back_to_user_buffer)</div>
<div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160;        {</div>
<div class="line"><a name="l04583"></a><span class="lineno"> 4583</span>&#160;            <span class="comment">// Apply new value immediately - copy modified buffer back</span></div>
<div class="line"><a name="l04584"></a><span class="lineno"> 4584</span>&#160;            <span class="comment">// Note that as soon as the input box is active, the in-widget value gets priority over any underlying modification of the input buffer</span></div>
<div class="line"><a name="l04585"></a><span class="lineno"> 4585</span>&#160;            <span class="comment">// FIXME: We actually always render &#39;buf&#39; when calling DrawList-&gt;AddText, making the comment above incorrect.</span></div>
<div class="line"><a name="l04586"></a><span class="lineno"> 4586</span>&#160;            <span class="comment">// FIXME-OPT: CPU waste to do this every time the widget is active, should mark dirty state from the stb_textedit callbacks.</span></div>
<div class="line"><a name="l04587"></a><span class="lineno"> 4587</span>&#160;            <span class="keywordflow">if</span> (!is_readonly)</div>
<div class="line"><a name="l04588"></a><span class="lineno"> 4588</span>&#160;            {</div>
<div class="line"><a name="l04589"></a><span class="lineno"> 4589</span>&#160;                state-&gt;TextAIsValid = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04590"></a><span class="lineno"> 4590</span>&#160;                state-&gt;TextA.resize(state-&gt;TextW.Size * 4 + 1);</div>
<div class="line"><a name="l04591"></a><span class="lineno"> 4591</span>&#160;                ImTextStrToUtf8(state-&gt;TextA.Data, state-&gt;TextA.Size, state-&gt;TextW.Data, NULL);</div>
<div class="line"><a name="l04592"></a><span class="lineno"> 4592</span>&#160;            }</div>
<div class="line"><a name="l04593"></a><span class="lineno"> 4593</span>&#160; </div>
<div class="line"><a name="l04594"></a><span class="lineno"> 4594</span>&#160;            <span class="comment">// User callback</span></div>
<div class="line"><a name="l04595"></a><span class="lineno"> 4595</span>&#160;            <span class="keywordflow">if</span> ((flags &amp; (ImGuiInputTextFlags_CallbackCompletion | ImGuiInputTextFlags_CallbackHistory | ImGuiInputTextFlags_CallbackEdit | ImGuiInputTextFlags_CallbackAlways)) != 0)</div>
<div class="line"><a name="l04596"></a><span class="lineno"> 4596</span>&#160;            {</div>
<div class="line"><a name="l04597"></a><span class="lineno"> 4597</span>&#160;                IM_ASSERT(callback != NULL);</div>
<div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160; </div>
<div class="line"><a name="l04599"></a><span class="lineno"> 4599</span>&#160;                <span class="comment">// The reason we specify the usage semantic (Completion/History) is that Completion needs to disable keyboard TABBING at the moment.</span></div>
<div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160;                ImGuiInputTextFlags event_flag = 0;</div>
<div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;                ImGuiKey event_key = ImGuiKey_COUNT;</div>
<div class="line"><a name="l04602"></a><span class="lineno"> 4602</span>&#160;                <span class="keywordflow">if</span> ((flags &amp; ImGuiInputTextFlags_CallbackCompletion) != 0 &amp;&amp; IsKeyPressedMap(ImGuiKey_Tab))</div>
<div class="line"><a name="l04603"></a><span class="lineno"> 4603</span>&#160;                {</div>
<div class="line"><a name="l04604"></a><span class="lineno"> 4604</span>&#160;                    event_flag = ImGuiInputTextFlags_CallbackCompletion;</div>
<div class="line"><a name="l04605"></a><span class="lineno"> 4605</span>&#160;                    event_key = ImGuiKey_Tab;</div>
<div class="line"><a name="l04606"></a><span class="lineno"> 4606</span>&#160;                }</div>
<div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((flags &amp; ImGuiInputTextFlags_CallbackHistory) != 0 &amp;&amp; IsKeyPressedMap(ImGuiKey_UpArrow))</div>
<div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160;                {</div>
<div class="line"><a name="l04609"></a><span class="lineno"> 4609</span>&#160;                    event_flag = ImGuiInputTextFlags_CallbackHistory;</div>
<div class="line"><a name="l04610"></a><span class="lineno"> 4610</span>&#160;                    event_key = ImGuiKey_UpArrow;</div>
<div class="line"><a name="l04611"></a><span class="lineno"> 4611</span>&#160;                }</div>
<div class="line"><a name="l04612"></a><span class="lineno"> 4612</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((flags &amp; ImGuiInputTextFlags_CallbackHistory) != 0 &amp;&amp; IsKeyPressedMap(ImGuiKey_DownArrow))</div>
<div class="line"><a name="l04613"></a><span class="lineno"> 4613</span>&#160;                {</div>
<div class="line"><a name="l04614"></a><span class="lineno"> 4614</span>&#160;                    event_flag = ImGuiInputTextFlags_CallbackHistory;</div>
<div class="line"><a name="l04615"></a><span class="lineno"> 4615</span>&#160;                    event_key = ImGuiKey_DownArrow;</div>
<div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160;                }</div>
<div class="line"><a name="l04617"></a><span class="lineno"> 4617</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((flags &amp; ImGuiInputTextFlags_CallbackEdit) &amp;&amp; state-&gt;Edited)</div>
<div class="line"><a name="l04618"></a><span class="lineno"> 4618</span>&#160;                {</div>
<div class="line"><a name="l04619"></a><span class="lineno"> 4619</span>&#160;                    event_flag = ImGuiInputTextFlags_CallbackEdit;</div>
<div class="line"><a name="l04620"></a><span class="lineno"> 4620</span>&#160;                }</div>
<div class="line"><a name="l04621"></a><span class="lineno"> 4621</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags &amp; ImGuiInputTextFlags_CallbackAlways)</div>
<div class="line"><a name="l04622"></a><span class="lineno"> 4622</span>&#160;                {</div>
<div class="line"><a name="l04623"></a><span class="lineno"> 4623</span>&#160;                    event_flag = ImGuiInputTextFlags_CallbackAlways;</div>
<div class="line"><a name="l04624"></a><span class="lineno"> 4624</span>&#160;                }</div>
<div class="line"><a name="l04625"></a><span class="lineno"> 4625</span>&#160; </div>
<div class="line"><a name="l04626"></a><span class="lineno"> 4626</span>&#160;                <span class="keywordflow">if</span> (event_flag)</div>
<div class="line"><a name="l04627"></a><span class="lineno"> 4627</span>&#160;                {</div>
<div class="line"><a name="l04628"></a><span class="lineno"> 4628</span>&#160;                    <a class="code" href="struct_im_gui_input_text_callback_data.html">ImGuiInputTextCallbackData</a> callback_data;</div>
<div class="line"><a name="l04629"></a><span class="lineno"> 4629</span>&#160;                    memset(&amp;callback_data, 0, <span class="keyword">sizeof</span>(<a class="code" href="struct_im_gui_input_text_callback_data.html">ImGuiInputTextCallbackData</a>));</div>
<div class="line"><a name="l04630"></a><span class="lineno"> 4630</span>&#160;                    callback_data.EventFlag = event_flag;</div>
<div class="line"><a name="l04631"></a><span class="lineno"> 4631</span>&#160;                    callback_data.Flags = flags;</div>
<div class="line"><a name="l04632"></a><span class="lineno"> 4632</span>&#160;                    callback_data.UserData = callback_user_data;</div>
<div class="line"><a name="l04633"></a><span class="lineno"> 4633</span>&#160; </div>
<div class="line"><a name="l04634"></a><span class="lineno"> 4634</span>&#160;                    callback_data.EventKey = event_key;</div>
<div class="line"><a name="l04635"></a><span class="lineno"> 4635</span>&#160;                    callback_data.Buf = state-&gt;TextA.Data;</div>
<div class="line"><a name="l04636"></a><span class="lineno"> 4636</span>&#160;                    callback_data.BufTextLen = state-&gt;CurLenA;</div>
<div class="line"><a name="l04637"></a><span class="lineno"> 4637</span>&#160;                    callback_data.BufSize = state-&gt;BufCapacityA;</div>
<div class="line"><a name="l04638"></a><span class="lineno"> 4638</span>&#160;                    callback_data.BufDirty = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04639"></a><span class="lineno"> 4639</span>&#160; </div>
<div class="line"><a name="l04640"></a><span class="lineno"> 4640</span>&#160;                    <span class="comment">// We have to convert from wchar-positions to UTF-8-positions, which can be pretty slow (an incentive to ditch the ImWchar buffer, see https://github.com/nothings/stb/issues/188)</span></div>
<div class="line"><a name="l04641"></a><span class="lineno"> 4641</span>&#160;                    ImWchar *text = state-&gt;TextW.Data;</div>
<div class="line"><a name="l04642"></a><span class="lineno"> 4642</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> utf8_cursor_pos = callback_data.CursorPos = ImTextCountUtf8BytesFromStr(text, text + state-&gt;Stb.cursor);</div>
<div class="line"><a name="l04643"></a><span class="lineno"> 4643</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> utf8_selection_start = callback_data.SelectionStart = ImTextCountUtf8BytesFromStr(text, text + state-&gt;Stb.select_start);</div>
<div class="line"><a name="l04644"></a><span class="lineno"> 4644</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> utf8_selection_end = callback_data.SelectionEnd = ImTextCountUtf8BytesFromStr(text, text + state-&gt;Stb.select_end);</div>
<div class="line"><a name="l04645"></a><span class="lineno"> 4645</span>&#160; </div>
<div class="line"><a name="l04646"></a><span class="lineno"> 4646</span>&#160;                    <span class="comment">// Call user code</span></div>
<div class="line"><a name="l04647"></a><span class="lineno"> 4647</span>&#160;                    callback(&amp;callback_data);</div>
<div class="line"><a name="l04648"></a><span class="lineno"> 4648</span>&#160; </div>
<div class="line"><a name="l04649"></a><span class="lineno"> 4649</span>&#160;                    <span class="comment">// Read back what user may have modified</span></div>
<div class="line"><a name="l04650"></a><span class="lineno"> 4650</span>&#160;                    IM_ASSERT(callback_data.Buf == state-&gt;TextA.Data);  <span class="comment">// Invalid to modify those fields</span></div>
<div class="line"><a name="l04651"></a><span class="lineno"> 4651</span>&#160;                    IM_ASSERT(callback_data.BufSize == state-&gt;BufCapacityA);</div>
<div class="line"><a name="l04652"></a><span class="lineno"> 4652</span>&#160;                    IM_ASSERT(callback_data.Flags == flags);</div>
<div class="line"><a name="l04653"></a><span class="lineno"> 4653</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">bool</span> buf_dirty = callback_data.BufDirty;</div>
<div class="line"><a name="l04654"></a><span class="lineno"> 4654</span>&#160;                    <span class="keywordflow">if</span> (callback_data.CursorPos != utf8_cursor_pos || buf_dirty)</div>
<div class="line"><a name="l04655"></a><span class="lineno"> 4655</span>&#160;                    {</div>
<div class="line"><a name="l04656"></a><span class="lineno"> 4656</span>&#160;                        state-&gt;Stb.cursor = ImTextCountCharsFromUtf8(callback_data.Buf, callback_data.Buf + callback_data.CursorPos); state-&gt;CursorFollow = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04657"></a><span class="lineno"> 4657</span>&#160;                    }</div>
<div class="line"><a name="l04658"></a><span class="lineno"> 4658</span>&#160;                    <span class="keywordflow">if</span> (callback_data.SelectionStart != utf8_selection_start || buf_dirty)</div>
<div class="line"><a name="l04659"></a><span class="lineno"> 4659</span>&#160;                    {</div>
<div class="line"><a name="l04660"></a><span class="lineno"> 4660</span>&#160;                        state-&gt;Stb.select_start = (callback_data.SelectionStart == callback_data.CursorPos) ? state-&gt;Stb.cursor : ImTextCountCharsFromUtf8(callback_data.Buf, callback_data.Buf + callback_data.SelectionStart);</div>
<div class="line"><a name="l04661"></a><span class="lineno"> 4661</span>&#160;                    }</div>
<div class="line"><a name="l04662"></a><span class="lineno"> 4662</span>&#160;                    <span class="keywordflow">if</span> (callback_data.SelectionEnd != utf8_selection_end || buf_dirty)</div>
<div class="line"><a name="l04663"></a><span class="lineno"> 4663</span>&#160;                    {</div>
<div class="line"><a name="l04664"></a><span class="lineno"> 4664</span>&#160;                        state-&gt;Stb.select_end = (callback_data.SelectionEnd == callback_data.SelectionStart) ? state-&gt;Stb.select_start : ImTextCountCharsFromUtf8(callback_data.Buf, callback_data.Buf + callback_data.SelectionEnd);</div>
<div class="line"><a name="l04665"></a><span class="lineno"> 4665</span>&#160;                    }</div>
<div class="line"><a name="l04666"></a><span class="lineno"> 4666</span>&#160;                    <span class="keywordflow">if</span> (buf_dirty)</div>
<div class="line"><a name="l04667"></a><span class="lineno"> 4667</span>&#160;                    {</div>
<div class="line"><a name="l04668"></a><span class="lineno"> 4668</span>&#160;                        IM_ASSERT(callback_data.BufTextLen == (<span class="keywordtype">int</span>)strlen(callback_data.Buf)); <span class="comment">// You need to maintain BufTextLen if you change the text!</span></div>
<div class="line"><a name="l04669"></a><span class="lineno"> 4669</span>&#160;                        <span class="keywordflow">if</span> (callback_data.BufTextLen &gt; backup_current_text_length &amp;&amp; is_resizable)</div>
<div class="line"><a name="l04670"></a><span class="lineno"> 4670</span>&#160;                            state-&gt;TextW.resize(state-&gt;TextW.Size + (callback_data.BufTextLen - backup_current_text_length));</div>
<div class="line"><a name="l04671"></a><span class="lineno"> 4671</span>&#160;                        state-&gt;CurLenW = ImTextStrFromUtf8(state-&gt;TextW.Data, state-&gt;TextW.Size, callback_data.Buf, NULL);</div>
<div class="line"><a name="l04672"></a><span class="lineno"> 4672</span>&#160;                        state-&gt;CurLenA = callback_data.BufTextLen;  <span class="comment">// Assume correct length and valid UTF-8 from user, saves us an extra strlen()</span></div>
<div class="line"><a name="l04673"></a><span class="lineno"> 4673</span>&#160;                        state-&gt;CursorAnimReset();</div>
<div class="line"><a name="l04674"></a><span class="lineno"> 4674</span>&#160;                    }</div>
<div class="line"><a name="l04675"></a><span class="lineno"> 4675</span>&#160;                }</div>
<div class="line"><a name="l04676"></a><span class="lineno"> 4676</span>&#160;            }</div>
<div class="line"><a name="l04677"></a><span class="lineno"> 4677</span>&#160; </div>
<div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160;            <span class="comment">// Will copy result string if modified</span></div>
<div class="line"><a name="l04679"></a><span class="lineno"> 4679</span>&#160;            <span class="keywordflow">if</span> (!is_readonly &amp;&amp; strcmp(state-&gt;TextA.Data, buf) != 0)</div>
<div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160;            {</div>
<div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160;                apply_new_text = state-&gt;TextA.Data;</div>
<div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160;                apply_new_text_length = state-&gt;CurLenA;</div>
<div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;            }</div>
<div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160;        }</div>
<div class="line"><a name="l04685"></a><span class="lineno"> 4685</span>&#160; </div>
<div class="line"><a name="l04686"></a><span class="lineno"> 4686</span>&#160;        <span class="comment">// Copy result to user buffer</span></div>
<div class="line"><a name="l04687"></a><span class="lineno"> 4687</span>&#160;        <span class="keywordflow">if</span> (apply_new_text)</div>
<div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160;        {</div>
<div class="line"><a name="l04689"></a><span class="lineno"> 4689</span>&#160;            <span class="comment">// We cannot test for &#39;backup_current_text_length != apply_new_text_length&#39; here because we have no guarantee that the size</span></div>
<div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160;            <span class="comment">// of our owned buffer matches the size of the string object held by the user, and by design we allow InputText() to be used</span></div>
<div class="line"><a name="l04691"></a><span class="lineno"> 4691</span>&#160;            <span class="comment">// without any storage on user&#39;s side.</span></div>
<div class="line"><a name="l04692"></a><span class="lineno"> 4692</span>&#160;            IM_ASSERT(apply_new_text_length &gt;= 0);</div>
<div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;            <span class="keywordflow">if</span> (is_resizable)</div>
<div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160;            {</div>
<div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160;                <a class="code" href="struct_im_gui_input_text_callback_data.html">ImGuiInputTextCallbackData</a> callback_data;</div>
<div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160;                callback_data.EventFlag = ImGuiInputTextFlags_CallbackResize;</div>
<div class="line"><a name="l04697"></a><span class="lineno"> 4697</span>&#160;                callback_data.Flags = flags;</div>
<div class="line"><a name="l04698"></a><span class="lineno"> 4698</span>&#160;                callback_data.Buf = buf;</div>
<div class="line"><a name="l04699"></a><span class="lineno"> 4699</span>&#160;                callback_data.BufTextLen = apply_new_text_length;</div>
<div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160;                callback_data.BufSize = ImMax(buf_size, apply_new_text_length + 1);</div>
<div class="line"><a name="l04701"></a><span class="lineno"> 4701</span>&#160;                callback_data.UserData = callback_user_data;</div>
<div class="line"><a name="l04702"></a><span class="lineno"> 4702</span>&#160;                callback(&amp;callback_data);</div>
<div class="line"><a name="l04703"></a><span class="lineno"> 4703</span>&#160;                buf = callback_data.Buf;</div>
<div class="line"><a name="l04704"></a><span class="lineno"> 4704</span>&#160;                buf_size = callback_data.BufSize;</div>
<div class="line"><a name="l04705"></a><span class="lineno"> 4705</span>&#160;                apply_new_text_length = ImMin(callback_data.BufTextLen, buf_size - 1);</div>
<div class="line"><a name="l04706"></a><span class="lineno"> 4706</span>&#160;                IM_ASSERT(apply_new_text_length &lt;= buf_size);</div>
<div class="line"><a name="l04707"></a><span class="lineno"> 4707</span>&#160;            }</div>
<div class="line"><a name="l04708"></a><span class="lineno"> 4708</span>&#160;            <span class="comment">//IMGUI_DEBUG_LOG(&quot;InputText(\&quot;%s\&quot;): apply_new_text length %d\n&quot;, label, apply_new_text_length);</span></div>
<div class="line"><a name="l04709"></a><span class="lineno"> 4709</span>&#160; </div>
<div class="line"><a name="l04710"></a><span class="lineno"> 4710</span>&#160;            <span class="comment">// If the underlying buffer resize was denied or not carried to the next frame, apply_new_text_length+1 may be &gt;= buf_size.</span></div>
<div class="line"><a name="l04711"></a><span class="lineno"> 4711</span>&#160;            ImStrncpy(buf, apply_new_text, ImMin(apply_new_text_length + 1, buf_size));</div>
<div class="line"><a name="l04712"></a><span class="lineno"> 4712</span>&#160;            value_changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04713"></a><span class="lineno"> 4713</span>&#160;        }</div>
<div class="line"><a name="l04714"></a><span class="lineno"> 4714</span>&#160; </div>
<div class="line"><a name="l04715"></a><span class="lineno"> 4715</span>&#160;        <span class="comment">// Clear temporary user storage</span></div>
<div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;        state-&gt;Flags = ImGuiInputTextFlags_None;</div>
<div class="line"><a name="l04717"></a><span class="lineno"> 4717</span>&#160;        state-&gt;UserCallback = NULL;</div>
<div class="line"><a name="l04718"></a><span class="lineno"> 4718</span>&#160;        state-&gt;UserCallbackData = NULL;</div>
<div class="line"><a name="l04719"></a><span class="lineno"> 4719</span>&#160;    }</div>
<div class="line"><a name="l04720"></a><span class="lineno"> 4720</span>&#160; </div>
<div class="line"><a name="l04721"></a><span class="lineno"> 4721</span>&#160;    <span class="comment">// Release active ID at the end of the function (so e.g. pressing Return still does a final application of the value)</span></div>
<div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160;    <span class="keywordflow">if</span> (clear_active_id &amp;&amp; g.ActiveId == <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;        ClearActiveID();</div>
<div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160; </div>
<div class="line"><a name="l04725"></a><span class="lineno"> 4725</span>&#160;    <span class="comment">// Render frame</span></div>
<div class="line"><a name="l04726"></a><span class="lineno"> 4726</span>&#160;    <span class="keywordflow">if</span> (!is_multiline)</div>
<div class="line"><a name="l04727"></a><span class="lineno"> 4727</span>&#160;    {</div>
<div class="line"><a name="l04728"></a><span class="lineno"> 4728</span>&#160;        RenderNavHighlight(frame_bb, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l04729"></a><span class="lineno"> 4729</span>&#160;        RenderFrame(frame_bb.Min, frame_bb.Max, GetColorU32(ImGuiCol_FrameBg), <span class="keyword">true</span>, style.FrameRounding);</div>
<div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160;    }</div>
<div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160; </div>
<div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec4.html">ImVec4</a> clip_rect(frame_bb.Min.x, frame_bb.Min.y, frame_bb.Min.x + inner_size.x, frame_bb.Min.y + inner_size.y); <span class="comment">// Not using frame_bb.Max because we have adjusted size</span></div>
<div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> draw_pos = is_multiline ? draw_window-&gt;DC.CursorPos : frame_bb.Min + style.FramePadding;</div>
<div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> text_size(0.0f, 0.0f);</div>
<div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160; </div>
<div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;    <span class="comment">// Set upper limit of single-line InputTextEx() at 2 million characters strings. The current pathological worst case is a long line</span></div>
<div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;    <span class="comment">// without any carriage return, which would makes ImFont::RenderText() reserve too many vertices and probably crash. Avoid it altogether.</span></div>
<div class="line"><a name="l04738"></a><span class="lineno"> 4738</span>&#160;    <span class="comment">// Note that we only use this limit on single-line InputText(), so a pathologically large line on a InputTextMultiline() would still crash.</span></div>
<div class="line"><a name="l04739"></a><span class="lineno"> 4739</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> buf_display_max_length = 2 * 1024 * 1024;</div>
<div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *buf_display = buf_display_from_state ? state-&gt;TextA.Data : buf; <span class="comment">//-V595</span></div>
<div class="line"><a name="l04741"></a><span class="lineno"> 4741</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *buf_display_end = NULL; <span class="comment">// We have specialized paths below for setting the length</span></div>
<div class="line"><a name="l04742"></a><span class="lineno"> 4742</span>&#160;    <span class="keywordflow">if</span> (is_displaying_hint)</div>
<div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;    {</div>
<div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160;        buf_display = hint;</div>
<div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;        buf_display_end = hint + strlen(hint);</div>
<div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160;    }</div>
<div class="line"><a name="l04747"></a><span class="lineno"> 4747</span>&#160; </div>
<div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160;    <span class="comment">// Render text. We currently only render selection when the widget is active or while scrolling.</span></div>
<div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;    <span class="comment">// FIXME: We could remove the &#39;&amp;&amp; render_cursor&#39; to keep rendering selection when inactive.</span></div>
<div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;    <span class="keywordflow">if</span> (render_cursor || render_selection)</div>
<div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160;    {</div>
<div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160;        IM_ASSERT(state != NULL);</div>
<div class="line"><a name="l04753"></a><span class="lineno"> 4753</span>&#160;        <span class="keywordflow">if</span> (!is_displaying_hint)</div>
<div class="line"><a name="l04754"></a><span class="lineno"> 4754</span>&#160;            buf_display_end = buf_display + state-&gt;CurLenA;</div>
<div class="line"><a name="l04755"></a><span class="lineno"> 4755</span>&#160; </div>
<div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160;        <span class="comment">// Render text (with cursor and selection)</span></div>
<div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160;        <span class="comment">// This is going to be messy. We need to:</span></div>
<div class="line"><a name="l04758"></a><span class="lineno"> 4758</span>&#160;        <span class="comment">// - Display the text (this alone can be more easily clipped)</span></div>
<div class="line"><a name="l04759"></a><span class="lineno"> 4759</span>&#160;        <span class="comment">// - Handle scrolling, highlight selection, display cursor (those all requires some form of 1d-&gt;2d cursor position calculation)</span></div>
<div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160;        <span class="comment">// - Measure text height (for scrollbar)</span></div>
<div class="line"><a name="l04761"></a><span class="lineno"> 4761</span>&#160;        <span class="comment">// We are attempting to do most of that in **one main pass** to minimize the computation cost (non-negligible for large amount of text) + 2nd pass for selection rendering (we could merge them by an extra refactoring effort)</span></div>
<div class="line"><a name="l04762"></a><span class="lineno"> 4762</span>&#160;        <span class="comment">// FIXME: This should occur on buf_display but we&#39;d need to maintain cursor/select_start/select_end for UTF-8.</span></div>
<div class="line"><a name="l04763"></a><span class="lineno"> 4763</span>&#160;        <span class="keyword">const</span> ImWchar *text_begin = state-&gt;TextW.Data;</div>
<div class="line"><a name="l04764"></a><span class="lineno"> 4764</span>&#160;        <a class="code" href="struct_im_vec2.html">ImVec2</a> cursor_offset, select_start_offset;</div>
<div class="line"><a name="l04765"></a><span class="lineno"> 4765</span>&#160; </div>
<div class="line"><a name="l04766"></a><span class="lineno"> 4766</span>&#160;        {</div>
<div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;            <span class="comment">// Find lines numbers straddling &#39;cursor&#39; (slot 0) and &#39;select_start&#39; (slot 1) positions.</span></div>
<div class="line"><a name="l04768"></a><span class="lineno"> 4768</span>&#160;            <span class="keyword">const</span> ImWchar *searches_input_ptr[2] = { NULL, NULL };</div>
<div class="line"><a name="l04769"></a><span class="lineno"> 4769</span>&#160;            <span class="keywordtype">int</span> searches_result_line_no[2] = { -1000, -1000 };</div>
<div class="line"><a name="l04770"></a><span class="lineno"> 4770</span>&#160;            <span class="keywordtype">int</span> searches_remaining = 0;</div>
<div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;            <span class="keywordflow">if</span> (render_cursor)</div>
<div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160;            {</div>
<div class="line"><a name="l04773"></a><span class="lineno"> 4773</span>&#160;                searches_input_ptr[0] = text_begin + state-&gt;Stb.cursor;</div>
<div class="line"><a name="l04774"></a><span class="lineno"> 4774</span>&#160;                searches_result_line_no[0] = -1;</div>
<div class="line"><a name="l04775"></a><span class="lineno"> 4775</span>&#160;                searches_remaining++;</div>
<div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160;            }</div>
<div class="line"><a name="l04777"></a><span class="lineno"> 4777</span>&#160;            <span class="keywordflow">if</span> (render_selection)</div>
<div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160;            {</div>
<div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160;                searches_input_ptr[1] = text_begin + ImMin(state-&gt;Stb.select_start, state-&gt;Stb.select_end);</div>
<div class="line"><a name="l04780"></a><span class="lineno"> 4780</span>&#160;                searches_result_line_no[1] = -1;</div>
<div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160;                searches_remaining++;</div>
<div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;            }</div>
<div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160; </div>
<div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160;            <span class="comment">// Iterate all lines to find our line numbers</span></div>
<div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160;            <span class="comment">// In multi-line mode, we never exit the loop until all lines are counted, so add one extra to the searches_remaining counter.</span></div>
<div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160;            searches_remaining += is_multiline ? 1 : 0;</div>
<div class="line"><a name="l04787"></a><span class="lineno"> 4787</span>&#160;            <span class="keywordtype">int</span> line_count = 0;</div>
<div class="line"><a name="l04788"></a><span class="lineno"> 4788</span>&#160;            <span class="comment">//for (const ImWchar* s = text_begin; (s = (const ImWchar*)wcschr((const wchar_t*)s, (wchar_t)&#39;\n&#39;)) != NULL; s++)  // FIXME-OPT: Could use this when wchar_t are 16-bit</span></div>
<div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">const</span> ImWchar *s = text_begin; *s != 0; s++)</div>
<div class="line"><a name="l04790"></a><span class="lineno"> 4790</span>&#160;                <span class="keywordflow">if</span> (*s == <span class="charliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a name="l04791"></a><span class="lineno"> 4791</span>&#160;                {</div>
<div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160;                    line_count++;</div>
<div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160;                    <span class="keywordflow">if</span> (searches_result_line_no[0] == -1 &amp;&amp; s &gt;= searches_input_ptr[0])</div>
<div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;                    {</div>
<div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160;                        searches_result_line_no[0] = line_count; <span class="keywordflow">if</span> (--searches_remaining &lt;= 0) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160;                    }</div>
<div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160;                    <span class="keywordflow">if</span> (searches_result_line_no[1] == -1 &amp;&amp; s &gt;= searches_input_ptr[1])</div>
<div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;                    {</div>
<div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160;                        searches_result_line_no[1] = line_count; <span class="keywordflow">if</span> (--searches_remaining &lt;= 0) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160;                    }</div>
<div class="line"><a name="l04801"></a><span class="lineno"> 4801</span>&#160;                }</div>
<div class="line"><a name="l04802"></a><span class="lineno"> 4802</span>&#160;            line_count++;</div>
<div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160;            <span class="keywordflow">if</span> (searches_result_line_no[0] == -1)</div>
<div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160;                searches_result_line_no[0] = line_count;</div>
<div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160;            <span class="keywordflow">if</span> (searches_result_line_no[1] == -1)</div>
<div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;                searches_result_line_no[1] = line_count;</div>
<div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160; </div>
<div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;            <span class="comment">// Calculate 2d position by finding the beginning of the line and measuring distance</span></div>
<div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160;            cursor_offset.x = InputTextCalcTextSizeW(ImStrbolW(searches_input_ptr[0], text_begin), searches_input_ptr[0]).x;</div>
<div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160;            cursor_offset.y = searches_result_line_no[0] * g.FontSize;</div>
<div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;            <span class="keywordflow">if</span> (searches_result_line_no[1] &gt;= 0)</div>
<div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;            {</div>
<div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160;                select_start_offset.x = InputTextCalcTextSizeW(ImStrbolW(searches_input_ptr[1], text_begin), searches_input_ptr[1]).x;</div>
<div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160;                select_start_offset.y = searches_result_line_no[1] * g.FontSize;</div>
<div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;            }</div>
<div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160; </div>
<div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160;            <span class="comment">// Store text height (note that we haven&#39;t calculated text width at all, see GitHub issues #383, #1224)</span></div>
<div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;            <span class="keywordflow">if</span> (is_multiline)</div>
<div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;                text_size = <a class="code" href="struct_im_vec2.html">ImVec2</a>(inner_size.x, line_count * g.FontSize);</div>
<div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;        }</div>
<div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160; </div>
<div class="line"><a name="l04822"></a><span class="lineno"> 4822</span>&#160;        <span class="comment">// Scroll</span></div>
<div class="line"><a name="l04823"></a><span class="lineno"> 4823</span>&#160;        <span class="keywordflow">if</span> (render_cursor &amp;&amp; state-&gt;CursorFollow)</div>
<div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;        {</div>
<div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;            <span class="comment">// Horizontal scroll in chunks of quarter width</span></div>
<div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160;            <span class="keywordflow">if</span> (!(flags &amp; ImGuiInputTextFlags_NoHorizontalScroll))</div>
<div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;            {</div>
<div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">float</span> scroll_increment_x = inner_size.x * 0.25f;</div>
<div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">float</span> visible_width = inner_size.x - style.FramePadding.x;</div>
<div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160;                <span class="keywordflow">if</span> (cursor_offset.x &lt; state-&gt;ScrollX)</div>
<div class="line"><a name="l04831"></a><span class="lineno"> 4831</span>&#160;                    state-&gt;ScrollX = IM_FLOOR(ImMax(0.0f, cursor_offset.x - scroll_increment_x));</div>
<div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cursor_offset.x - visible_width &gt;= state-&gt;ScrollX)</div>
<div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;                    state-&gt;ScrollX = IM_FLOOR(cursor_offset.x - visible_width + scroll_increment_x);</div>
<div class="line"><a name="l04834"></a><span class="lineno"> 4834</span>&#160;            }</div>
<div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l04836"></a><span class="lineno"> 4836</span>&#160;            {</div>
<div class="line"><a name="l04837"></a><span class="lineno"> 4837</span>&#160;                state-&gt;ScrollX = 0.0f;</div>
<div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160;            }</div>
<div class="line"><a name="l04839"></a><span class="lineno"> 4839</span>&#160; </div>
<div class="line"><a name="l04840"></a><span class="lineno"> 4840</span>&#160;            <span class="comment">// Vertical scroll</span></div>
<div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160;            <span class="keywordflow">if</span> (is_multiline)</div>
<div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;            {</div>
<div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;                <span class="comment">// Test if cursor is vertically visible</span></div>
<div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160;                <span class="keywordflow">if</span> (cursor_offset.y - g.FontSize &lt; scroll_y)</div>
<div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;                    scroll_y = ImMax(0.0f, cursor_offset.y - g.FontSize);</div>
<div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cursor_offset.y - inner_size.y &gt;= scroll_y)</div>
<div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160;                    scroll_y = cursor_offset.y - inner_size.y + style.FramePadding.y * 2.0f;</div>
<div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">float</span> scroll_max_y = ImMax((text_size.y + style.FramePadding.y * 2.0f) - inner_size.y, 0.0f);</div>
<div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;                scroll_y = ImClamp(scroll_y, 0.0f, scroll_max_y);</div>
<div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;                draw_pos.y += (draw_window-&gt;Scroll.y - scroll_y);   <span class="comment">// Manipulate cursor pos immediately avoid a frame of lag</span></div>
<div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;                draw_window-&gt;Scroll.y = scroll_y;</div>
<div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160;            }</div>
<div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160; </div>
<div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160;            state-&gt;CursorFollow = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160;        }</div>
<div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160; </div>
<div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160;        <span class="comment">// Draw selection</span></div>
<div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> draw_scroll = <a class="code" href="struct_im_vec2.html">ImVec2</a>(state-&gt;ScrollX, 0.0f);</div>
<div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160;        <span class="keywordflow">if</span> (render_selection)</div>
<div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160;        {</div>
<div class="line"><a name="l04861"></a><span class="lineno"> 4861</span>&#160;            <span class="keyword">const</span> ImWchar *text_selected_begin = text_begin + ImMin(state-&gt;Stb.select_start, state-&gt;Stb.select_end);</div>
<div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;            <span class="keyword">const</span> ImWchar *text_selected_end = text_begin + ImMax(state-&gt;Stb.select_start, state-&gt;Stb.select_end);</div>
<div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160; </div>
<div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;            ImU32 bg_color = GetColorU32(ImGuiCol_TextSelectedBg, render_cursor ? 1.0f : 0.6f); <span class="comment">// FIXME: current code flow mandate that render_cursor is always true here, we are leaving the transparent one for tests.</span></div>
<div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160;            <span class="keywordtype">float</span> bg_offy_up = is_multiline ? 0.0f : -1.0f;    <span class="comment">// FIXME: those offsets should be part of the style? they don&#39;t play so well with multi-line selection.</span></div>
<div class="line"><a name="l04866"></a><span class="lineno"> 4866</span>&#160;            <span class="keywordtype">float</span> bg_offy_dn = is_multiline ? 0.0f : 2.0f;</div>
<div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;            <a class="code" href="struct_im_vec2.html">ImVec2</a> rect_pos = draw_pos + select_start_offset - draw_scroll;</div>
<div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">const</span> ImWchar *p = text_selected_begin; p &lt; text_selected_end; )</div>
<div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160;            {</div>
<div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160;                <span class="keywordflow">if</span> (rect_pos.y &gt; clip_rect.w + g.FontSize)</div>
<div class="line"><a name="l04871"></a><span class="lineno"> 4871</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160;                <span class="keywordflow">if</span> (rect_pos.y &lt; clip_rect.y)</div>
<div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;                {</div>
<div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;                    <span class="comment">//p = (const ImWchar*)wmemchr((const wchar_t*)p, &#39;\n&#39;, text_selected_end - p);  // FIXME-OPT: Could use this when wchar_t are 16-bit</span></div>
<div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;                    <span class="comment">//p = p ? p + 1 : text_selected_end;</span></div>
<div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;                    <span class="keywordflow">while</span> (p &lt; text_selected_end)</div>
<div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;                        <span class="keywordflow">if</span> (*p++ == <span class="charliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;                }</div>
<div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;                {</div>
<div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;                    <a class="code" href="struct_im_vec2.html">ImVec2</a> rect_size = InputTextCalcTextSizeW(p, text_selected_end, &amp;p, NULL, <span class="keyword">true</span>);</div>
<div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;                    <span class="keywordflow">if</span> (rect_size.x &lt;= 0.0f) rect_size.x = IM_FLOOR(g.Font-&gt;GetCharAdvance((ImWchar)<span class="charliteral">&#39; &#39;</span>) * 0.50f); <span class="comment">// So we can see selected empty lines</span></div>
<div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;                    <a class="code" href="struct_im_rect.html">ImRect</a> rect(rect_pos + <a class="code" href="struct_im_vec2.html">ImVec2</a>(0.0f, bg_offy_up - g.FontSize), rect_pos + <a class="code" href="struct_im_vec2.html">ImVec2</a>(rect_size.x, bg_offy_dn));</div>
<div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;                    rect.ClipWith(clip_rect);</div>
<div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;                    <span class="keywordflow">if</span> (rect.Overlaps(clip_rect))</div>
<div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;                        draw_window-&gt;DrawList-&gt;AddRectFilled(rect.Min, rect.Max, bg_color);</div>
<div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;                }</div>
<div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160;                rect_pos.x = draw_pos.x - draw_scroll.x;</div>
<div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;                rect_pos.y += g.FontSize;</div>
<div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160;            }</div>
<div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;        }</div>
<div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160; </div>
<div class="line"><a name="l04894"></a><span class="lineno"> 4894</span>&#160;        <span class="comment">// We test for &#39;buf_display_max_length&#39; as a way to avoid some pathological cases (e.g. single-line 1 MB string) which would make ImDrawList crash.</span></div>
<div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;        <span class="keywordflow">if</span> (is_multiline || (buf_display_end - buf_display) &lt; buf_display_max_length)</div>
<div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;        {</div>
<div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160;            ImU32 col = GetColorU32(is_displaying_hint ? ImGuiCol_TextDisabled : ImGuiCol_Text);</div>
<div class="line"><a name="l04898"></a><span class="lineno"> 4898</span>&#160;            draw_window-&gt;DrawList-&gt;AddText(g.Font, g.FontSize, draw_pos - draw_scroll, col, buf_display, buf_display_end, 0.0f, is_multiline ? NULL : &amp;clip_rect);</div>
<div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;        }</div>
<div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160; </div>
<div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160;        <span class="comment">// Draw blinking cursor</span></div>
<div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;        <span class="keywordflow">if</span> (render_cursor)</div>
<div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;        {</div>
<div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;            state-&gt;CursorAnim += io.Time;</div>
<div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160;            <span class="keywordtype">bool</span> cursor_is_visible = (!g.IO.ConfigInputTextCursorBlink) || (state-&gt;CursorAnim &lt;= 0.0f) || ImFmod(state-&gt;CursorAnim, 1.20f) &lt;= 0.80f;</div>
<div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;            <a class="code" href="struct_im_vec2.html">ImVec2</a> cursor_screen_pos = ImFloor(draw_pos + cursor_offset - draw_scroll);</div>
<div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;            <a class="code" href="struct_im_rect.html">ImRect</a> cursor_screen_rect(cursor_screen_pos.x, cursor_screen_pos.y - g.FontSize + 0.5f, cursor_screen_pos.x + 1.0f, cursor_screen_pos.y - 1.5f);</div>
<div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;            <span class="keywordflow">if</span> (cursor_is_visible &amp;&amp; cursor_screen_rect.Overlaps(clip_rect))</div>
<div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;                draw_window-&gt;DrawList-&gt;AddLine(cursor_screen_rect.Min, cursor_screen_rect.GetBL(), GetColorU32(ImGuiCol_Text));</div>
<div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160; </div>
<div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;            <span class="comment">// Notify OS of text input position for advanced IME (-1 x offset so that Windows IME can cover our cursor. Bit of an extra nicety.)</span></div>
<div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160;            <span class="keywordflow">if</span> (!is_readonly)</div>
<div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160;                g.PlatformImePos = <a class="code" href="struct_im_vec2.html">ImVec2</a>(cursor_screen_pos.x - 1.0f, cursor_screen_pos.y - g.FontSize);</div>
<div class="line"><a name="l04914"></a><span class="lineno"> 4914</span>&#160;        }</div>
<div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160;    }</div>
<div class="line"><a name="l04916"></a><span class="lineno"> 4916</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160;    {</div>
<div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160;        <span class="comment">// Render text only (no selection, no cursor)</span></div>
<div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160;        <span class="keywordflow">if</span> (is_multiline)</div>
<div class="line"><a name="l04920"></a><span class="lineno"> 4920</span>&#160;            text_size = <a class="code" href="struct_im_vec2.html">ImVec2</a>(inner_size.x, InputTextCalcTextLenAndLineCount(buf_display, &amp;buf_display_end) * g.FontSize); <span class="comment">// We don&#39;t need width</span></div>
<div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!is_displaying_hint &amp;&amp; g.ActiveId == <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;            buf_display_end = buf_display + state-&gt;CurLenA;</div>
<div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!is_displaying_hint)</div>
<div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160;            buf_display_end = buf_display + strlen(buf_display);</div>
<div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160; </div>
<div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;        <span class="keywordflow">if</span> (is_multiline || (buf_display_end - buf_display) &lt; buf_display_max_length)</div>
<div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160;        {</div>
<div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;            ImU32 col = GetColorU32(is_displaying_hint ? ImGuiCol_TextDisabled : ImGuiCol_Text);</div>
<div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;            draw_window-&gt;DrawList-&gt;AddText(g.Font, g.FontSize, draw_pos, col, buf_display, buf_display_end, 0.0f, is_multiline ? NULL : &amp;clip_rect);</div>
<div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160;        }</div>
<div class="line"><a name="l04931"></a><span class="lineno"> 4931</span>&#160;    }</div>
<div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160; </div>
<div class="line"><a name="l04933"></a><span class="lineno"> 4933</span>&#160;    <span class="keywordflow">if</span> (is_password &amp;&amp; !is_displaying_hint)</div>
<div class="line"><a name="l04934"></a><span class="lineno"> 4934</span>&#160;        PopFont();</div>
<div class="line"><a name="l04935"></a><span class="lineno"> 4935</span>&#160; </div>
<div class="line"><a name="l04936"></a><span class="lineno"> 4936</span>&#160;    <span class="keywordflow">if</span> (is_multiline)</div>
<div class="line"><a name="l04937"></a><span class="lineno"> 4937</span>&#160;    {</div>
<div class="line"><a name="l04938"></a><span class="lineno"> 4938</span>&#160;        Dummy(<a class="code" href="struct_im_vec2.html">ImVec2</a>(text_size.x, text_size.y + style.FramePadding.y));</div>
<div class="line"><a name="l04939"></a><span class="lineno"> 4939</span>&#160;        EndChild();</div>
<div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160;        EndGroup();</div>
<div class="line"><a name="l04941"></a><span class="lineno"> 4941</span>&#160;    }</div>
<div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160; </div>
<div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160;    <span class="comment">// Log as text</span></div>
<div class="line"><a name="l04944"></a><span class="lineno"> 4944</span>&#160;    <span class="keywordflow">if</span> (g.LogEnabled &amp;&amp; (!is_password || is_displaying_hint))</div>
<div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;    {</div>
<div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;        LogSetNextTextDecoration(<span class="stringliteral">&quot;{&quot;</span>, <span class="stringliteral">&quot;}&quot;</span>);</div>
<div class="line"><a name="l04947"></a><span class="lineno"> 4947</span>&#160;        LogRenderedText(&amp;draw_pos, buf_display, buf_display_end);</div>
<div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;    }</div>
<div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160; </div>
<div class="line"><a name="l04950"></a><span class="lineno"> 4950</span>&#160;    <span class="keywordflow">if</span> (label_size.x &gt; 0)</div>
<div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160;        RenderText(<a class="code" href="struct_im_vec2.html">ImVec2</a>(frame_bb.Max.x + style.ItemInnerSpacing.x, frame_bb.Min.y + style.FramePadding.y), label);</div>
<div class="line"><a name="l04952"></a><span class="lineno"> 4952</span>&#160; </div>
<div class="line"><a name="l04953"></a><span class="lineno"> 4953</span>&#160;    <span class="keywordflow">if</span> (value_changed &amp;&amp; !(flags &amp; ImGuiInputTextFlags_NoMarkEdited))</div>
<div class="line"><a name="l04954"></a><span class="lineno"> 4954</span>&#160;        MarkItemEdited(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l04955"></a><span class="lineno"> 4955</span>&#160; </div>
<div class="line"><a name="l04956"></a><span class="lineno"> 4956</span>&#160;    IMGUI_TEST_ENGINE_ITEM_INFO(<span class="keywordtype">id</span>, label, g.LastItemData.StatusFlags);</div>
<div class="line"><a name="l04957"></a><span class="lineno"> 4957</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; ImGuiInputTextFlags_EnterReturnsTrue) != 0)</div>
<div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160;        <span class="keywordflow">return</span> enter_pressed;</div>
<div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160;        <span class="keywordflow">return</span> value_changed;</div>
<div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;}</div>
<div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160; </div>
<div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l04964"></a><span class="lineno"> 4964</span>&#160;<span class="comment">// [SECTION] Widgets: ColorEdit, ColorPicker, ColorButton, etc.</span></div>
<div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160;<span class="comment">// - ColorEdit3()</span></div>
<div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160;<span class="comment">// - ColorEdit4()</span></div>
<div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160;<span class="comment">// - ColorPicker3()</span></div>
<div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160;<span class="comment">// - RenderColorRectWithAlphaCheckerboard() [Internal]</span></div>
<div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;<span class="comment">// - ColorPicker4()</span></div>
<div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;<span class="comment">// - ColorButton()</span></div>
<div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160;<span class="comment">// - SetColorEditOptions()</span></div>
<div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;<span class="comment">// - ColorTooltip() [Internal]</span></div>
<div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160;<span class="comment">// - ColorEditOptionsPopup() [Internal]</span></div>
<div class="line"><a name="l04975"></a><span class="lineno"> 4975</span>&#160;<span class="comment">// - ColorPickerOptionsPopup() [Internal]</span></div>
<div class="line"><a name="l04976"></a><span class="lineno"> 4976</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l04977"></a><span class="lineno"> 4977</span>&#160; </div>
<div class="line"><a name="l04978"></a><span class="lineno"> 4978</span>&#160;<span class="keywordtype">bool</span> ImGui::ColorEdit3(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">float</span> col[3], ImGuiColorEditFlags flags)</div>
<div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160;{</div>
<div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160;    <span class="keywordflow">return</span> ColorEdit4(label, col, flags | ImGuiColorEditFlags_NoAlpha);</div>
<div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160;}</div>
<div class="line"><a name="l04982"></a><span class="lineno"> 4982</span>&#160; </div>
<div class="line"><a name="l04983"></a><span class="lineno"> 4983</span>&#160;<span class="comment">// Edit colors components (each component in 0.0f..1.0f range).</span></div>
<div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160;<span class="comment">// See enum ImGuiColorEditFlags_ for available options. e.g. Only access 3 floats if ImGuiColorEditFlags_NoAlpha flag is set.</span></div>
<div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160;<span class="comment">// With typical options: Left-click on color square to open color picker. Right-click to open option menu. CTRL-Click over input fields to edit them and TAB to go to next item.</span></div>
<div class="line"><a name="l04986"></a><span class="lineno"> 4986</span>&#160;<span class="keywordtype">bool</span> ImGui::ColorEdit4(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">float</span> col[4], ImGuiColorEditFlags flags)</div>
<div class="line"><a name="l04987"></a><span class="lineno"> 4987</span>&#160;{</div>
<div class="line"><a name="l04988"></a><span class="lineno"> 4988</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l04990"></a><span class="lineno"> 4990</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160; </div>
<div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_gui_style.html">ImGuiStyle</a> &amp;style = g.Style;</div>
<div class="line"><a name="l04994"></a><span class="lineno"> 4994</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> square_sz = GetFrameHeight();</div>
<div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> w_full = CalcItemWidth();</div>
<div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> w_button = (flags &amp; ImGuiColorEditFlags_NoSmallPreview) ? 0.0f : (square_sz + style.ItemInnerSpacing.x);</div>
<div class="line"><a name="l04997"></a><span class="lineno"> 4997</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> w_inputs = w_full - w_button;</div>
<div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *label_display_end = FindRenderedTextEnd(label);</div>
<div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;    g.NextItemData.ClearFlags();</div>
<div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160; </div>
<div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160;    BeginGroup();</div>
<div class="line"><a name="l05002"></a><span class="lineno"> 5002</span>&#160;    PushID(label);</div>
<div class="line"><a name="l05003"></a><span class="lineno"> 5003</span>&#160; </div>
<div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160;    <span class="comment">// If we&#39;re not showing any slider there&#39;s no point in doing any HSV conversions</span></div>
<div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;    <span class="keyword">const</span> ImGuiColorEditFlags flags_untouched = flags;</div>
<div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;    <span class="keywordflow">if</span> (flags &amp; ImGuiColorEditFlags_NoInputs)</div>
<div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160;        flags = (flags &amp; (~ImGuiColorEditFlags_DisplayMask_)) | ImGuiColorEditFlags_DisplayRGB | ImGuiColorEditFlags_NoOptions;</div>
<div class="line"><a name="l05008"></a><span class="lineno"> 5008</span>&#160; </div>
<div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;    <span class="comment">// Context menu: display and modify options (before defaults are applied)</span></div>
<div class="line"><a name="l05010"></a><span class="lineno"> 5010</span>&#160;    <span class="keywordflow">if</span> (!(flags &amp; ImGuiColorEditFlags_NoOptions))</div>
<div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160;        ColorEditOptionsPopup(col, flags);</div>
<div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160; </div>
<div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;    <span class="comment">// Read stored options</span></div>
<div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160;    <span class="keywordflow">if</span> (!(flags &amp; ImGuiColorEditFlags_DisplayMask_))</div>
<div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160;        flags |= (g.ColorEditOptions &amp; ImGuiColorEditFlags_DisplayMask_);</div>
<div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160;    <span class="keywordflow">if</span> (!(flags &amp; ImGuiColorEditFlags_DataTypeMask_))</div>
<div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160;        flags |= (g.ColorEditOptions &amp; ImGuiColorEditFlags_DataTypeMask_);</div>
<div class="line"><a name="l05018"></a><span class="lineno"> 5018</span>&#160;    <span class="keywordflow">if</span> (!(flags &amp; ImGuiColorEditFlags_PickerMask_))</div>
<div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160;        flags |= (g.ColorEditOptions &amp; ImGuiColorEditFlags_PickerMask_);</div>
<div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160;    <span class="keywordflow">if</span> (!(flags &amp; ImGuiColorEditFlags_InputMask_))</div>
<div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160;        flags |= (g.ColorEditOptions &amp; ImGuiColorEditFlags_InputMask_);</div>
<div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;    flags |= (g.ColorEditOptions &amp; ~(ImGuiColorEditFlags_DisplayMask_ | ImGuiColorEditFlags_DataTypeMask_ | ImGuiColorEditFlags_PickerMask_ | ImGuiColorEditFlags_InputMask_));</div>
<div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160;    IM_ASSERT(ImIsPowerOfTwo(flags &amp; ImGuiColorEditFlags_DisplayMask_)); <span class="comment">// Check that only 1 is selected</span></div>
<div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160;    IM_ASSERT(ImIsPowerOfTwo(flags &amp; ImGuiColorEditFlags_InputMask_));   <span class="comment">// Check that only 1 is selected</span></div>
<div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160; </div>
<div class="line"><a name="l05026"></a><span class="lineno"> 5026</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> alpha = (flags &amp; ImGuiColorEditFlags_NoAlpha) == 0;</div>
<div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> hdr = (flags &amp; ImGuiColorEditFlags_HDR) != 0;</div>
<div class="line"><a name="l05028"></a><span class="lineno"> 5028</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> components = alpha ? 4 : 3;</div>
<div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160; </div>
<div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160;    <span class="comment">// Convert to the formats we need</span></div>
<div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;    <span class="keywordtype">float</span> f[4] = { col[0], col[1], col[2], alpha ? col[3] : 1.0f };</div>
<div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; ImGuiColorEditFlags_InputHSV) &amp;&amp; (flags &amp; ImGuiColorEditFlags_DisplayRGB))</div>
<div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;        ColorConvertHSVtoRGB(f[0], f[1], f[2], f[0], f[1], f[2]);</div>
<div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((flags &amp; ImGuiColorEditFlags_InputRGB) &amp;&amp; (flags &amp; ImGuiColorEditFlags_DisplayHSV))</div>
<div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160;    {</div>
<div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;        <span class="comment">// Hue is lost when converting from greyscale rgb (saturation=0). Restore it.</span></div>
<div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160;        ColorConvertRGBtoHSV(f[0], f[1], f[2], f[0], f[1], f[2]);</div>
<div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160;        <span class="keywordflow">if</span> (memcmp(g.ColorEditLastColor, col, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>) * 3) == 0)</div>
<div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160;        {</div>
<div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;            <span class="keywordflow">if</span> (f[1] == 0)</div>
<div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160;                f[0] = g.ColorEditLastHue;</div>
<div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160;            <span class="keywordflow">if</span> (f[2] == 0)</div>
<div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;                f[1] = g.ColorEditLastSat;</div>
<div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;        }</div>
<div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160;    }</div>
<div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160;    <span class="keywordtype">int</span> i[4] = { IM_F32_TO_INT8_UNBOUND(f[0]), IM_F32_TO_INT8_UNBOUND(f[1]), IM_F32_TO_INT8_UNBOUND(f[2]), IM_F32_TO_INT8_UNBOUND(f[3]) };</div>
<div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160; </div>
<div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;    <span class="keywordtype">bool</span> value_changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;    <span class="keywordtype">bool</span> value_changed_as_float = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160; </div>
<div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> pos = window-&gt;DC.CursorPos;</div>
<div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> inputs_offset_x = (style.ColorButtonPosition == ImGuiDir_Left) ? w_button : 0.0f;</div>
<div class="line"><a name="l05053"></a><span class="lineno"> 5053</span>&#160;    window-&gt;DC.CursorPos.x = pos.x + inputs_offset_x;</div>
<div class="line"><a name="l05054"></a><span class="lineno"> 5054</span>&#160; </div>
<div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; (ImGuiColorEditFlags_DisplayRGB | ImGuiColorEditFlags_DisplayHSV)) != 0 &amp;&amp; (flags &amp; ImGuiColorEditFlags_NoInputs) == 0)</div>
<div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160;    {</div>
<div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160;        <span class="comment">// RGB/HSV 0..255 Sliders</span></div>
<div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> w_item_one = ImMax(1.0f, IM_FLOOR((w_inputs - (style.ItemInnerSpacing.x) * (components - 1)) / (<span class="keywordtype">float</span>)components));</div>
<div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> w_item_last = ImMax(1.0f, IM_FLOOR(w_inputs - (w_item_one + style.ItemInnerSpacing.x) * (components - 1)));</div>
<div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160; </div>
<div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> hide_prefix = (w_item_one &lt;= CalcTextSize((flags &amp; ImGuiColorEditFlags_Float) ? <span class="stringliteral">&quot;M:0.000&quot;</span> : <span class="stringliteral">&quot;M:000&quot;</span>).x);</div>
<div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *ids[4] = { <span class="stringliteral">&quot;##X&quot;</span>, <span class="stringliteral">&quot;##Y&quot;</span>, <span class="stringliteral">&quot;##Z&quot;</span>, <span class="stringliteral">&quot;##W&quot;</span> };</div>
<div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt_table_int[3][4] =</div>
<div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;        {</div>
<div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;            {   <span class="stringliteral">&quot;%3d&quot;</span>,   <span class="stringliteral">&quot;%3d&quot;</span>,   <span class="stringliteral">&quot;%3d&quot;</span>,   <span class="stringliteral">&quot;%3d&quot;</span> }, <span class="comment">// Short display</span></div>
<div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160;            { <span class="stringliteral">&quot;R:%3d&quot;</span>, <span class="stringliteral">&quot;G:%3d&quot;</span>, <span class="stringliteral">&quot;B:%3d&quot;</span>, <span class="stringliteral">&quot;A:%3d&quot;</span> }, <span class="comment">// Long display for RGBA</span></div>
<div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160;            { <span class="stringliteral">&quot;H:%3d&quot;</span>, <span class="stringliteral">&quot;S:%3d&quot;</span>, <span class="stringliteral">&quot;V:%3d&quot;</span>, <span class="stringliteral">&quot;A:%3d&quot;</span> }  <span class="comment">// Long display for HSVA</span></div>
<div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160;        };</div>
<div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt_table_float[3][4] =</div>
<div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160;        {</div>
<div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;            {   <span class="stringliteral">&quot;%0.3f&quot;</span>,   <span class="stringliteral">&quot;%0.3f&quot;</span>,   <span class="stringliteral">&quot;%0.3f&quot;</span>,   <span class="stringliteral">&quot;%0.3f&quot;</span> }, <span class="comment">// Short display</span></div>
<div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160;            { <span class="stringliteral">&quot;R:%0.3f&quot;</span>, <span class="stringliteral">&quot;G:%0.3f&quot;</span>, <span class="stringliteral">&quot;B:%0.3f&quot;</span>, <span class="stringliteral">&quot;A:%0.3f&quot;</span> }, <span class="comment">// Long display for RGBA</span></div>
<div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;            { <span class="stringliteral">&quot;H:%0.3f&quot;</span>, <span class="stringliteral">&quot;S:%0.3f&quot;</span>, <span class="stringliteral">&quot;V:%0.3f&quot;</span>, <span class="stringliteral">&quot;A:%0.3f&quot;</span> }  <span class="comment">// Long display for HSVA</span></div>
<div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;        };</div>
<div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> fmt_idx = hide_prefix ? 0 : (flags &amp; ImGuiColorEditFlags_DisplayHSV) ? 2 : 1;</div>
<div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160; </div>
<div class="line"><a name="l05077"></a><span class="lineno"> 5077</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; components; n++)</div>
<div class="line"><a name="l05078"></a><span class="lineno"> 5078</span>&#160;        {</div>
<div class="line"><a name="l05079"></a><span class="lineno"> 5079</span>&#160;            <span class="keywordflow">if</span> (n &gt; 0)</div>
<div class="line"><a name="l05080"></a><span class="lineno"> 5080</span>&#160;                SameLine(0, style.ItemInnerSpacing.x);</div>
<div class="line"><a name="l05081"></a><span class="lineno"> 5081</span>&#160;            SetNextItemWidth((n + 1 &lt; components) ? w_item_one : w_item_last);</div>
<div class="line"><a name="l05082"></a><span class="lineno"> 5082</span>&#160; </div>
<div class="line"><a name="l05083"></a><span class="lineno"> 5083</span>&#160;            <span class="comment">// FIXME: When ImGuiColorEditFlags_HDR flag is passed HS values snap in weird ways when SV values go below 0.</span></div>
<div class="line"><a name="l05084"></a><span class="lineno"> 5084</span>&#160;            <span class="keywordflow">if</span> (flags &amp; ImGuiColorEditFlags_Float)</div>
<div class="line"><a name="l05085"></a><span class="lineno"> 5085</span>&#160;            {</div>
<div class="line"><a name="l05086"></a><span class="lineno"> 5086</span>&#160;                value_changed |= DragFloat(ids[n], &amp;f[n], 1.0f / 255.0f, 0.0f, hdr ? 0.0f : 1.0f, fmt_table_float[fmt_idx][n]);</div>
<div class="line"><a name="l05087"></a><span class="lineno"> 5087</span>&#160;                value_changed_as_float |= value_changed;</div>
<div class="line"><a name="l05088"></a><span class="lineno"> 5088</span>&#160;            }</div>
<div class="line"><a name="l05089"></a><span class="lineno"> 5089</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l05090"></a><span class="lineno"> 5090</span>&#160;            {</div>
<div class="line"><a name="l05091"></a><span class="lineno"> 5091</span>&#160;                value_changed |= DragInt(ids[n], &amp;i[n], 1.0f, 0, hdr ? 0 : 255, fmt_table_int[fmt_idx][n]);</div>
<div class="line"><a name="l05092"></a><span class="lineno"> 5092</span>&#160;            }</div>
<div class="line"><a name="l05093"></a><span class="lineno"> 5093</span>&#160;            <span class="keywordflow">if</span> (!(flags &amp; ImGuiColorEditFlags_NoOptions))</div>
<div class="line"><a name="l05094"></a><span class="lineno"> 5094</span>&#160;                OpenPopupOnItemClick(<span class="stringliteral">&quot;context&quot;</span>);</div>
<div class="line"><a name="l05095"></a><span class="lineno"> 5095</span>&#160;        }</div>
<div class="line"><a name="l05096"></a><span class="lineno"> 5096</span>&#160;    }</div>
<div class="line"><a name="l05097"></a><span class="lineno"> 5097</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((flags &amp; ImGuiColorEditFlags_DisplayHex) != 0 &amp;&amp; (flags &amp; ImGuiColorEditFlags_NoInputs) == 0)</div>
<div class="line"><a name="l05098"></a><span class="lineno"> 5098</span>&#160;    {</div>
<div class="line"><a name="l05099"></a><span class="lineno"> 5099</span>&#160;        <span class="comment">// RGB Hexadecimal Input</span></div>
<div class="line"><a name="l05100"></a><span class="lineno"> 5100</span>&#160;        <span class="keywordtype">char</span> buf[64];</div>
<div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160;        <span class="keywordflow">if</span> (alpha)</div>
<div class="line"><a name="l05102"></a><span class="lineno"> 5102</span>&#160;            ImFormatString(buf, IM_ARRAYSIZE(buf), <span class="stringliteral">&quot;#%02X%02X%02X%02X&quot;</span>, ImClamp(i[0], 0, 255), ImClamp(i[1], 0, 255), ImClamp(i[2], 0, 255), ImClamp(i[3], 0, 255));</div>
<div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l05104"></a><span class="lineno"> 5104</span>&#160;            ImFormatString(buf, IM_ARRAYSIZE(buf), <span class="stringliteral">&quot;#%02X%02X%02X&quot;</span>, ImClamp(i[0], 0, 255), ImClamp(i[1], 0, 255), ImClamp(i[2], 0, 255));</div>
<div class="line"><a name="l05105"></a><span class="lineno"> 5105</span>&#160;        SetNextItemWidth(w_inputs);</div>
<div class="line"><a name="l05106"></a><span class="lineno"> 5106</span>&#160;        <span class="keywordflow">if</span> (InputText(<span class="stringliteral">&quot;##Text&quot;</span>, buf, IM_ARRAYSIZE(buf), ImGuiInputTextFlags_CharsHexadecimal | ImGuiInputTextFlags_CharsUppercase))</div>
<div class="line"><a name="l05107"></a><span class="lineno"> 5107</span>&#160;        {</div>
<div class="line"><a name="l05108"></a><span class="lineno"> 5108</span>&#160;            value_changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05109"></a><span class="lineno"> 5109</span>&#160;            <span class="keywordtype">char</span> *p = buf;</div>
<div class="line"><a name="l05110"></a><span class="lineno"> 5110</span>&#160;            <span class="keywordflow">while</span> (*p == <span class="charliteral">&#39;#&#39;</span> || ImCharIsBlankA(*p))</div>
<div class="line"><a name="l05111"></a><span class="lineno"> 5111</span>&#160;                p++;</div>
<div class="line"><a name="l05112"></a><span class="lineno"> 5112</span>&#160;            i[0] = i[1] = i[2] = 0;</div>
<div class="line"><a name="l05113"></a><span class="lineno"> 5113</span>&#160;            i[3] = 0xFF; <span class="comment">// alpha default to 255 is not parsed by scanf (e.g. inputting #FFFFFF omitting alpha)</span></div>
<div class="line"><a name="l05114"></a><span class="lineno"> 5114</span>&#160;            <span class="keywordtype">int</span> r;</div>
<div class="line"><a name="l05115"></a><span class="lineno"> 5115</span>&#160;            <span class="keywordflow">if</span> (alpha)</div>
<div class="line"><a name="l05116"></a><span class="lineno"> 5116</span>&#160;                r = sscanf(p, <span class="stringliteral">&quot;%02X%02X%02X%02X&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *)&amp;i[0], (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *)&amp;i[1], (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *)&amp;i[2], (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *)&amp;i[3]); <span class="comment">// Treat at unsigned (%X is unsigned)</span></div>
<div class="line"><a name="l05117"></a><span class="lineno"> 5117</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l05118"></a><span class="lineno"> 5118</span>&#160;                r = sscanf(p, <span class="stringliteral">&quot;%02X%02X%02X&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *)&amp;i[0], (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *)&amp;i[1], (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *)&amp;i[2]);</div>
<div class="line"><a name="l05119"></a><span class="lineno"> 5119</span>&#160;            IM_UNUSED(r); <span class="comment">// Fixes C6031: Return value ignored: &#39;sscanf&#39;.</span></div>
<div class="line"><a name="l05120"></a><span class="lineno"> 5120</span>&#160;        }</div>
<div class="line"><a name="l05121"></a><span class="lineno"> 5121</span>&#160;        <span class="keywordflow">if</span> (!(flags &amp; ImGuiColorEditFlags_NoOptions))</div>
<div class="line"><a name="l05122"></a><span class="lineno"> 5122</span>&#160;            OpenPopupOnItemClick(<span class="stringliteral">&quot;context&quot;</span>);</div>
<div class="line"><a name="l05123"></a><span class="lineno"> 5123</span>&#160;    }</div>
<div class="line"><a name="l05124"></a><span class="lineno"> 5124</span>&#160; </div>
<div class="line"><a name="l05125"></a><span class="lineno"> 5125</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *picker_active_window = NULL;</div>
<div class="line"><a name="l05126"></a><span class="lineno"> 5126</span>&#160;    <span class="keywordflow">if</span> (!(flags &amp; ImGuiColorEditFlags_NoSmallPreview))</div>
<div class="line"><a name="l05127"></a><span class="lineno"> 5127</span>&#160;    {</div>
<div class="line"><a name="l05128"></a><span class="lineno"> 5128</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> button_offset_x = ((flags &amp; ImGuiColorEditFlags_NoInputs) || (style.ColorButtonPosition == ImGuiDir_Left)) ? 0.0f : w_inputs + style.ItemInnerSpacing.x;</div>
<div class="line"><a name="l05129"></a><span class="lineno"> 5129</span>&#160;        window-&gt;DC.CursorPos = <a class="code" href="struct_im_vec2.html">ImVec2</a>(pos.x + button_offset_x, pos.y);</div>
<div class="line"><a name="l05130"></a><span class="lineno"> 5130</span>&#160; </div>
<div class="line"><a name="l05131"></a><span class="lineno"> 5131</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_im_vec4.html">ImVec4</a> col_v4(col[0], col[1], col[2], alpha ? col[3] : 1.0f);</div>
<div class="line"><a name="l05132"></a><span class="lineno"> 5132</span>&#160;        <span class="keywordflow">if</span> (ColorButton(<span class="stringliteral">&quot;##ColorButton&quot;</span>, col_v4, flags))</div>
<div class="line"><a name="l05133"></a><span class="lineno"> 5133</span>&#160;        {</div>
<div class="line"><a name="l05134"></a><span class="lineno"> 5134</span>&#160;            <span class="keywordflow">if</span> (!(flags &amp; ImGuiColorEditFlags_NoPicker))</div>
<div class="line"><a name="l05135"></a><span class="lineno"> 5135</span>&#160;            {</div>
<div class="line"><a name="l05136"></a><span class="lineno"> 5136</span>&#160;                <span class="comment">// Store current color and open a picker</span></div>
<div class="line"><a name="l05137"></a><span class="lineno"> 5137</span>&#160;                g.ColorPickerRef = col_v4;</div>
<div class="line"><a name="l05138"></a><span class="lineno"> 5138</span>&#160;                OpenPopup(<span class="stringliteral">&quot;picker&quot;</span>);</div>
<div class="line"><a name="l05139"></a><span class="lineno"> 5139</span>&#160;                SetNextWindowPos(g.LastItemData.Rect.GetBL() + <a class="code" href="struct_im_vec2.html">ImVec2</a>(-1, style.ItemSpacing.y));</div>
<div class="line"><a name="l05140"></a><span class="lineno"> 5140</span>&#160;            }</div>
<div class="line"><a name="l05141"></a><span class="lineno"> 5141</span>&#160;        }</div>
<div class="line"><a name="l05142"></a><span class="lineno"> 5142</span>&#160;        <span class="keywordflow">if</span> (!(flags &amp; ImGuiColorEditFlags_NoOptions))</div>
<div class="line"><a name="l05143"></a><span class="lineno"> 5143</span>&#160;            OpenPopupOnItemClick(<span class="stringliteral">&quot;context&quot;</span>);</div>
<div class="line"><a name="l05144"></a><span class="lineno"> 5144</span>&#160; </div>
<div class="line"><a name="l05145"></a><span class="lineno"> 5145</span>&#160;        <span class="keywordflow">if</span> (BeginPopup(<span class="stringliteral">&quot;picker&quot;</span>))</div>
<div class="line"><a name="l05146"></a><span class="lineno"> 5146</span>&#160;        {</div>
<div class="line"><a name="l05147"></a><span class="lineno"> 5147</span>&#160;            picker_active_window = g.CurrentWindow;</div>
<div class="line"><a name="l05148"></a><span class="lineno"> 5148</span>&#160;            <span class="keywordflow">if</span> (label != label_display_end)</div>
<div class="line"><a name="l05149"></a><span class="lineno"> 5149</span>&#160;            {</div>
<div class="line"><a name="l05150"></a><span class="lineno"> 5150</span>&#160;                TextEx(label, label_display_end);</div>
<div class="line"><a name="l05151"></a><span class="lineno"> 5151</span>&#160;                Spacing();</div>
<div class="line"><a name="l05152"></a><span class="lineno"> 5152</span>&#160;            }</div>
<div class="line"><a name="l05153"></a><span class="lineno"> 5153</span>&#160;            ImGuiColorEditFlags picker_flags_to_forward = ImGuiColorEditFlags_DataTypeMask_ | ImGuiColorEditFlags_PickerMask_ | ImGuiColorEditFlags_InputMask_ | ImGuiColorEditFlags_HDR | ImGuiColorEditFlags_NoAlpha | ImGuiColorEditFlags_AlphaBar;</div>
<div class="line"><a name="l05154"></a><span class="lineno"> 5154</span>&#160;            ImGuiColorEditFlags picker_flags = (flags_untouched &amp; picker_flags_to_forward) | ImGuiColorEditFlags_DisplayMask_ | ImGuiColorEditFlags_NoLabel | ImGuiColorEditFlags_AlphaPreviewHalf;</div>
<div class="line"><a name="l05155"></a><span class="lineno"> 5155</span>&#160;            SetNextItemWidth(square_sz * 12.0f); <span class="comment">// Use 256 + bar sizes?</span></div>
<div class="line"><a name="l05156"></a><span class="lineno"> 5156</span>&#160;            value_changed |= ColorPicker4(<span class="stringliteral">&quot;##picker&quot;</span>, col, picker_flags, &amp;g.ColorPickerRef.x);</div>
<div class="line"><a name="l05157"></a><span class="lineno"> 5157</span>&#160;            EndPopup();</div>
<div class="line"><a name="l05158"></a><span class="lineno"> 5158</span>&#160;        }</div>
<div class="line"><a name="l05159"></a><span class="lineno"> 5159</span>&#160;    }</div>
<div class="line"><a name="l05160"></a><span class="lineno"> 5160</span>&#160; </div>
<div class="line"><a name="l05161"></a><span class="lineno"> 5161</span>&#160;    <span class="keywordflow">if</span> (label != label_display_end &amp;&amp; !(flags &amp; ImGuiColorEditFlags_NoLabel))</div>
<div class="line"><a name="l05162"></a><span class="lineno"> 5162</span>&#160;    {</div>
<div class="line"><a name="l05163"></a><span class="lineno"> 5163</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> text_offset_x = (flags &amp; ImGuiColorEditFlags_NoInputs) ? w_button : w_full + style.ItemInnerSpacing.x;</div>
<div class="line"><a name="l05164"></a><span class="lineno"> 5164</span>&#160;        window-&gt;DC.CursorPos = <a class="code" href="struct_im_vec2.html">ImVec2</a>(pos.x + text_offset_x, pos.y + style.FramePadding.y);</div>
<div class="line"><a name="l05165"></a><span class="lineno"> 5165</span>&#160;        TextEx(label, label_display_end);</div>
<div class="line"><a name="l05166"></a><span class="lineno"> 5166</span>&#160;    }</div>
<div class="line"><a name="l05167"></a><span class="lineno"> 5167</span>&#160; </div>
<div class="line"><a name="l05168"></a><span class="lineno"> 5168</span>&#160;    <span class="comment">// Convert back</span></div>
<div class="line"><a name="l05169"></a><span class="lineno"> 5169</span>&#160;    <span class="keywordflow">if</span> (value_changed &amp;&amp; picker_active_window == NULL)</div>
<div class="line"><a name="l05170"></a><span class="lineno"> 5170</span>&#160;    {</div>
<div class="line"><a name="l05171"></a><span class="lineno"> 5171</span>&#160;        <span class="keywordflow">if</span> (!value_changed_as_float)</div>
<div class="line"><a name="l05172"></a><span class="lineno"> 5172</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; 4; n++)</div>
<div class="line"><a name="l05173"></a><span class="lineno"> 5173</span>&#160;                f[n] = i[n] / 255.0f;</div>
<div class="line"><a name="l05174"></a><span class="lineno"> 5174</span>&#160;        <span class="keywordflow">if</span> ((flags &amp; ImGuiColorEditFlags_DisplayHSV) &amp;&amp; (flags &amp; ImGuiColorEditFlags_InputRGB))</div>
<div class="line"><a name="l05175"></a><span class="lineno"> 5175</span>&#160;        {</div>
<div class="line"><a name="l05176"></a><span class="lineno"> 5176</span>&#160;            g.ColorEditLastHue = f[0];</div>
<div class="line"><a name="l05177"></a><span class="lineno"> 5177</span>&#160;            g.ColorEditLastSat = f[1];</div>
<div class="line"><a name="l05178"></a><span class="lineno"> 5178</span>&#160;            ColorConvertHSVtoRGB(f[0], f[1], f[2], f[0], f[1], f[2]);</div>
<div class="line"><a name="l05179"></a><span class="lineno"> 5179</span>&#160;            memcpy(g.ColorEditLastColor, f, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>) * 3);</div>
<div class="line"><a name="l05180"></a><span class="lineno"> 5180</span>&#160;        }</div>
<div class="line"><a name="l05181"></a><span class="lineno"> 5181</span>&#160;        <span class="keywordflow">if</span> ((flags &amp; ImGuiColorEditFlags_DisplayRGB) &amp;&amp; (flags &amp; ImGuiColorEditFlags_InputHSV))</div>
<div class="line"><a name="l05182"></a><span class="lineno"> 5182</span>&#160;            ColorConvertRGBtoHSV(f[0], f[1], f[2], f[0], f[1], f[2]);</div>
<div class="line"><a name="l05183"></a><span class="lineno"> 5183</span>&#160; </div>
<div class="line"><a name="l05184"></a><span class="lineno"> 5184</span>&#160;        col[0] = f[0];</div>
<div class="line"><a name="l05185"></a><span class="lineno"> 5185</span>&#160;        col[1] = f[1];</div>
<div class="line"><a name="l05186"></a><span class="lineno"> 5186</span>&#160;        col[2] = f[2];</div>
<div class="line"><a name="l05187"></a><span class="lineno"> 5187</span>&#160;        <span class="keywordflow">if</span> (alpha)</div>
<div class="line"><a name="l05188"></a><span class="lineno"> 5188</span>&#160;            col[3] = f[3];</div>
<div class="line"><a name="l05189"></a><span class="lineno"> 5189</span>&#160;    }</div>
<div class="line"><a name="l05190"></a><span class="lineno"> 5190</span>&#160; </div>
<div class="line"><a name="l05191"></a><span class="lineno"> 5191</span>&#160;    PopID();</div>
<div class="line"><a name="l05192"></a><span class="lineno"> 5192</span>&#160;    EndGroup();</div>
<div class="line"><a name="l05193"></a><span class="lineno"> 5193</span>&#160; </div>
<div class="line"><a name="l05194"></a><span class="lineno"> 5194</span>&#160;    <span class="comment">// Drag and Drop Target</span></div>
<div class="line"><a name="l05195"></a><span class="lineno"> 5195</span>&#160;    <span class="comment">// NB: The flag test is merely an optional micro-optimization, BeginDragDropTarget() does the same test.</span></div>
<div class="line"><a name="l05196"></a><span class="lineno"> 5196</span>&#160;    <span class="keywordflow">if</span> ((g.LastItemData.StatusFlags &amp; ImGuiItemStatusFlags_HoveredRect) &amp;&amp; !(flags &amp; ImGuiColorEditFlags_NoDragDrop) &amp;&amp; BeginDragDropTarget())</div>
<div class="line"><a name="l05197"></a><span class="lineno"> 5197</span>&#160;    {</div>
<div class="line"><a name="l05198"></a><span class="lineno"> 5198</span>&#160;        <span class="keywordtype">bool</span> accepted_drag_drop = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05199"></a><span class="lineno"> 5199</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="struct_im_gui_payload.html">ImGuiPayload</a> *payload = AcceptDragDropPayload(IMGUI_PAYLOAD_TYPE_COLOR_3F))</div>
<div class="line"><a name="l05200"></a><span class="lineno"> 5200</span>&#160;        {</div>
<div class="line"><a name="l05201"></a><span class="lineno"> 5201</span>&#160;            memcpy((<span class="keywordtype">float</span> *)col, payload-&gt;Data, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>) * 3); <span class="comment">// Preserve alpha if any //-V512</span></div>
<div class="line"><a name="l05202"></a><span class="lineno"> 5202</span>&#160;            value_changed = accepted_drag_drop = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05203"></a><span class="lineno"> 5203</span>&#160;        }</div>
<div class="line"><a name="l05204"></a><span class="lineno"> 5204</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="struct_im_gui_payload.html">ImGuiPayload</a> *payload = AcceptDragDropPayload(IMGUI_PAYLOAD_TYPE_COLOR_4F))</div>
<div class="line"><a name="l05205"></a><span class="lineno"> 5205</span>&#160;        {</div>
<div class="line"><a name="l05206"></a><span class="lineno"> 5206</span>&#160;            memcpy((<span class="keywordtype">float</span> *)col, payload-&gt;Data, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>) * components);</div>
<div class="line"><a name="l05207"></a><span class="lineno"> 5207</span>&#160;            value_changed = accepted_drag_drop = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05208"></a><span class="lineno"> 5208</span>&#160;        }</div>
<div class="line"><a name="l05209"></a><span class="lineno"> 5209</span>&#160; </div>
<div class="line"><a name="l05210"></a><span class="lineno"> 5210</span>&#160;        <span class="comment">// Drag-drop payloads are always RGB</span></div>
<div class="line"><a name="l05211"></a><span class="lineno"> 5211</span>&#160;        <span class="keywordflow">if</span> (accepted_drag_drop &amp;&amp; (flags &amp; ImGuiColorEditFlags_InputHSV))</div>
<div class="line"><a name="l05212"></a><span class="lineno"> 5212</span>&#160;            ColorConvertRGBtoHSV(col[0], col[1], col[2], col[0], col[1], col[2]);</div>
<div class="line"><a name="l05213"></a><span class="lineno"> 5213</span>&#160;        EndDragDropTarget();</div>
<div class="line"><a name="l05214"></a><span class="lineno"> 5214</span>&#160;    }</div>
<div class="line"><a name="l05215"></a><span class="lineno"> 5215</span>&#160; </div>
<div class="line"><a name="l05216"></a><span class="lineno"> 5216</span>&#160;    <span class="comment">// When picker is being actively used, use its active id so IsItemActive() will function on ColorEdit4().</span></div>
<div class="line"><a name="l05217"></a><span class="lineno"> 5217</span>&#160;    <span class="keywordflow">if</span> (picker_active_window &amp;&amp; g.ActiveId != 0 &amp;&amp; g.ActiveIdWindow == picker_active_window)</div>
<div class="line"><a name="l05218"></a><span class="lineno"> 5218</span>&#160;        g.LastItemData.ID = g.ActiveId;</div>
<div class="line"><a name="l05219"></a><span class="lineno"> 5219</span>&#160; </div>
<div class="line"><a name="l05220"></a><span class="lineno"> 5220</span>&#160;    <span class="keywordflow">if</span> (value_changed)</div>
<div class="line"><a name="l05221"></a><span class="lineno"> 5221</span>&#160;        MarkItemEdited(g.LastItemData.ID);</div>
<div class="line"><a name="l05222"></a><span class="lineno"> 5222</span>&#160; </div>
<div class="line"><a name="l05223"></a><span class="lineno"> 5223</span>&#160;    <span class="keywordflow">return</span> value_changed;</div>
<div class="line"><a name="l05224"></a><span class="lineno"> 5224</span>&#160;}</div>
<div class="line"><a name="l05225"></a><span class="lineno"> 5225</span>&#160; </div>
<div class="line"><a name="l05226"></a><span class="lineno"> 5226</span>&#160;<span class="keywordtype">bool</span> ImGui::ColorPicker3(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">float</span> col[3], ImGuiColorEditFlags flags)</div>
<div class="line"><a name="l05227"></a><span class="lineno"> 5227</span>&#160;{</div>
<div class="line"><a name="l05228"></a><span class="lineno"> 5228</span>&#160;    <span class="keywordtype">float</span> col4[4] = { col[0], col[1], col[2], 1.0f };</div>
<div class="line"><a name="l05229"></a><span class="lineno"> 5229</span>&#160;    <span class="keywordflow">if</span> (!ColorPicker4(label, col4, flags | ImGuiColorEditFlags_NoAlpha))</div>
<div class="line"><a name="l05230"></a><span class="lineno"> 5230</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05231"></a><span class="lineno"> 5231</span>&#160;    col[0] = col4[0]; col[1] = col4[1]; col[2] = col4[2];</div>
<div class="line"><a name="l05232"></a><span class="lineno"> 5232</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05233"></a><span class="lineno"> 5233</span>&#160;}</div>
<div class="line"><a name="l05234"></a><span class="lineno"> 5234</span>&#160; </div>
<div class="line"><a name="l05235"></a><span class="lineno"> 5235</span>&#160;<span class="comment">// Helper for ColorPicker4()</span></div>
<div class="line"><a name="l05236"></a><span class="lineno"> 5236</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> RenderArrowsForVerticalBar(<a class="code" href="struct_im_draw_list.html">ImDrawList</a> *draw_list, <a class="code" href="struct_im_vec2.html">ImVec2</a> pos, <a class="code" href="struct_im_vec2.html">ImVec2</a> half_sz, <span class="keywordtype">float</span> bar_w, <span class="keywordtype">float</span> alpha)</div>
<div class="line"><a name="l05237"></a><span class="lineno"> 5237</span>&#160;{</div>
<div class="line"><a name="l05238"></a><span class="lineno"> 5238</span>&#160;    ImU32 alpha8 = IM_F32_TO_INT8_SAT(alpha);</div>
<div class="line"><a name="l05239"></a><span class="lineno"> 5239</span>&#160;    ImGui::RenderArrowPointingAt(draw_list, <a class="code" href="struct_im_vec2.html">ImVec2</a>(pos.x + half_sz.x + 1, pos.y), <a class="code" href="struct_im_vec2.html">ImVec2</a>(half_sz.x + 2, half_sz.y + 1), ImGuiDir_Right, IM_COL32(0, 0, 0, alpha8));</div>
<div class="line"><a name="l05240"></a><span class="lineno"> 5240</span>&#160;    ImGui::RenderArrowPointingAt(draw_list, <a class="code" href="struct_im_vec2.html">ImVec2</a>(pos.x + half_sz.x, pos.y), half_sz, ImGuiDir_Right, IM_COL32(255, 255, 255, alpha8));</div>
<div class="line"><a name="l05241"></a><span class="lineno"> 5241</span>&#160;    ImGui::RenderArrowPointingAt(draw_list, <a class="code" href="struct_im_vec2.html">ImVec2</a>(pos.x + bar_w - half_sz.x - 1, pos.y), <a class="code" href="struct_im_vec2.html">ImVec2</a>(half_sz.x + 2, half_sz.y + 1), ImGuiDir_Left, IM_COL32(0, 0, 0, alpha8));</div>
<div class="line"><a name="l05242"></a><span class="lineno"> 5242</span>&#160;    ImGui::RenderArrowPointingAt(draw_list, <a class="code" href="struct_im_vec2.html">ImVec2</a>(pos.x + bar_w - half_sz.x, pos.y), half_sz, ImGuiDir_Left, IM_COL32(255, 255, 255, alpha8));</div>
<div class="line"><a name="l05243"></a><span class="lineno"> 5243</span>&#160;}</div>
<div class="line"><a name="l05244"></a><span class="lineno"> 5244</span>&#160; </div>
<div class="line"><a name="l05245"></a><span class="lineno"> 5245</span>&#160;<span class="comment">// Note: ColorPicker4() only accesses 3 floats if ImGuiColorEditFlags_NoAlpha flag is set.</span></div>
<div class="line"><a name="l05246"></a><span class="lineno"> 5246</span>&#160;<span class="comment">// (In C++ the &#39;float col[4]&#39; notation for a function argument is equivalent to &#39;float* col&#39;, we only specify a size to facilitate understanding of the code.)</span></div>
<div class="line"><a name="l05247"></a><span class="lineno"> 5247</span>&#160;<span class="comment">// FIXME: we adjust the big color square height based on item width, which may cause a flickering feedback loop (if automatic height makes a vertical scrollbar appears, affecting automatic width..)</span></div>
<div class="line"><a name="l05248"></a><span class="lineno"> 5248</span>&#160;<span class="comment">// FIXME: this is trying to be aware of style.Alpha but not fully correct. Also, the color wheel will have overlapping glitches with (style.Alpha &lt; 1.0)</span></div>
<div class="line"><a name="l05249"></a><span class="lineno"> 5249</span>&#160;<span class="keywordtype">bool</span> ImGui::ColorPicker4(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">float</span> col[4], ImGuiColorEditFlags flags, <span class="keyword">const</span> <span class="keywordtype">float</span> *ref_col)</div>
<div class="line"><a name="l05250"></a><span class="lineno"> 5250</span>&#160;{</div>
<div class="line"><a name="l05251"></a><span class="lineno"> 5251</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l05252"></a><span class="lineno"> 5252</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l05253"></a><span class="lineno"> 5253</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l05254"></a><span class="lineno"> 5254</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05255"></a><span class="lineno"> 5255</span>&#160; </div>
<div class="line"><a name="l05256"></a><span class="lineno"> 5256</span>&#160;    <a class="code" href="struct_im_draw_list.html">ImDrawList</a> *draw_list = window-&gt;DrawList;</div>
<div class="line"><a name="l05257"></a><span class="lineno"> 5257</span>&#160;    <a class="code" href="struct_im_gui_style.html">ImGuiStyle</a> &amp;style = g.Style;</div>
<div class="line"><a name="l05258"></a><span class="lineno"> 5258</span>&#160;    <a class="code" href="struct_im_gui_i_o.html">ImGuiIO</a> &amp;io = g.IO;</div>
<div class="line"><a name="l05259"></a><span class="lineno"> 5259</span>&#160; </div>
<div class="line"><a name="l05260"></a><span class="lineno"> 5260</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> width = CalcItemWidth();</div>
<div class="line"><a name="l05261"></a><span class="lineno"> 5261</span>&#160;    g.NextItemData.ClearFlags();</div>
<div class="line"><a name="l05262"></a><span class="lineno"> 5262</span>&#160; </div>
<div class="line"><a name="l05263"></a><span class="lineno"> 5263</span>&#160;    PushID(label);</div>
<div class="line"><a name="l05264"></a><span class="lineno"> 5264</span>&#160;    BeginGroup();</div>
<div class="line"><a name="l05265"></a><span class="lineno"> 5265</span>&#160; </div>
<div class="line"><a name="l05266"></a><span class="lineno"> 5266</span>&#160;    <span class="keywordflow">if</span> (!(flags &amp; ImGuiColorEditFlags_NoSidePreview))</div>
<div class="line"><a name="l05267"></a><span class="lineno"> 5267</span>&#160;        flags |= ImGuiColorEditFlags_NoSmallPreview;</div>
<div class="line"><a name="l05268"></a><span class="lineno"> 5268</span>&#160; </div>
<div class="line"><a name="l05269"></a><span class="lineno"> 5269</span>&#160;    <span class="comment">// Context menu: display and store options.</span></div>
<div class="line"><a name="l05270"></a><span class="lineno"> 5270</span>&#160;    <span class="keywordflow">if</span> (!(flags &amp; ImGuiColorEditFlags_NoOptions))</div>
<div class="line"><a name="l05271"></a><span class="lineno"> 5271</span>&#160;        ColorPickerOptionsPopup(col, flags);</div>
<div class="line"><a name="l05272"></a><span class="lineno"> 5272</span>&#160; </div>
<div class="line"><a name="l05273"></a><span class="lineno"> 5273</span>&#160;    <span class="comment">// Read stored options</span></div>
<div class="line"><a name="l05274"></a><span class="lineno"> 5274</span>&#160;    <span class="keywordflow">if</span> (!(flags &amp; ImGuiColorEditFlags_PickerMask_))</div>
<div class="line"><a name="l05275"></a><span class="lineno"> 5275</span>&#160;        flags |= ((g.ColorEditOptions &amp; ImGuiColorEditFlags_PickerMask_) ? g.ColorEditOptions : ImGuiColorEditFlags_DefaultOptions_) &amp; ImGuiColorEditFlags_PickerMask_;</div>
<div class="line"><a name="l05276"></a><span class="lineno"> 5276</span>&#160;    <span class="keywordflow">if</span> (!(flags &amp; ImGuiColorEditFlags_InputMask_))</div>
<div class="line"><a name="l05277"></a><span class="lineno"> 5277</span>&#160;        flags |= ((g.ColorEditOptions &amp; ImGuiColorEditFlags_InputMask_) ? g.ColorEditOptions : ImGuiColorEditFlags_DefaultOptions_) &amp; ImGuiColorEditFlags_InputMask_;</div>
<div class="line"><a name="l05278"></a><span class="lineno"> 5278</span>&#160;    IM_ASSERT(ImIsPowerOfTwo(flags &amp; ImGuiColorEditFlags_PickerMask_)); <span class="comment">// Check that only 1 is selected</span></div>
<div class="line"><a name="l05279"></a><span class="lineno"> 5279</span>&#160;    IM_ASSERT(ImIsPowerOfTwo(flags &amp; ImGuiColorEditFlags_InputMask_));  <span class="comment">// Check that only 1 is selected</span></div>
<div class="line"><a name="l05280"></a><span class="lineno"> 5280</span>&#160;    <span class="keywordflow">if</span> (!(flags &amp; ImGuiColorEditFlags_NoOptions))</div>
<div class="line"><a name="l05281"></a><span class="lineno"> 5281</span>&#160;        flags |= (g.ColorEditOptions &amp; ImGuiColorEditFlags_AlphaBar);</div>
<div class="line"><a name="l05282"></a><span class="lineno"> 5282</span>&#160; </div>
<div class="line"><a name="l05283"></a><span class="lineno"> 5283</span>&#160;    <span class="comment">// Setup</span></div>
<div class="line"><a name="l05284"></a><span class="lineno"> 5284</span>&#160;    <span class="keywordtype">int</span> components = (flags &amp; ImGuiColorEditFlags_NoAlpha) ? 3 : 4;</div>
<div class="line"><a name="l05285"></a><span class="lineno"> 5285</span>&#160;    <span class="keywordtype">bool</span> alpha_bar = (flags &amp; ImGuiColorEditFlags_AlphaBar) &amp;&amp; !(flags &amp; ImGuiColorEditFlags_NoAlpha);</div>
<div class="line"><a name="l05286"></a><span class="lineno"> 5286</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> picker_pos = window-&gt;DC.CursorPos;</div>
<div class="line"><a name="l05287"></a><span class="lineno"> 5287</span>&#160;    <span class="keywordtype">float</span> square_sz = GetFrameHeight();</div>
<div class="line"><a name="l05288"></a><span class="lineno"> 5288</span>&#160;    <span class="keywordtype">float</span> bars_width = square_sz; <span class="comment">// Arbitrary smallish width of Hue/Alpha picking bars</span></div>
<div class="line"><a name="l05289"></a><span class="lineno"> 5289</span>&#160;    <span class="keywordtype">float</span> sv_picker_size = ImMax(bars_width * 1, width - (alpha_bar ? 2 : 1) * (bars_width + style.ItemInnerSpacing.x)); <span class="comment">// Saturation/Value picking box</span></div>
<div class="line"><a name="l05290"></a><span class="lineno"> 5290</span>&#160;    <span class="keywordtype">float</span> bar0_pos_x = picker_pos.x + sv_picker_size + style.ItemInnerSpacing.x;</div>
<div class="line"><a name="l05291"></a><span class="lineno"> 5291</span>&#160;    <span class="keywordtype">float</span> bar1_pos_x = bar0_pos_x + bars_width + style.ItemInnerSpacing.x;</div>
<div class="line"><a name="l05292"></a><span class="lineno"> 5292</span>&#160;    <span class="keywordtype">float</span> bars_triangles_half_sz = IM_FLOOR(bars_width * 0.20f);</div>
<div class="line"><a name="l05293"></a><span class="lineno"> 5293</span>&#160; </div>
<div class="line"><a name="l05294"></a><span class="lineno"> 5294</span>&#160;    <span class="keywordtype">float</span> backup_initial_col[4];</div>
<div class="line"><a name="l05295"></a><span class="lineno"> 5295</span>&#160;    memcpy(backup_initial_col, col, components * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));</div>
<div class="line"><a name="l05296"></a><span class="lineno"> 5296</span>&#160; </div>
<div class="line"><a name="l05297"></a><span class="lineno"> 5297</span>&#160;    <span class="keywordtype">float</span> wheel_thickness = sv_picker_size * 0.08f;</div>
<div class="line"><a name="l05298"></a><span class="lineno"> 5298</span>&#160;    <span class="keywordtype">float</span> wheel_r_outer = sv_picker_size * 0.50f;</div>
<div class="line"><a name="l05299"></a><span class="lineno"> 5299</span>&#160;    <span class="keywordtype">float</span> wheel_r_inner = wheel_r_outer - wheel_thickness;</div>
<div class="line"><a name="l05300"></a><span class="lineno"> 5300</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> wheel_center(picker_pos.x + (sv_picker_size + bars_width) * 0.5f, picker_pos.y + sv_picker_size * 0.5f);</div>
<div class="line"><a name="l05301"></a><span class="lineno"> 5301</span>&#160; </div>
<div class="line"><a name="l05302"></a><span class="lineno"> 5302</span>&#160;    <span class="comment">// Note: the triangle is displayed rotated with triangle_pa pointing to Hue, but most coordinates stays unrotated for logic.</span></div>
<div class="line"><a name="l05303"></a><span class="lineno"> 5303</span>&#160;    <span class="keywordtype">float</span> triangle_r = wheel_r_inner - (int)(sv_picker_size * 0.027f);</div>
<div class="line"><a name="l05304"></a><span class="lineno"> 5304</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> triangle_pa = <a class="code" href="struct_im_vec2.html">ImVec2</a>(triangle_r, 0.0f); <span class="comment">// Hue point.</span></div>
<div class="line"><a name="l05305"></a><span class="lineno"> 5305</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> triangle_pb = <a class="code" href="struct_im_vec2.html">ImVec2</a>(triangle_r * -0.5f, triangle_r * -0.866025f); <span class="comment">// Black point.</span></div>
<div class="line"><a name="l05306"></a><span class="lineno"> 5306</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> triangle_pc = <a class="code" href="struct_im_vec2.html">ImVec2</a>(triangle_r * -0.5f, triangle_r * +0.866025f); <span class="comment">// White point.</span></div>
<div class="line"><a name="l05307"></a><span class="lineno"> 5307</span>&#160; </div>
<div class="line"><a name="l05308"></a><span class="lineno"> 5308</span>&#160;    <span class="keywordtype">float</span> H = col[0], S = col[1], V = col[2];</div>
<div class="line"><a name="l05309"></a><span class="lineno"> 5309</span>&#160;    <span class="keywordtype">float</span> R = col[0], G = col[1], B = col[2];</div>
<div class="line"><a name="l05310"></a><span class="lineno"> 5310</span>&#160;    <span class="keywordflow">if</span> (flags &amp; ImGuiColorEditFlags_InputRGB)</div>
<div class="line"><a name="l05311"></a><span class="lineno"> 5311</span>&#160;    {</div>
<div class="line"><a name="l05312"></a><span class="lineno"> 5312</span>&#160;        <span class="comment">// Hue is lost when converting from greyscale rgb (saturation=0). Restore it.</span></div>
<div class="line"><a name="l05313"></a><span class="lineno"> 5313</span>&#160;        ColorConvertRGBtoHSV(R, G, B, H, S, V);</div>
<div class="line"><a name="l05314"></a><span class="lineno"> 5314</span>&#160;        <span class="keywordflow">if</span> (memcmp(g.ColorEditLastColor, col, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>) * 3) == 0)</div>
<div class="line"><a name="l05315"></a><span class="lineno"> 5315</span>&#160;        {</div>
<div class="line"><a name="l05316"></a><span class="lineno"> 5316</span>&#160;            <span class="keywordflow">if</span> (S == 0)</div>
<div class="line"><a name="l05317"></a><span class="lineno"> 5317</span>&#160;                H = g.ColorEditLastHue;</div>
<div class="line"><a name="l05318"></a><span class="lineno"> 5318</span>&#160;            <span class="keywordflow">if</span> (V == 0)</div>
<div class="line"><a name="l05319"></a><span class="lineno"> 5319</span>&#160;                S = g.ColorEditLastSat;</div>
<div class="line"><a name="l05320"></a><span class="lineno"> 5320</span>&#160;        }</div>
<div class="line"><a name="l05321"></a><span class="lineno"> 5321</span>&#160;    }</div>
<div class="line"><a name="l05322"></a><span class="lineno"> 5322</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags &amp; ImGuiColorEditFlags_InputHSV)</div>
<div class="line"><a name="l05323"></a><span class="lineno"> 5323</span>&#160;    {</div>
<div class="line"><a name="l05324"></a><span class="lineno"> 5324</span>&#160;        ColorConvertHSVtoRGB(H, S, V, R, G, B);</div>
<div class="line"><a name="l05325"></a><span class="lineno"> 5325</span>&#160;    }</div>
<div class="line"><a name="l05326"></a><span class="lineno"> 5326</span>&#160; </div>
<div class="line"><a name="l05327"></a><span class="lineno"> 5327</span>&#160;    <span class="keywordtype">bool</span> value_changed = <span class="keyword">false</span>, value_changed_h = <span class="keyword">false</span>, value_changed_sv = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05328"></a><span class="lineno"> 5328</span>&#160; </div>
<div class="line"><a name="l05329"></a><span class="lineno"> 5329</span>&#160;    PushItemFlag(ImGuiItemFlags_NoNav, <span class="keyword">true</span>);</div>
<div class="line"><a name="l05330"></a><span class="lineno"> 5330</span>&#160;    <span class="keywordflow">if</span> (flags &amp; ImGuiColorEditFlags_PickerHueWheel)</div>
<div class="line"><a name="l05331"></a><span class="lineno"> 5331</span>&#160;    {</div>
<div class="line"><a name="l05332"></a><span class="lineno"> 5332</span>&#160;        <span class="comment">// Hue wheel + SV triangle logic</span></div>
<div class="line"><a name="l05333"></a><span class="lineno"> 5333</span>&#160;        InvisibleButton(<span class="stringliteral">&quot;hsv&quot;</span>, <a class="code" href="struct_im_vec2.html">ImVec2</a>(sv_picker_size + style.ItemInnerSpacing.x + bars_width, sv_picker_size));</div>
<div class="line"><a name="l05334"></a><span class="lineno"> 5334</span>&#160;        <span class="keywordflow">if</span> (IsItemActive())</div>
<div class="line"><a name="l05335"></a><span class="lineno"> 5335</span>&#160;        {</div>
<div class="line"><a name="l05336"></a><span class="lineno"> 5336</span>&#160;            <a class="code" href="struct_im_vec2.html">ImVec2</a> initial_off = g.IO.MouseClickedPos[0] - wheel_center;</div>
<div class="line"><a name="l05337"></a><span class="lineno"> 5337</span>&#160;            <a class="code" href="struct_im_vec2.html">ImVec2</a> current_off = g.IO.MousePos - wheel_center;</div>
<div class="line"><a name="l05338"></a><span class="lineno"> 5338</span>&#160;            <span class="keywordtype">float</span> initial_dist2 = ImLengthSqr(initial_off);</div>
<div class="line"><a name="l05339"></a><span class="lineno"> 5339</span>&#160;            <span class="keywordflow">if</span> (initial_dist2 &gt;= (wheel_r_inner - 1) * (wheel_r_inner - 1) &amp;&amp; initial_dist2 &lt;= (wheel_r_outer + 1) * (wheel_r_outer + 1))</div>
<div class="line"><a name="l05340"></a><span class="lineno"> 5340</span>&#160;            {</div>
<div class="line"><a name="l05341"></a><span class="lineno"> 5341</span>&#160;                <span class="comment">// Interactive with Hue wheel</span></div>
<div class="line"><a name="l05342"></a><span class="lineno"> 5342</span>&#160;                H = ImAtan2(current_off.y, current_off.x) / IM_PI * 0.5f;</div>
<div class="line"><a name="l05343"></a><span class="lineno"> 5343</span>&#160;                <span class="keywordflow">if</span> (H &lt; 0.0f)</div>
<div class="line"><a name="l05344"></a><span class="lineno"> 5344</span>&#160;                    H += 1.0f;</div>
<div class="line"><a name="l05345"></a><span class="lineno"> 5345</span>&#160;                value_changed = value_changed_h = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05346"></a><span class="lineno"> 5346</span>&#160;            }</div>
<div class="line"><a name="l05347"></a><span class="lineno"> 5347</span>&#160;            <span class="keywordtype">float</span> cos_hue_angle = ImCos(-H * 2.0f * IM_PI);</div>
<div class="line"><a name="l05348"></a><span class="lineno"> 5348</span>&#160;            <span class="keywordtype">float</span> sin_hue_angle = ImSin(-H * 2.0f * IM_PI);</div>
<div class="line"><a name="l05349"></a><span class="lineno"> 5349</span>&#160;            <span class="keywordflow">if</span> (ImTriangleContainsPoint(triangle_pa, triangle_pb, triangle_pc, ImRotate(initial_off, cos_hue_angle, sin_hue_angle)))</div>
<div class="line"><a name="l05350"></a><span class="lineno"> 5350</span>&#160;            {</div>
<div class="line"><a name="l05351"></a><span class="lineno"> 5351</span>&#160;                <span class="comment">// Interacting with SV triangle</span></div>
<div class="line"><a name="l05352"></a><span class="lineno"> 5352</span>&#160;                <a class="code" href="struct_im_vec2.html">ImVec2</a> current_off_unrotated = ImRotate(current_off, cos_hue_angle, sin_hue_angle);</div>
<div class="line"><a name="l05353"></a><span class="lineno"> 5353</span>&#160;                <span class="keywordflow">if</span> (!ImTriangleContainsPoint(triangle_pa, triangle_pb, triangle_pc, current_off_unrotated))</div>
<div class="line"><a name="l05354"></a><span class="lineno"> 5354</span>&#160;                    current_off_unrotated = ImTriangleClosestPoint(triangle_pa, triangle_pb, triangle_pc, current_off_unrotated);</div>
<div class="line"><a name="l05355"></a><span class="lineno"> 5355</span>&#160;                <span class="keywordtype">float</span> uu, vv, ww;</div>
<div class="line"><a name="l05356"></a><span class="lineno"> 5356</span>&#160;                ImTriangleBarycentricCoords(triangle_pa, triangle_pb, triangle_pc, current_off_unrotated, uu, vv, ww);</div>
<div class="line"><a name="l05357"></a><span class="lineno"> 5357</span>&#160;                V = ImClamp(1.0f - vv, 0.0001f, 1.0f);</div>
<div class="line"><a name="l05358"></a><span class="lineno"> 5358</span>&#160;                S = ImClamp(uu / V, 0.0001f, 1.0f);</div>
<div class="line"><a name="l05359"></a><span class="lineno"> 5359</span>&#160;                value_changed = value_changed_sv = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05360"></a><span class="lineno"> 5360</span>&#160;            }</div>
<div class="line"><a name="l05361"></a><span class="lineno"> 5361</span>&#160;        }</div>
<div class="line"><a name="l05362"></a><span class="lineno"> 5362</span>&#160;        <span class="keywordflow">if</span> (!(flags &amp; ImGuiColorEditFlags_NoOptions))</div>
<div class="line"><a name="l05363"></a><span class="lineno"> 5363</span>&#160;            OpenPopupOnItemClick(<span class="stringliteral">&quot;context&quot;</span>);</div>
<div class="line"><a name="l05364"></a><span class="lineno"> 5364</span>&#160;    }</div>
<div class="line"><a name="l05365"></a><span class="lineno"> 5365</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags &amp; ImGuiColorEditFlags_PickerHueBar)</div>
<div class="line"><a name="l05366"></a><span class="lineno"> 5366</span>&#160;    {</div>
<div class="line"><a name="l05367"></a><span class="lineno"> 5367</span>&#160;        <span class="comment">// SV rectangle logic</span></div>
<div class="line"><a name="l05368"></a><span class="lineno"> 5368</span>&#160;        InvisibleButton(<span class="stringliteral">&quot;sv&quot;</span>, <a class="code" href="struct_im_vec2.html">ImVec2</a>(sv_picker_size, sv_picker_size));</div>
<div class="line"><a name="l05369"></a><span class="lineno"> 5369</span>&#160;        <span class="keywordflow">if</span> (IsItemActive())</div>
<div class="line"><a name="l05370"></a><span class="lineno"> 5370</span>&#160;        {</div>
<div class="line"><a name="l05371"></a><span class="lineno"> 5371</span>&#160;            S = ImSaturate((io.MousePos.x - picker_pos.x) / (sv_picker_size - 1));</div>
<div class="line"><a name="l05372"></a><span class="lineno"> 5372</span>&#160;            V = 1.0f - ImSaturate((io.MousePos.y - picker_pos.y) / (sv_picker_size - 1));</div>
<div class="line"><a name="l05373"></a><span class="lineno"> 5373</span>&#160;            value_changed = value_changed_sv = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05374"></a><span class="lineno"> 5374</span>&#160;        }</div>
<div class="line"><a name="l05375"></a><span class="lineno"> 5375</span>&#160;        <span class="keywordflow">if</span> (!(flags &amp; ImGuiColorEditFlags_NoOptions))</div>
<div class="line"><a name="l05376"></a><span class="lineno"> 5376</span>&#160;            OpenPopupOnItemClick(<span class="stringliteral">&quot;context&quot;</span>);</div>
<div class="line"><a name="l05377"></a><span class="lineno"> 5377</span>&#160; </div>
<div class="line"><a name="l05378"></a><span class="lineno"> 5378</span>&#160;        <span class="comment">// Hue bar logic</span></div>
<div class="line"><a name="l05379"></a><span class="lineno"> 5379</span>&#160;        SetCursorScreenPos(<a class="code" href="struct_im_vec2.html">ImVec2</a>(bar0_pos_x, picker_pos.y));</div>
<div class="line"><a name="l05380"></a><span class="lineno"> 5380</span>&#160;        InvisibleButton(<span class="stringliteral">&quot;hue&quot;</span>, <a class="code" href="struct_im_vec2.html">ImVec2</a>(bars_width, sv_picker_size));</div>
<div class="line"><a name="l05381"></a><span class="lineno"> 5381</span>&#160;        <span class="keywordflow">if</span> (IsItemActive())</div>
<div class="line"><a name="l05382"></a><span class="lineno"> 5382</span>&#160;        {</div>
<div class="line"><a name="l05383"></a><span class="lineno"> 5383</span>&#160;            H = ImSaturate((io.MousePos.y - picker_pos.y) / (sv_picker_size - 1));</div>
<div class="line"><a name="l05384"></a><span class="lineno"> 5384</span>&#160;            value_changed = value_changed_h = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05385"></a><span class="lineno"> 5385</span>&#160;        }</div>
<div class="line"><a name="l05386"></a><span class="lineno"> 5386</span>&#160;    }</div>
<div class="line"><a name="l05387"></a><span class="lineno"> 5387</span>&#160; </div>
<div class="line"><a name="l05388"></a><span class="lineno"> 5388</span>&#160;    <span class="comment">// Alpha bar logic</span></div>
<div class="line"><a name="l05389"></a><span class="lineno"> 5389</span>&#160;    <span class="keywordflow">if</span> (alpha_bar)</div>
<div class="line"><a name="l05390"></a><span class="lineno"> 5390</span>&#160;    {</div>
<div class="line"><a name="l05391"></a><span class="lineno"> 5391</span>&#160;        SetCursorScreenPos(<a class="code" href="struct_im_vec2.html">ImVec2</a>(bar1_pos_x, picker_pos.y));</div>
<div class="line"><a name="l05392"></a><span class="lineno"> 5392</span>&#160;        InvisibleButton(<span class="stringliteral">&quot;alpha&quot;</span>, <a class="code" href="struct_im_vec2.html">ImVec2</a>(bars_width, sv_picker_size));</div>
<div class="line"><a name="l05393"></a><span class="lineno"> 5393</span>&#160;        <span class="keywordflow">if</span> (IsItemActive())</div>
<div class="line"><a name="l05394"></a><span class="lineno"> 5394</span>&#160;        {</div>
<div class="line"><a name="l05395"></a><span class="lineno"> 5395</span>&#160;            col[3] = 1.0f - ImSaturate((io.MousePos.y - picker_pos.y) / (sv_picker_size - 1));</div>
<div class="line"><a name="l05396"></a><span class="lineno"> 5396</span>&#160;            value_changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05397"></a><span class="lineno"> 5397</span>&#160;        }</div>
<div class="line"><a name="l05398"></a><span class="lineno"> 5398</span>&#160;    }</div>
<div class="line"><a name="l05399"></a><span class="lineno"> 5399</span>&#160;    PopItemFlag(); <span class="comment">// ImGuiItemFlags_NoNav</span></div>
<div class="line"><a name="l05400"></a><span class="lineno"> 5400</span>&#160; </div>
<div class="line"><a name="l05401"></a><span class="lineno"> 5401</span>&#160;    <span class="keywordflow">if</span> (!(flags &amp; ImGuiColorEditFlags_NoSidePreview))</div>
<div class="line"><a name="l05402"></a><span class="lineno"> 5402</span>&#160;    {</div>
<div class="line"><a name="l05403"></a><span class="lineno"> 5403</span>&#160;        SameLine(0, style.ItemInnerSpacing.x);</div>
<div class="line"><a name="l05404"></a><span class="lineno"> 5404</span>&#160;        BeginGroup();</div>
<div class="line"><a name="l05405"></a><span class="lineno"> 5405</span>&#160;    }</div>
<div class="line"><a name="l05406"></a><span class="lineno"> 5406</span>&#160; </div>
<div class="line"><a name="l05407"></a><span class="lineno"> 5407</span>&#160;    <span class="keywordflow">if</span> (!(flags &amp; ImGuiColorEditFlags_NoLabel))</div>
<div class="line"><a name="l05408"></a><span class="lineno"> 5408</span>&#160;    {</div>
<div class="line"><a name="l05409"></a><span class="lineno"> 5409</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *label_display_end = FindRenderedTextEnd(label);</div>
<div class="line"><a name="l05410"></a><span class="lineno"> 5410</span>&#160;        <span class="keywordflow">if</span> (label != label_display_end)</div>
<div class="line"><a name="l05411"></a><span class="lineno"> 5411</span>&#160;        {</div>
<div class="line"><a name="l05412"></a><span class="lineno"> 5412</span>&#160;            <span class="keywordflow">if</span> ((flags &amp; ImGuiColorEditFlags_NoSidePreview))</div>
<div class="line"><a name="l05413"></a><span class="lineno"> 5413</span>&#160;                SameLine(0, style.ItemInnerSpacing.x);</div>
<div class="line"><a name="l05414"></a><span class="lineno"> 5414</span>&#160;            TextEx(label, label_display_end);</div>
<div class="line"><a name="l05415"></a><span class="lineno"> 5415</span>&#160;        }</div>
<div class="line"><a name="l05416"></a><span class="lineno"> 5416</span>&#160;    }</div>
<div class="line"><a name="l05417"></a><span class="lineno"> 5417</span>&#160; </div>
<div class="line"><a name="l05418"></a><span class="lineno"> 5418</span>&#160;    <span class="keywordflow">if</span> (!(flags &amp; ImGuiColorEditFlags_NoSidePreview))</div>
<div class="line"><a name="l05419"></a><span class="lineno"> 5419</span>&#160;    {</div>
<div class="line"><a name="l05420"></a><span class="lineno"> 5420</span>&#160;        PushItemFlag(ImGuiItemFlags_NoNavDefaultFocus, <span class="keyword">true</span>);</div>
<div class="line"><a name="l05421"></a><span class="lineno"> 5421</span>&#160;        <a class="code" href="struct_im_vec4.html">ImVec4</a> col_v4(col[0], col[1], col[2], (flags &amp; ImGuiColorEditFlags_NoAlpha) ? 1.0f : col[3]);</div>
<div class="line"><a name="l05422"></a><span class="lineno"> 5422</span>&#160;        <span class="keywordflow">if</span> ((flags &amp; ImGuiColorEditFlags_NoLabel))</div>
<div class="line"><a name="l05423"></a><span class="lineno"> 5423</span>&#160;            Text(<span class="stringliteral">&quot;Current&quot;</span>);</div>
<div class="line"><a name="l05424"></a><span class="lineno"> 5424</span>&#160; </div>
<div class="line"><a name="l05425"></a><span class="lineno"> 5425</span>&#160;        ImGuiColorEditFlags sub_flags_to_forward = ImGuiColorEditFlags_InputMask_ | ImGuiColorEditFlags_HDR | ImGuiColorEditFlags_AlphaPreview | ImGuiColorEditFlags_AlphaPreviewHalf | ImGuiColorEditFlags_NoTooltip;</div>
<div class="line"><a name="l05426"></a><span class="lineno"> 5426</span>&#160;        ColorButton(<span class="stringliteral">&quot;##current&quot;</span>, col_v4, (flags &amp; sub_flags_to_forward), <a class="code" href="struct_im_vec2.html">ImVec2</a>(square_sz * 3, square_sz * 2));</div>
<div class="line"><a name="l05427"></a><span class="lineno"> 5427</span>&#160;        <span class="keywordflow">if</span> (ref_col != NULL)</div>
<div class="line"><a name="l05428"></a><span class="lineno"> 5428</span>&#160;        {</div>
<div class="line"><a name="l05429"></a><span class="lineno"> 5429</span>&#160;            Text(<span class="stringliteral">&quot;Original&quot;</span>);</div>
<div class="line"><a name="l05430"></a><span class="lineno"> 5430</span>&#160;            <a class="code" href="struct_im_vec4.html">ImVec4</a> ref_col_v4(ref_col[0], ref_col[1], ref_col[2], (flags &amp; ImGuiColorEditFlags_NoAlpha) ? 1.0f : ref_col[3]);</div>
<div class="line"><a name="l05431"></a><span class="lineno"> 5431</span>&#160;            <span class="keywordflow">if</span> (ColorButton(<span class="stringliteral">&quot;##original&quot;</span>, ref_col_v4, (flags &amp; sub_flags_to_forward), <a class="code" href="struct_im_vec2.html">ImVec2</a>(square_sz * 3, square_sz * 2)))</div>
<div class="line"><a name="l05432"></a><span class="lineno"> 5432</span>&#160;            {</div>
<div class="line"><a name="l05433"></a><span class="lineno"> 5433</span>&#160;                memcpy(col, ref_col, components * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));</div>
<div class="line"><a name="l05434"></a><span class="lineno"> 5434</span>&#160;                value_changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05435"></a><span class="lineno"> 5435</span>&#160;            }</div>
<div class="line"><a name="l05436"></a><span class="lineno"> 5436</span>&#160;        }</div>
<div class="line"><a name="l05437"></a><span class="lineno"> 5437</span>&#160;        PopItemFlag();</div>
<div class="line"><a name="l05438"></a><span class="lineno"> 5438</span>&#160;        EndGroup();</div>
<div class="line"><a name="l05439"></a><span class="lineno"> 5439</span>&#160;    }</div>
<div class="line"><a name="l05440"></a><span class="lineno"> 5440</span>&#160; </div>
<div class="line"><a name="l05441"></a><span class="lineno"> 5441</span>&#160;    <span class="comment">// Convert back color to RGB</span></div>
<div class="line"><a name="l05442"></a><span class="lineno"> 5442</span>&#160;    <span class="keywordflow">if</span> (value_changed_h || value_changed_sv)</div>
<div class="line"><a name="l05443"></a><span class="lineno"> 5443</span>&#160;    {</div>
<div class="line"><a name="l05444"></a><span class="lineno"> 5444</span>&#160;        <span class="keywordflow">if</span> (flags &amp; ImGuiColorEditFlags_InputRGB)</div>
<div class="line"><a name="l05445"></a><span class="lineno"> 5445</span>&#160;        {</div>
<div class="line"><a name="l05446"></a><span class="lineno"> 5446</span>&#160;            ColorConvertHSVtoRGB(H &gt;= 1.0f ? H - 10 * 1e-6f : H, S &gt; 0.0f ? S : 10 * 1e-6f, V &gt; 0.0f ? V : 1e-6f, col[0], col[1], col[2]);</div>
<div class="line"><a name="l05447"></a><span class="lineno"> 5447</span>&#160;            g.ColorEditLastHue = H;</div>
<div class="line"><a name="l05448"></a><span class="lineno"> 5448</span>&#160;            g.ColorEditLastSat = S;</div>
<div class="line"><a name="l05449"></a><span class="lineno"> 5449</span>&#160;            memcpy(g.ColorEditLastColor, col, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>) * 3);</div>
<div class="line"><a name="l05450"></a><span class="lineno"> 5450</span>&#160;        }</div>
<div class="line"><a name="l05451"></a><span class="lineno"> 5451</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags &amp; ImGuiColorEditFlags_InputHSV)</div>
<div class="line"><a name="l05452"></a><span class="lineno"> 5452</span>&#160;        {</div>
<div class="line"><a name="l05453"></a><span class="lineno"> 5453</span>&#160;            col[0] = H;</div>
<div class="line"><a name="l05454"></a><span class="lineno"> 5454</span>&#160;            col[1] = S;</div>
<div class="line"><a name="l05455"></a><span class="lineno"> 5455</span>&#160;            col[2] = V;</div>
<div class="line"><a name="l05456"></a><span class="lineno"> 5456</span>&#160;        }</div>
<div class="line"><a name="l05457"></a><span class="lineno"> 5457</span>&#160;    }</div>
<div class="line"><a name="l05458"></a><span class="lineno"> 5458</span>&#160; </div>
<div class="line"><a name="l05459"></a><span class="lineno"> 5459</span>&#160;    <span class="comment">// R,G,B and H,S,V slider color editor</span></div>
<div class="line"><a name="l05460"></a><span class="lineno"> 5460</span>&#160;    <span class="keywordtype">bool</span> value_changed_fix_hue_wrap = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05461"></a><span class="lineno"> 5461</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; ImGuiColorEditFlags_NoInputs) == 0)</div>
<div class="line"><a name="l05462"></a><span class="lineno"> 5462</span>&#160;    {</div>
<div class="line"><a name="l05463"></a><span class="lineno"> 5463</span>&#160;        PushItemWidth((alpha_bar ? bar1_pos_x : bar0_pos_x) + bars_width - picker_pos.x);</div>
<div class="line"><a name="l05464"></a><span class="lineno"> 5464</span>&#160;        ImGuiColorEditFlags sub_flags_to_forward = ImGuiColorEditFlags_DataTypeMask_ | ImGuiColorEditFlags_InputMask_ | ImGuiColorEditFlags_HDR | ImGuiColorEditFlags_NoAlpha | ImGuiColorEditFlags_NoOptions | ImGuiColorEditFlags_NoSmallPreview | ImGuiColorEditFlags_AlphaPreview | ImGuiColorEditFlags_AlphaPreviewHalf;</div>
<div class="line"><a name="l05465"></a><span class="lineno"> 5465</span>&#160;        ImGuiColorEditFlags sub_flags = (flags &amp; sub_flags_to_forward) | ImGuiColorEditFlags_NoPicker;</div>
<div class="line"><a name="l05466"></a><span class="lineno"> 5466</span>&#160;        <span class="keywordflow">if</span> (flags &amp; ImGuiColorEditFlags_DisplayRGB || (flags &amp; ImGuiColorEditFlags_DisplayMask_) == 0)</div>
<div class="line"><a name="l05467"></a><span class="lineno"> 5467</span>&#160;            <span class="keywordflow">if</span> (ColorEdit4(<span class="stringliteral">&quot;##rgb&quot;</span>, col, sub_flags | ImGuiColorEditFlags_DisplayRGB))</div>
<div class="line"><a name="l05468"></a><span class="lineno"> 5468</span>&#160;            {</div>
<div class="line"><a name="l05469"></a><span class="lineno"> 5469</span>&#160;                <span class="comment">// FIXME: Hackily differentiating using the DragInt (ActiveId != 0 &amp;&amp; !ActiveIdAllowOverlap) vs. using the InputText or DropTarget.</span></div>
<div class="line"><a name="l05470"></a><span class="lineno"> 5470</span>&#160;                <span class="comment">// For the later we don&#39;t want to run the hue-wrap canceling code. If you are well versed in HSV picker please provide your input! (See #2050)</span></div>
<div class="line"><a name="l05471"></a><span class="lineno"> 5471</span>&#160;                value_changed_fix_hue_wrap = (g.ActiveId != 0 &amp;&amp; !g.ActiveIdAllowOverlap);</div>
<div class="line"><a name="l05472"></a><span class="lineno"> 5472</span>&#160;                value_changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05473"></a><span class="lineno"> 5473</span>&#160;            }</div>
<div class="line"><a name="l05474"></a><span class="lineno"> 5474</span>&#160;        <span class="keywordflow">if</span> (flags &amp; ImGuiColorEditFlags_DisplayHSV || (flags &amp; ImGuiColorEditFlags_DisplayMask_) == 0)</div>
<div class="line"><a name="l05475"></a><span class="lineno"> 5475</span>&#160;            value_changed |= ColorEdit4(<span class="stringliteral">&quot;##hsv&quot;</span>, col, sub_flags | ImGuiColorEditFlags_DisplayHSV);</div>
<div class="line"><a name="l05476"></a><span class="lineno"> 5476</span>&#160;        <span class="keywordflow">if</span> (flags &amp; ImGuiColorEditFlags_DisplayHex || (flags &amp; ImGuiColorEditFlags_DisplayMask_) == 0)</div>
<div class="line"><a name="l05477"></a><span class="lineno"> 5477</span>&#160;            value_changed |= ColorEdit4(<span class="stringliteral">&quot;##hex&quot;</span>, col, sub_flags | ImGuiColorEditFlags_DisplayHex);</div>
<div class="line"><a name="l05478"></a><span class="lineno"> 5478</span>&#160;        PopItemWidth();</div>
<div class="line"><a name="l05479"></a><span class="lineno"> 5479</span>&#160;    }</div>
<div class="line"><a name="l05480"></a><span class="lineno"> 5480</span>&#160; </div>
<div class="line"><a name="l05481"></a><span class="lineno"> 5481</span>&#160;    <span class="comment">// Try to cancel hue wrap (after ColorEdit4 call), if any</span></div>
<div class="line"><a name="l05482"></a><span class="lineno"> 5482</span>&#160;    <span class="keywordflow">if</span> (value_changed_fix_hue_wrap &amp;&amp; (flags &amp; ImGuiColorEditFlags_InputRGB))</div>
<div class="line"><a name="l05483"></a><span class="lineno"> 5483</span>&#160;    {</div>
<div class="line"><a name="l05484"></a><span class="lineno"> 5484</span>&#160;        <span class="keywordtype">float</span> new_H, new_S, new_V;</div>
<div class="line"><a name="l05485"></a><span class="lineno"> 5485</span>&#160;        ColorConvertRGBtoHSV(col[0], col[1], col[2], new_H, new_S, new_V);</div>
<div class="line"><a name="l05486"></a><span class="lineno"> 5486</span>&#160;        <span class="keywordflow">if</span> (new_H &lt;= 0 &amp;&amp; H &gt; 0)</div>
<div class="line"><a name="l05487"></a><span class="lineno"> 5487</span>&#160;        {</div>
<div class="line"><a name="l05488"></a><span class="lineno"> 5488</span>&#160;            <span class="keywordflow">if</span> (new_V &lt;= 0 &amp;&amp; V != new_V)</div>
<div class="line"><a name="l05489"></a><span class="lineno"> 5489</span>&#160;                ColorConvertHSVtoRGB(H, S, new_V &lt;= 0 ? V * 0.5f : new_V, col[0], col[1], col[2]);</div>
<div class="line"><a name="l05490"></a><span class="lineno"> 5490</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (new_S &lt;= 0)</div>
<div class="line"><a name="l05491"></a><span class="lineno"> 5491</span>&#160;                ColorConvertHSVtoRGB(H, new_S &lt;= 0 ? S * 0.5f : new_S, new_V, col[0], col[1], col[2]);</div>
<div class="line"><a name="l05492"></a><span class="lineno"> 5492</span>&#160;        }</div>
<div class="line"><a name="l05493"></a><span class="lineno"> 5493</span>&#160;    }</div>
<div class="line"><a name="l05494"></a><span class="lineno"> 5494</span>&#160; </div>
<div class="line"><a name="l05495"></a><span class="lineno"> 5495</span>&#160;    <span class="keywordflow">if</span> (value_changed)</div>
<div class="line"><a name="l05496"></a><span class="lineno"> 5496</span>&#160;    {</div>
<div class="line"><a name="l05497"></a><span class="lineno"> 5497</span>&#160;        <span class="keywordflow">if</span> (flags &amp; ImGuiColorEditFlags_InputRGB)</div>
<div class="line"><a name="l05498"></a><span class="lineno"> 5498</span>&#160;        {</div>
<div class="line"><a name="l05499"></a><span class="lineno"> 5499</span>&#160;            R = col[0];</div>
<div class="line"><a name="l05500"></a><span class="lineno"> 5500</span>&#160;            G = col[1];</div>
<div class="line"><a name="l05501"></a><span class="lineno"> 5501</span>&#160;            B = col[2];</div>
<div class="line"><a name="l05502"></a><span class="lineno"> 5502</span>&#160;            ColorConvertRGBtoHSV(R, G, B, H, S, V);</div>
<div class="line"><a name="l05503"></a><span class="lineno"> 5503</span>&#160;            <span class="keywordflow">if</span> (memcmp(g.ColorEditLastColor, col, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>) * 3) == 0) <span class="comment">// Fix local Hue as display below will use it immediately.</span></div>
<div class="line"><a name="l05504"></a><span class="lineno"> 5504</span>&#160;            {</div>
<div class="line"><a name="l05505"></a><span class="lineno"> 5505</span>&#160;                <span class="keywordflow">if</span> (S == 0)</div>
<div class="line"><a name="l05506"></a><span class="lineno"> 5506</span>&#160;                    H = g.ColorEditLastHue;</div>
<div class="line"><a name="l05507"></a><span class="lineno"> 5507</span>&#160;                <span class="keywordflow">if</span> (V == 0)</div>
<div class="line"><a name="l05508"></a><span class="lineno"> 5508</span>&#160;                    S = g.ColorEditLastSat;</div>
<div class="line"><a name="l05509"></a><span class="lineno"> 5509</span>&#160;            }</div>
<div class="line"><a name="l05510"></a><span class="lineno"> 5510</span>&#160;        }</div>
<div class="line"><a name="l05511"></a><span class="lineno"> 5511</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags &amp; ImGuiColorEditFlags_InputHSV)</div>
<div class="line"><a name="l05512"></a><span class="lineno"> 5512</span>&#160;        {</div>
<div class="line"><a name="l05513"></a><span class="lineno"> 5513</span>&#160;            H = col[0];</div>
<div class="line"><a name="l05514"></a><span class="lineno"> 5514</span>&#160;            S = col[1];</div>
<div class="line"><a name="l05515"></a><span class="lineno"> 5515</span>&#160;            V = col[2];</div>
<div class="line"><a name="l05516"></a><span class="lineno"> 5516</span>&#160;            ColorConvertHSVtoRGB(H, S, V, R, G, B);</div>
<div class="line"><a name="l05517"></a><span class="lineno"> 5517</span>&#160;        }</div>
<div class="line"><a name="l05518"></a><span class="lineno"> 5518</span>&#160;    }</div>
<div class="line"><a name="l05519"></a><span class="lineno"> 5519</span>&#160; </div>
<div class="line"><a name="l05520"></a><span class="lineno"> 5520</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> style_alpha8 = IM_F32_TO_INT8_SAT(style.Alpha);</div>
<div class="line"><a name="l05521"></a><span class="lineno"> 5521</span>&#160;    <span class="keyword">const</span> ImU32 col_black = IM_COL32(0, 0, 0, style_alpha8);</div>
<div class="line"><a name="l05522"></a><span class="lineno"> 5522</span>&#160;    <span class="keyword">const</span> ImU32 col_white = IM_COL32(255, 255, 255, style_alpha8);</div>
<div class="line"><a name="l05523"></a><span class="lineno"> 5523</span>&#160;    <span class="keyword">const</span> ImU32 col_midgrey = IM_COL32(128, 128, 128, style_alpha8);</div>
<div class="line"><a name="l05524"></a><span class="lineno"> 5524</span>&#160;    <span class="keyword">const</span> ImU32 col_hues[6 + 1] = { IM_COL32(255,0,0,style_alpha8), IM_COL32(255,255,0,style_alpha8), IM_COL32(0,255,0,style_alpha8), IM_COL32(0,255,255,style_alpha8), IM_COL32(0,0,255,style_alpha8), IM_COL32(255,0,255,style_alpha8), IM_COL32(255,0,0,style_alpha8) };</div>
<div class="line"><a name="l05525"></a><span class="lineno"> 5525</span>&#160; </div>
<div class="line"><a name="l05526"></a><span class="lineno"> 5526</span>&#160;    <a class="code" href="struct_im_vec4.html">ImVec4</a> hue_color_f(1, 1, 1, style.Alpha); ColorConvertHSVtoRGB(H, 1, 1, hue_color_f.x, hue_color_f.y, hue_color_f.z);</div>
<div class="line"><a name="l05527"></a><span class="lineno"> 5527</span>&#160;    ImU32 hue_color32 = ColorConvertFloat4ToU32(hue_color_f);</div>
<div class="line"><a name="l05528"></a><span class="lineno"> 5528</span>&#160;    ImU32 user_col32_striped_of_alpha = ColorConvertFloat4ToU32(<a class="code" href="struct_im_vec4.html">ImVec4</a>(R, G, B, style.Alpha)); <span class="comment">// Important: this is still including the main rendering/style alpha!!</span></div>
<div class="line"><a name="l05529"></a><span class="lineno"> 5529</span>&#160; </div>
<div class="line"><a name="l05530"></a><span class="lineno"> 5530</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> sv_cursor_pos;</div>
<div class="line"><a name="l05531"></a><span class="lineno"> 5531</span>&#160; </div>
<div class="line"><a name="l05532"></a><span class="lineno"> 5532</span>&#160;    <span class="keywordflow">if</span> (flags &amp; ImGuiColorEditFlags_PickerHueWheel)</div>
<div class="line"><a name="l05533"></a><span class="lineno"> 5533</span>&#160;    {</div>
<div class="line"><a name="l05534"></a><span class="lineno"> 5534</span>&#160;        <span class="comment">// Render Hue Wheel</span></div>
<div class="line"><a name="l05535"></a><span class="lineno"> 5535</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> aeps = 0.5f / wheel_r_outer; <span class="comment">// Half a pixel arc length in radians (2pi cancels out).</span></div>
<div class="line"><a name="l05536"></a><span class="lineno"> 5536</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> segment_per_arc = ImMax(4, (<span class="keywordtype">int</span>)wheel_r_outer / 12);</div>
<div class="line"><a name="l05537"></a><span class="lineno"> 5537</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; 6; n++)</div>
<div class="line"><a name="l05538"></a><span class="lineno"> 5538</span>&#160;        {</div>
<div class="line"><a name="l05539"></a><span class="lineno"> 5539</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">float</span> a0 = (n) / 6.0f * 2.0f * IM_PI - aeps;</div>
<div class="line"><a name="l05540"></a><span class="lineno"> 5540</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">float</span> a1 = (n + 1.0f) / 6.0f * 2.0f * IM_PI + aeps;</div>
<div class="line"><a name="l05541"></a><span class="lineno"> 5541</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> vert_start_idx = draw_list-&gt;VtxBuffer.Size;</div>
<div class="line"><a name="l05542"></a><span class="lineno"> 5542</span>&#160;            draw_list-&gt;PathArcTo(wheel_center, (wheel_r_inner + wheel_r_outer) * 0.5f, a0, a1, segment_per_arc);</div>
<div class="line"><a name="l05543"></a><span class="lineno"> 5543</span>&#160;            draw_list-&gt;PathStroke(col_white, 0, wheel_thickness);</div>
<div class="line"><a name="l05544"></a><span class="lineno"> 5544</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> vert_end_idx = draw_list-&gt;VtxBuffer.Size;</div>
<div class="line"><a name="l05545"></a><span class="lineno"> 5545</span>&#160; </div>
<div class="line"><a name="l05546"></a><span class="lineno"> 5546</span>&#160;            <span class="comment">// Paint colors over existing vertices</span></div>
<div class="line"><a name="l05547"></a><span class="lineno"> 5547</span>&#160;            <a class="code" href="struct_im_vec2.html">ImVec2</a> gradient_p0(wheel_center.x + ImCos(a0) * wheel_r_inner, wheel_center.y + ImSin(a0) * wheel_r_inner);</div>
<div class="line"><a name="l05548"></a><span class="lineno"> 5548</span>&#160;            <a class="code" href="struct_im_vec2.html">ImVec2</a> gradient_p1(wheel_center.x + ImCos(a1) * wheel_r_inner, wheel_center.y + ImSin(a1) * wheel_r_inner);</div>
<div class="line"><a name="l05549"></a><span class="lineno"> 5549</span>&#160;            ShadeVertsLinearColorGradientKeepAlpha(draw_list, vert_start_idx, vert_end_idx, gradient_p0, gradient_p1, col_hues[n], col_hues[n + 1]);</div>
<div class="line"><a name="l05550"></a><span class="lineno"> 5550</span>&#160;        }</div>
<div class="line"><a name="l05551"></a><span class="lineno"> 5551</span>&#160; </div>
<div class="line"><a name="l05552"></a><span class="lineno"> 5552</span>&#160;        <span class="comment">// Render Cursor + preview on Hue Wheel</span></div>
<div class="line"><a name="l05553"></a><span class="lineno"> 5553</span>&#160;        <span class="keywordtype">float</span> cos_hue_angle = ImCos(H * 2.0f * IM_PI);</div>
<div class="line"><a name="l05554"></a><span class="lineno"> 5554</span>&#160;        <span class="keywordtype">float</span> sin_hue_angle = ImSin(H * 2.0f * IM_PI);</div>
<div class="line"><a name="l05555"></a><span class="lineno"> 5555</span>&#160;        <a class="code" href="struct_im_vec2.html">ImVec2</a> hue_cursor_pos(wheel_center.x + cos_hue_angle * (wheel_r_inner + wheel_r_outer) * 0.5f, wheel_center.y + sin_hue_angle * (wheel_r_inner + wheel_r_outer) * 0.5f);</div>
<div class="line"><a name="l05556"></a><span class="lineno"> 5556</span>&#160;        <span class="keywordtype">float</span> hue_cursor_rad = value_changed_h ? wheel_thickness * 0.65f : wheel_thickness * 0.55f;</div>
<div class="line"><a name="l05557"></a><span class="lineno"> 5557</span>&#160;        <span class="keywordtype">int</span> hue_cursor_segments = ImClamp((<span class="keywordtype">int</span>)(hue_cursor_rad / 1.4f), 9, 32);</div>
<div class="line"><a name="l05558"></a><span class="lineno"> 5558</span>&#160;        draw_list-&gt;AddCircleFilled(hue_cursor_pos, hue_cursor_rad, hue_color32, hue_cursor_segments);</div>
<div class="line"><a name="l05559"></a><span class="lineno"> 5559</span>&#160;        draw_list-&gt;AddCircle(hue_cursor_pos, hue_cursor_rad + 1, col_midgrey, hue_cursor_segments);</div>
<div class="line"><a name="l05560"></a><span class="lineno"> 5560</span>&#160;        draw_list-&gt;AddCircle(hue_cursor_pos, hue_cursor_rad, col_white, hue_cursor_segments);</div>
<div class="line"><a name="l05561"></a><span class="lineno"> 5561</span>&#160; </div>
<div class="line"><a name="l05562"></a><span class="lineno"> 5562</span>&#160;        <span class="comment">// Render SV triangle (rotated according to hue)</span></div>
<div class="line"><a name="l05563"></a><span class="lineno"> 5563</span>&#160;        <a class="code" href="struct_im_vec2.html">ImVec2</a> tra = wheel_center + ImRotate(triangle_pa, cos_hue_angle, sin_hue_angle);</div>
<div class="line"><a name="l05564"></a><span class="lineno"> 5564</span>&#160;        <a class="code" href="struct_im_vec2.html">ImVec2</a> trb = wheel_center + ImRotate(triangle_pb, cos_hue_angle, sin_hue_angle);</div>
<div class="line"><a name="l05565"></a><span class="lineno"> 5565</span>&#160;        <a class="code" href="struct_im_vec2.html">ImVec2</a> trc = wheel_center + ImRotate(triangle_pc, cos_hue_angle, sin_hue_angle);</div>
<div class="line"><a name="l05566"></a><span class="lineno"> 5566</span>&#160;        <a class="code" href="struct_im_vec2.html">ImVec2</a> uv_white = GetFontTexUvWhitePixel();</div>
<div class="line"><a name="l05567"></a><span class="lineno"> 5567</span>&#160;        draw_list-&gt;PrimReserve(6, 6);</div>
<div class="line"><a name="l05568"></a><span class="lineno"> 5568</span>&#160;        draw_list-&gt;PrimVtx(tra, uv_white, hue_color32);</div>
<div class="line"><a name="l05569"></a><span class="lineno"> 5569</span>&#160;        draw_list-&gt;PrimVtx(trb, uv_white, hue_color32);</div>
<div class="line"><a name="l05570"></a><span class="lineno"> 5570</span>&#160;        draw_list-&gt;PrimVtx(trc, uv_white, col_white);</div>
<div class="line"><a name="l05571"></a><span class="lineno"> 5571</span>&#160;        draw_list-&gt;PrimVtx(tra, uv_white, 0);</div>
<div class="line"><a name="l05572"></a><span class="lineno"> 5572</span>&#160;        draw_list-&gt;PrimVtx(trb, uv_white, col_black);</div>
<div class="line"><a name="l05573"></a><span class="lineno"> 5573</span>&#160;        draw_list-&gt;PrimVtx(trc, uv_white, 0);</div>
<div class="line"><a name="l05574"></a><span class="lineno"> 5574</span>&#160;        draw_list-&gt;AddTriangle(tra, trb, trc, col_midgrey, 1.5f);</div>
<div class="line"><a name="l05575"></a><span class="lineno"> 5575</span>&#160;        sv_cursor_pos = ImLerp(ImLerp(trc, tra, ImSaturate(S)), trb, ImSaturate(1 - V));</div>
<div class="line"><a name="l05576"></a><span class="lineno"> 5576</span>&#160;    }</div>
<div class="line"><a name="l05577"></a><span class="lineno"> 5577</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags &amp; ImGuiColorEditFlags_PickerHueBar)</div>
<div class="line"><a name="l05578"></a><span class="lineno"> 5578</span>&#160;    {</div>
<div class="line"><a name="l05579"></a><span class="lineno"> 5579</span>&#160;        <span class="comment">// Render SV Square</span></div>
<div class="line"><a name="l05580"></a><span class="lineno"> 5580</span>&#160;        draw_list-&gt;AddRectFilledMultiColor(picker_pos, picker_pos + <a class="code" href="struct_im_vec2.html">ImVec2</a>(sv_picker_size, sv_picker_size), col_white, hue_color32, hue_color32, col_white);</div>
<div class="line"><a name="l05581"></a><span class="lineno"> 5581</span>&#160;        draw_list-&gt;AddRectFilledMultiColor(picker_pos, picker_pos + <a class="code" href="struct_im_vec2.html">ImVec2</a>(sv_picker_size, sv_picker_size), 0, 0, col_black, col_black);</div>
<div class="line"><a name="l05582"></a><span class="lineno"> 5582</span>&#160;        RenderFrameBorder(picker_pos, picker_pos + <a class="code" href="struct_im_vec2.html">ImVec2</a>(sv_picker_size, sv_picker_size), 0.0f);</div>
<div class="line"><a name="l05583"></a><span class="lineno"> 5583</span>&#160;        sv_cursor_pos.x = ImClamp(IM_ROUND(picker_pos.x + ImSaturate(S) * sv_picker_size), picker_pos.x + 2, picker_pos.x + sv_picker_size - 2); <span class="comment">// Sneakily prevent the circle to stick out too much</span></div>
<div class="line"><a name="l05584"></a><span class="lineno"> 5584</span>&#160;        sv_cursor_pos.y = ImClamp(IM_ROUND(picker_pos.y + ImSaturate(1 - V) * sv_picker_size), picker_pos.y + 2, picker_pos.y + sv_picker_size - 2);</div>
<div class="line"><a name="l05585"></a><span class="lineno"> 5585</span>&#160; </div>
<div class="line"><a name="l05586"></a><span class="lineno"> 5586</span>&#160;        <span class="comment">// Render Hue Bar</span></div>
<div class="line"><a name="l05587"></a><span class="lineno"> 5587</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 6; ++i)</div>
<div class="line"><a name="l05588"></a><span class="lineno"> 5588</span>&#160;            draw_list-&gt;AddRectFilledMultiColor(<a class="code" href="struct_im_vec2.html">ImVec2</a>(bar0_pos_x, picker_pos.y + i * (sv_picker_size / 6)), <a class="code" href="struct_im_vec2.html">ImVec2</a>(bar0_pos_x + bars_width, picker_pos.y + (i + 1) * (sv_picker_size / 6)), col_hues[i], col_hues[i], col_hues[i + 1], col_hues[i + 1]);</div>
<div class="line"><a name="l05589"></a><span class="lineno"> 5589</span>&#160;        <span class="keywordtype">float</span> bar0_line_y = IM_ROUND(picker_pos.y + H * sv_picker_size);</div>
<div class="line"><a name="l05590"></a><span class="lineno"> 5590</span>&#160;        RenderFrameBorder(<a class="code" href="struct_im_vec2.html">ImVec2</a>(bar0_pos_x, picker_pos.y), <a class="code" href="struct_im_vec2.html">ImVec2</a>(bar0_pos_x + bars_width, picker_pos.y + sv_picker_size), 0.0f);</div>
<div class="line"><a name="l05591"></a><span class="lineno"> 5591</span>&#160;        RenderArrowsForVerticalBar(draw_list, <a class="code" href="struct_im_vec2.html">ImVec2</a>(bar0_pos_x - 1, bar0_line_y), <a class="code" href="struct_im_vec2.html">ImVec2</a>(bars_triangles_half_sz + 1, bars_triangles_half_sz), bars_width + 2.0f, style.Alpha);</div>
<div class="line"><a name="l05592"></a><span class="lineno"> 5592</span>&#160;    }</div>
<div class="line"><a name="l05593"></a><span class="lineno"> 5593</span>&#160; </div>
<div class="line"><a name="l05594"></a><span class="lineno"> 5594</span>&#160;    <span class="comment">// Render cursor/preview circle (clamp S/V within 0..1 range because floating points colors may lead HSV values to be out of range)</span></div>
<div class="line"><a name="l05595"></a><span class="lineno"> 5595</span>&#160;    <span class="keywordtype">float</span> sv_cursor_rad = value_changed_sv ? 10.0f : 6.0f;</div>
<div class="line"><a name="l05596"></a><span class="lineno"> 5596</span>&#160;    draw_list-&gt;AddCircleFilled(sv_cursor_pos, sv_cursor_rad, user_col32_striped_of_alpha, 12);</div>
<div class="line"><a name="l05597"></a><span class="lineno"> 5597</span>&#160;    draw_list-&gt;AddCircle(sv_cursor_pos, sv_cursor_rad + 1, col_midgrey, 12);</div>
<div class="line"><a name="l05598"></a><span class="lineno"> 5598</span>&#160;    draw_list-&gt;AddCircle(sv_cursor_pos, sv_cursor_rad, col_white, 12);</div>
<div class="line"><a name="l05599"></a><span class="lineno"> 5599</span>&#160; </div>
<div class="line"><a name="l05600"></a><span class="lineno"> 5600</span>&#160;    <span class="comment">// Render alpha bar</span></div>
<div class="line"><a name="l05601"></a><span class="lineno"> 5601</span>&#160;    <span class="keywordflow">if</span> (alpha_bar)</div>
<div class="line"><a name="l05602"></a><span class="lineno"> 5602</span>&#160;    {</div>
<div class="line"><a name="l05603"></a><span class="lineno"> 5603</span>&#160;        <span class="keywordtype">float</span> alpha = ImSaturate(col[3]);</div>
<div class="line"><a name="l05604"></a><span class="lineno"> 5604</span>&#160;        <a class="code" href="struct_im_rect.html">ImRect</a> bar1_bb(bar1_pos_x, picker_pos.y, bar1_pos_x + bars_width, picker_pos.y + sv_picker_size);</div>
<div class="line"><a name="l05605"></a><span class="lineno"> 5605</span>&#160;        RenderColorRectWithAlphaCheckerboard(draw_list, bar1_bb.Min, bar1_bb.Max, 0, bar1_bb.GetWidth() / 2.0f, <a class="code" href="struct_im_vec2.html">ImVec2</a>(0.0f, 0.0f));</div>
<div class="line"><a name="l05606"></a><span class="lineno"> 5606</span>&#160;        draw_list-&gt;AddRectFilledMultiColor(bar1_bb.Min, bar1_bb.Max, user_col32_striped_of_alpha, user_col32_striped_of_alpha, user_col32_striped_of_alpha &amp; ~IM_COL32_A_MASK, user_col32_striped_of_alpha &amp; ~IM_COL32_A_MASK);</div>
<div class="line"><a name="l05607"></a><span class="lineno"> 5607</span>&#160;        <span class="keywordtype">float</span> bar1_line_y = IM_ROUND(picker_pos.y + (1.0f - alpha) * sv_picker_size);</div>
<div class="line"><a name="l05608"></a><span class="lineno"> 5608</span>&#160;        RenderFrameBorder(bar1_bb.Min, bar1_bb.Max, 0.0f);</div>
<div class="line"><a name="l05609"></a><span class="lineno"> 5609</span>&#160;        RenderArrowsForVerticalBar(draw_list, <a class="code" href="struct_im_vec2.html">ImVec2</a>(bar1_pos_x - 1, bar1_line_y), <a class="code" href="struct_im_vec2.html">ImVec2</a>(bars_triangles_half_sz + 1, bars_triangles_half_sz), bars_width + 2.0f, style.Alpha);</div>
<div class="line"><a name="l05610"></a><span class="lineno"> 5610</span>&#160;    }</div>
<div class="line"><a name="l05611"></a><span class="lineno"> 5611</span>&#160; </div>
<div class="line"><a name="l05612"></a><span class="lineno"> 5612</span>&#160;    EndGroup();</div>
<div class="line"><a name="l05613"></a><span class="lineno"> 5613</span>&#160; </div>
<div class="line"><a name="l05614"></a><span class="lineno"> 5614</span>&#160;    <span class="keywordflow">if</span> (value_changed &amp;&amp; memcmp(backup_initial_col, col, components * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>)) == 0)</div>
<div class="line"><a name="l05615"></a><span class="lineno"> 5615</span>&#160;        value_changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05616"></a><span class="lineno"> 5616</span>&#160;    <span class="keywordflow">if</span> (value_changed)</div>
<div class="line"><a name="l05617"></a><span class="lineno"> 5617</span>&#160;        MarkItemEdited(g.LastItemData.ID);</div>
<div class="line"><a name="l05618"></a><span class="lineno"> 5618</span>&#160; </div>
<div class="line"><a name="l05619"></a><span class="lineno"> 5619</span>&#160;    PopID();</div>
<div class="line"><a name="l05620"></a><span class="lineno"> 5620</span>&#160; </div>
<div class="line"><a name="l05621"></a><span class="lineno"> 5621</span>&#160;    <span class="keywordflow">return</span> value_changed;</div>
<div class="line"><a name="l05622"></a><span class="lineno"> 5622</span>&#160;}</div>
<div class="line"><a name="l05623"></a><span class="lineno"> 5623</span>&#160; </div>
<div class="line"><a name="l05624"></a><span class="lineno"> 5624</span>&#160;<span class="comment">// A little color square. Return true when clicked.</span></div>
<div class="line"><a name="l05625"></a><span class="lineno"> 5625</span>&#160;<span class="comment">// FIXME: May want to display/ignore the alpha component in the color display? Yet show it in the tooltip.</span></div>
<div class="line"><a name="l05626"></a><span class="lineno"> 5626</span>&#160;<span class="comment">// &#39;desc_id&#39; is not called &#39;label&#39; because we don&#39;t display it next to the button, but only in the tooltip.</span></div>
<div class="line"><a name="l05627"></a><span class="lineno"> 5627</span>&#160;<span class="comment">// Note that &#39;col&#39; may be encoded in HSV if ImGuiColorEditFlags_InputHSV is set.</span></div>
<div class="line"><a name="l05628"></a><span class="lineno"> 5628</span>&#160;<span class="keywordtype">bool</span> ImGui::ColorButton(<span class="keyword">const</span> <span class="keywordtype">char</span> *desc_id, <span class="keyword">const</span> <a class="code" href="struct_im_vec4.html">ImVec4</a> &amp;col, ImGuiColorEditFlags flags, <a class="code" href="struct_im_vec2.html">ImVec2</a> size)</div>
<div class="line"><a name="l05629"></a><span class="lineno"> 5629</span>&#160;{</div>
<div class="line"><a name="l05630"></a><span class="lineno"> 5630</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l05631"></a><span class="lineno"> 5631</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l05632"></a><span class="lineno"> 5632</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05633"></a><span class="lineno"> 5633</span>&#160; </div>
<div class="line"><a name="l05634"></a><span class="lineno"> 5634</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l05635"></a><span class="lineno"> 5635</span>&#160;    <span class="keyword">const</span> ImGuiID <span class="keywordtype">id</span> = window-&gt;GetID(desc_id);</div>
<div class="line"><a name="l05636"></a><span class="lineno"> 5636</span>&#160;    <span class="keywordtype">float</span> default_size = GetFrameHeight();</div>
<div class="line"><a name="l05637"></a><span class="lineno"> 5637</span>&#160;    <span class="keywordflow">if</span> (size.x == 0.0f)</div>
<div class="line"><a name="l05638"></a><span class="lineno"> 5638</span>&#160;        size.x = default_size;</div>
<div class="line"><a name="l05639"></a><span class="lineno"> 5639</span>&#160;    <span class="keywordflow">if</span> (size.y == 0.0f)</div>
<div class="line"><a name="l05640"></a><span class="lineno"> 5640</span>&#160;        size.y = default_size;</div>
<div class="line"><a name="l05641"></a><span class="lineno"> 5641</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> bb(window-&gt;DC.CursorPos, window-&gt;DC.CursorPos + size);</div>
<div class="line"><a name="l05642"></a><span class="lineno"> 5642</span>&#160;    ItemSize(bb, (size.y &gt;= default_size) ? g.Style.FramePadding.y : 0.0f);</div>
<div class="line"><a name="l05643"></a><span class="lineno"> 5643</span>&#160;    <span class="keywordflow">if</span> (!ItemAdd(bb, <span class="keywordtype">id</span>))</div>
<div class="line"><a name="l05644"></a><span class="lineno"> 5644</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05645"></a><span class="lineno"> 5645</span>&#160; </div>
<div class="line"><a name="l05646"></a><span class="lineno"> 5646</span>&#160;    <span class="keywordtype">bool</span> hovered, held;</div>
<div class="line"><a name="l05647"></a><span class="lineno"> 5647</span>&#160;    <span class="keywordtype">bool</span> pressed = ButtonBehavior(bb, <span class="keywordtype">id</span>, &amp;hovered, &amp;held);</div>
<div class="line"><a name="l05648"></a><span class="lineno"> 5648</span>&#160; </div>
<div class="line"><a name="l05649"></a><span class="lineno"> 5649</span>&#160;    <span class="keywordflow">if</span> (flags &amp; ImGuiColorEditFlags_NoAlpha)</div>
<div class="line"><a name="l05650"></a><span class="lineno"> 5650</span>&#160;        flags &amp;= ~(ImGuiColorEditFlags_AlphaPreview | ImGuiColorEditFlags_AlphaPreviewHalf);</div>
<div class="line"><a name="l05651"></a><span class="lineno"> 5651</span>&#160; </div>
<div class="line"><a name="l05652"></a><span class="lineno"> 5652</span>&#160;    <a class="code" href="struct_im_vec4.html">ImVec4</a> col_rgb = col;</div>
<div class="line"><a name="l05653"></a><span class="lineno"> 5653</span>&#160;    <span class="keywordflow">if</span> (flags &amp; ImGuiColorEditFlags_InputHSV)</div>
<div class="line"><a name="l05654"></a><span class="lineno"> 5654</span>&#160;        ColorConvertHSVtoRGB(col_rgb.x, col_rgb.y, col_rgb.z, col_rgb.x, col_rgb.y, col_rgb.z);</div>
<div class="line"><a name="l05655"></a><span class="lineno"> 5655</span>&#160; </div>
<div class="line"><a name="l05656"></a><span class="lineno"> 5656</span>&#160;    <a class="code" href="struct_im_vec4.html">ImVec4</a> col_rgb_without_alpha(col_rgb.x, col_rgb.y, col_rgb.z, 1.0f);</div>
<div class="line"><a name="l05657"></a><span class="lineno"> 5657</span>&#160;    <span class="keywordtype">float</span> grid_step = ImMin(size.x, size.y) / 2.99f;</div>
<div class="line"><a name="l05658"></a><span class="lineno"> 5658</span>&#160;    <span class="keywordtype">float</span> rounding = ImMin(g.Style.FrameRounding, grid_step * 0.5f);</div>
<div class="line"><a name="l05659"></a><span class="lineno"> 5659</span>&#160;    <a class="code" href="struct_im_rect.html">ImRect</a> bb_inner = bb;</div>
<div class="line"><a name="l05660"></a><span class="lineno"> 5660</span>&#160;    <span class="keywordtype">float</span> off = 0.0f;</div>
<div class="line"><a name="l05661"></a><span class="lineno"> 5661</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; ImGuiColorEditFlags_NoBorder) == 0)</div>
<div class="line"><a name="l05662"></a><span class="lineno"> 5662</span>&#160;    {</div>
<div class="line"><a name="l05663"></a><span class="lineno"> 5663</span>&#160;        off = -0.75f; <span class="comment">// The border (using Col_FrameBg) tends to look off when color is near-opaque and rounding is enabled. This offset seemed like a good middle ground to reduce those artifacts.</span></div>
<div class="line"><a name="l05664"></a><span class="lineno"> 5664</span>&#160;        bb_inner.Expand(off);</div>
<div class="line"><a name="l05665"></a><span class="lineno"> 5665</span>&#160;    }</div>
<div class="line"><a name="l05666"></a><span class="lineno"> 5666</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; ImGuiColorEditFlags_AlphaPreviewHalf) &amp;&amp; col_rgb.w &lt; 1.0f)</div>
<div class="line"><a name="l05667"></a><span class="lineno"> 5667</span>&#160;    {</div>
<div class="line"><a name="l05668"></a><span class="lineno"> 5668</span>&#160;        <span class="keywordtype">float</span> mid_x = IM_ROUND((bb_inner.Min.x + bb_inner.Max.x) * 0.5f);</div>
<div class="line"><a name="l05669"></a><span class="lineno"> 5669</span>&#160;        RenderColorRectWithAlphaCheckerboard(window-&gt;DrawList, <a class="code" href="struct_im_vec2.html">ImVec2</a>(bb_inner.Min.x + grid_step, bb_inner.Min.y), bb_inner.Max, GetColorU32(col_rgb), grid_step, <a class="code" href="struct_im_vec2.html">ImVec2</a>(-grid_step + off, off), rounding, ImDrawFlags_RoundCornersRight);</div>
<div class="line"><a name="l05670"></a><span class="lineno"> 5670</span>&#160;        window-&gt;DrawList-&gt;AddRectFilled(bb_inner.Min, <a class="code" href="struct_im_vec2.html">ImVec2</a>(mid_x, bb_inner.Max.y), GetColorU32(col_rgb_without_alpha), rounding, ImDrawFlags_RoundCornersLeft);</div>
<div class="line"><a name="l05671"></a><span class="lineno"> 5671</span>&#160;    }</div>
<div class="line"><a name="l05672"></a><span class="lineno"> 5672</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l05673"></a><span class="lineno"> 5673</span>&#160;    {</div>
<div class="line"><a name="l05674"></a><span class="lineno"> 5674</span>&#160;        <span class="comment">// Because GetColorU32() multiplies by the global style Alpha and we don&#39;t want to display a checkerboard if the source code had no alpha</span></div>
<div class="line"><a name="l05675"></a><span class="lineno"> 5675</span>&#160;        <a class="code" href="struct_im_vec4.html">ImVec4</a> col_source = (flags &amp; ImGuiColorEditFlags_AlphaPreview) ? col_rgb : col_rgb_without_alpha;</div>
<div class="line"><a name="l05676"></a><span class="lineno"> 5676</span>&#160;        <span class="keywordflow">if</span> (col_source.w &lt; 1.0f)</div>
<div class="line"><a name="l05677"></a><span class="lineno"> 5677</span>&#160;            RenderColorRectWithAlphaCheckerboard(window-&gt;DrawList, bb_inner.Min, bb_inner.Max, GetColorU32(col_source), grid_step, <a class="code" href="struct_im_vec2.html">ImVec2</a>(off, off), rounding);</div>
<div class="line"><a name="l05678"></a><span class="lineno"> 5678</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l05679"></a><span class="lineno"> 5679</span>&#160;            window-&gt;DrawList-&gt;AddRectFilled(bb_inner.Min, bb_inner.Max, GetColorU32(col_source), rounding);</div>
<div class="line"><a name="l05680"></a><span class="lineno"> 5680</span>&#160;    }</div>
<div class="line"><a name="l05681"></a><span class="lineno"> 5681</span>&#160;    RenderNavHighlight(bb, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l05682"></a><span class="lineno"> 5682</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; ImGuiColorEditFlags_NoBorder) == 0)</div>
<div class="line"><a name="l05683"></a><span class="lineno"> 5683</span>&#160;    {</div>
<div class="line"><a name="l05684"></a><span class="lineno"> 5684</span>&#160;        <span class="keywordflow">if</span> (g.Style.FrameBorderSize &gt; 0.0f)</div>
<div class="line"><a name="l05685"></a><span class="lineno"> 5685</span>&#160;            RenderFrameBorder(bb.Min, bb.Max, rounding);</div>
<div class="line"><a name="l05686"></a><span class="lineno"> 5686</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l05687"></a><span class="lineno"> 5687</span>&#160;            window-&gt;DrawList-&gt;AddRect(bb.Min, bb.Max, GetColorU32(ImGuiCol_FrameBg), rounding); <span class="comment">// Color button are often in need of some sort of border</span></div>
<div class="line"><a name="l05688"></a><span class="lineno"> 5688</span>&#160;    }</div>
<div class="line"><a name="l05689"></a><span class="lineno"> 5689</span>&#160; </div>
<div class="line"><a name="l05690"></a><span class="lineno"> 5690</span>&#160;    <span class="comment">// Drag and Drop Source</span></div>
<div class="line"><a name="l05691"></a><span class="lineno"> 5691</span>&#160;    <span class="comment">// NB: The ActiveId test is merely an optional micro-optimization, BeginDragDropSource() does the same test.</span></div>
<div class="line"><a name="l05692"></a><span class="lineno"> 5692</span>&#160;    <span class="keywordflow">if</span> (g.ActiveId == <span class="keywordtype">id</span> &amp;&amp; !(flags &amp; ImGuiColorEditFlags_NoDragDrop) &amp;&amp; BeginDragDropSource())</div>
<div class="line"><a name="l05693"></a><span class="lineno"> 5693</span>&#160;    {</div>
<div class="line"><a name="l05694"></a><span class="lineno"> 5694</span>&#160;        <span class="keywordflow">if</span> (flags &amp; ImGuiColorEditFlags_NoAlpha)</div>
<div class="line"><a name="l05695"></a><span class="lineno"> 5695</span>&#160;            SetDragDropPayload(IMGUI_PAYLOAD_TYPE_COLOR_3F, &amp;col_rgb, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>) * 3, ImGuiCond_Once);</div>
<div class="line"><a name="l05696"></a><span class="lineno"> 5696</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l05697"></a><span class="lineno"> 5697</span>&#160;            SetDragDropPayload(IMGUI_PAYLOAD_TYPE_COLOR_4F, &amp;col_rgb, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>) * 4, ImGuiCond_Once);</div>
<div class="line"><a name="l05698"></a><span class="lineno"> 5698</span>&#160;        ColorButton(desc_id, col, flags);</div>
<div class="line"><a name="l05699"></a><span class="lineno"> 5699</span>&#160;        SameLine();</div>
<div class="line"><a name="l05700"></a><span class="lineno"> 5700</span>&#160;        TextEx(<span class="stringliteral">&quot;Color&quot;</span>);</div>
<div class="line"><a name="l05701"></a><span class="lineno"> 5701</span>&#160;        EndDragDropSource();</div>
<div class="line"><a name="l05702"></a><span class="lineno"> 5702</span>&#160;    }</div>
<div class="line"><a name="l05703"></a><span class="lineno"> 5703</span>&#160; </div>
<div class="line"><a name="l05704"></a><span class="lineno"> 5704</span>&#160;    <span class="comment">// Tooltip</span></div>
<div class="line"><a name="l05705"></a><span class="lineno"> 5705</span>&#160;    <span class="keywordflow">if</span> (!(flags &amp; ImGuiColorEditFlags_NoTooltip) &amp;&amp; hovered)</div>
<div class="line"><a name="l05706"></a><span class="lineno"> 5706</span>&#160;        ColorTooltip(desc_id, &amp;col.x, flags &amp; (ImGuiColorEditFlags_InputMask_ | ImGuiColorEditFlags_NoAlpha | ImGuiColorEditFlags_AlphaPreview | ImGuiColorEditFlags_AlphaPreviewHalf));</div>
<div class="line"><a name="l05707"></a><span class="lineno"> 5707</span>&#160; </div>
<div class="line"><a name="l05708"></a><span class="lineno"> 5708</span>&#160;    <span class="keywordflow">return</span> pressed;</div>
<div class="line"><a name="l05709"></a><span class="lineno"> 5709</span>&#160;}</div>
<div class="line"><a name="l05710"></a><span class="lineno"> 5710</span>&#160; </div>
<div class="line"><a name="l05711"></a><span class="lineno"> 5711</span>&#160;<span class="comment">// Initialize/override default color options</span></div>
<div class="line"><a name="l05712"></a><span class="lineno"> 5712</span>&#160;<span class="keywordtype">void</span> ImGui::SetColorEditOptions(ImGuiColorEditFlags flags)</div>
<div class="line"><a name="l05713"></a><span class="lineno"> 5713</span>&#160;{</div>
<div class="line"><a name="l05714"></a><span class="lineno"> 5714</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l05715"></a><span class="lineno"> 5715</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; ImGuiColorEditFlags_DisplayMask_) == 0)</div>
<div class="line"><a name="l05716"></a><span class="lineno"> 5716</span>&#160;        flags |= ImGuiColorEditFlags_DefaultOptions_ &amp; ImGuiColorEditFlags_DisplayMask_;</div>
<div class="line"><a name="l05717"></a><span class="lineno"> 5717</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; ImGuiColorEditFlags_DataTypeMask_) == 0)</div>
<div class="line"><a name="l05718"></a><span class="lineno"> 5718</span>&#160;        flags |= ImGuiColorEditFlags_DefaultOptions_ &amp; ImGuiColorEditFlags_DataTypeMask_;</div>
<div class="line"><a name="l05719"></a><span class="lineno"> 5719</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; ImGuiColorEditFlags_PickerMask_) == 0)</div>
<div class="line"><a name="l05720"></a><span class="lineno"> 5720</span>&#160;        flags |= ImGuiColorEditFlags_DefaultOptions_ &amp; ImGuiColorEditFlags_PickerMask_;</div>
<div class="line"><a name="l05721"></a><span class="lineno"> 5721</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; ImGuiColorEditFlags_InputMask_) == 0)</div>
<div class="line"><a name="l05722"></a><span class="lineno"> 5722</span>&#160;        flags |= ImGuiColorEditFlags_DefaultOptions_ &amp; ImGuiColorEditFlags_InputMask_;</div>
<div class="line"><a name="l05723"></a><span class="lineno"> 5723</span>&#160;    IM_ASSERT(ImIsPowerOfTwo(flags &amp; ImGuiColorEditFlags_DisplayMask_));    <span class="comment">// Check only 1 option is selected</span></div>
<div class="line"><a name="l05724"></a><span class="lineno"> 5724</span>&#160;    IM_ASSERT(ImIsPowerOfTwo(flags &amp; ImGuiColorEditFlags_DataTypeMask_));   <span class="comment">// Check only 1 option is selected</span></div>
<div class="line"><a name="l05725"></a><span class="lineno"> 5725</span>&#160;    IM_ASSERT(ImIsPowerOfTwo(flags &amp; ImGuiColorEditFlags_PickerMask_));     <span class="comment">// Check only 1 option is selected</span></div>
<div class="line"><a name="l05726"></a><span class="lineno"> 5726</span>&#160;    IM_ASSERT(ImIsPowerOfTwo(flags &amp; ImGuiColorEditFlags_InputMask_));      <span class="comment">// Check only 1 option is selected</span></div>
<div class="line"><a name="l05727"></a><span class="lineno"> 5727</span>&#160;    g.ColorEditOptions = flags;</div>
<div class="line"><a name="l05728"></a><span class="lineno"> 5728</span>&#160;}</div>
<div class="line"><a name="l05729"></a><span class="lineno"> 5729</span>&#160; </div>
<div class="line"><a name="l05730"></a><span class="lineno"> 5730</span>&#160;<span class="comment">// Note: only access 3 floats if ImGuiColorEditFlags_NoAlpha flag is set.</span></div>
<div class="line"><a name="l05731"></a><span class="lineno"> 5731</span>&#160;<span class="keywordtype">void</span> ImGui::ColorTooltip(<span class="keyword">const</span> <span class="keywordtype">char</span> *text, <span class="keyword">const</span> <span class="keywordtype">float</span> *col, ImGuiColorEditFlags flags)</div>
<div class="line"><a name="l05732"></a><span class="lineno"> 5732</span>&#160;{</div>
<div class="line"><a name="l05733"></a><span class="lineno"> 5733</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l05734"></a><span class="lineno"> 5734</span>&#160; </div>
<div class="line"><a name="l05735"></a><span class="lineno"> 5735</span>&#160;    BeginTooltipEx(0, ImGuiTooltipFlags_OverridePreviousTooltip);</div>
<div class="line"><a name="l05736"></a><span class="lineno"> 5736</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *text_end = text ? FindRenderedTextEnd(text, NULL) : text;</div>
<div class="line"><a name="l05737"></a><span class="lineno"> 5737</span>&#160;    <span class="keywordflow">if</span> (text_end &gt; text)</div>
<div class="line"><a name="l05738"></a><span class="lineno"> 5738</span>&#160;    {</div>
<div class="line"><a name="l05739"></a><span class="lineno"> 5739</span>&#160;        TextEx(text, text_end);</div>
<div class="line"><a name="l05740"></a><span class="lineno"> 5740</span>&#160;        Separator();</div>
<div class="line"><a name="l05741"></a><span class="lineno"> 5741</span>&#160;    }</div>
<div class="line"><a name="l05742"></a><span class="lineno"> 5742</span>&#160; </div>
<div class="line"><a name="l05743"></a><span class="lineno"> 5743</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> sz(g.FontSize * 3 + g.Style.FramePadding.y * 2, g.FontSize * 3 + g.Style.FramePadding.y * 2);</div>
<div class="line"><a name="l05744"></a><span class="lineno"> 5744</span>&#160;    <a class="code" href="struct_im_vec4.html">ImVec4</a> cf(col[0], col[1], col[2], (flags &amp; ImGuiColorEditFlags_NoAlpha) ? 1.0f : col[3]);</div>
<div class="line"><a name="l05745"></a><span class="lineno"> 5745</span>&#160;    <span class="keywordtype">int</span> cr = IM_F32_TO_INT8_SAT(col[0]), cg = IM_F32_TO_INT8_SAT(col[1]), cb = IM_F32_TO_INT8_SAT(col[2]), ca = (flags &amp; ImGuiColorEditFlags_NoAlpha) ? 255 : IM_F32_TO_INT8_SAT(col[3]);</div>
<div class="line"><a name="l05746"></a><span class="lineno"> 5746</span>&#160;    ColorButton(<span class="stringliteral">&quot;##preview&quot;</span>, cf, (flags &amp; (ImGuiColorEditFlags_InputMask_ | ImGuiColorEditFlags_NoAlpha | ImGuiColorEditFlags_AlphaPreview | ImGuiColorEditFlags_AlphaPreviewHalf)) | ImGuiColorEditFlags_NoTooltip, sz);</div>
<div class="line"><a name="l05747"></a><span class="lineno"> 5747</span>&#160;    SameLine();</div>
<div class="line"><a name="l05748"></a><span class="lineno"> 5748</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; ImGuiColorEditFlags_InputRGB) || !(flags &amp; ImGuiColorEditFlags_InputMask_))</div>
<div class="line"><a name="l05749"></a><span class="lineno"> 5749</span>&#160;    {</div>
<div class="line"><a name="l05750"></a><span class="lineno"> 5750</span>&#160;        <span class="keywordflow">if</span> (flags &amp; ImGuiColorEditFlags_NoAlpha)</div>
<div class="line"><a name="l05751"></a><span class="lineno"> 5751</span>&#160;            Text(<span class="stringliteral">&quot;#%02X%02X%02X\nR: %d, G: %d, B: %d\n(%.3f, %.3f, %.3f)&quot;</span>, cr, cg, cb, cr, cg, cb, col[0], col[1], col[2]);</div>
<div class="line"><a name="l05752"></a><span class="lineno"> 5752</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l05753"></a><span class="lineno"> 5753</span>&#160;            Text(<span class="stringliteral">&quot;#%02X%02X%02X%02X\nR:%d, G:%d, B:%d, A:%d\n(%.3f, %.3f, %.3f, %.3f)&quot;</span>, cr, cg, cb, ca, cr, cg, cb, ca, col[0], col[1], col[2], col[3]);</div>
<div class="line"><a name="l05754"></a><span class="lineno"> 5754</span>&#160;    }</div>
<div class="line"><a name="l05755"></a><span class="lineno"> 5755</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags &amp; ImGuiColorEditFlags_InputHSV)</div>
<div class="line"><a name="l05756"></a><span class="lineno"> 5756</span>&#160;    {</div>
<div class="line"><a name="l05757"></a><span class="lineno"> 5757</span>&#160;        <span class="keywordflow">if</span> (flags &amp; ImGuiColorEditFlags_NoAlpha)</div>
<div class="line"><a name="l05758"></a><span class="lineno"> 5758</span>&#160;            Text(<span class="stringliteral">&quot;H: %.3f, S: %.3f, V: %.3f&quot;</span>, col[0], col[1], col[2]);</div>
<div class="line"><a name="l05759"></a><span class="lineno"> 5759</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l05760"></a><span class="lineno"> 5760</span>&#160;            Text(<span class="stringliteral">&quot;H: %.3f, S: %.3f, V: %.3f, A: %.3f&quot;</span>, col[0], col[1], col[2], col[3]);</div>
<div class="line"><a name="l05761"></a><span class="lineno"> 5761</span>&#160;    }</div>
<div class="line"><a name="l05762"></a><span class="lineno"> 5762</span>&#160;    EndTooltip();</div>
<div class="line"><a name="l05763"></a><span class="lineno"> 5763</span>&#160;}</div>
<div class="line"><a name="l05764"></a><span class="lineno"> 5764</span>&#160; </div>
<div class="line"><a name="l05765"></a><span class="lineno"> 5765</span>&#160;<span class="keywordtype">void</span> ImGui::ColorEditOptionsPopup(<span class="keyword">const</span> <span class="keywordtype">float</span> *col, ImGuiColorEditFlags flags)</div>
<div class="line"><a name="l05766"></a><span class="lineno"> 5766</span>&#160;{</div>
<div class="line"><a name="l05767"></a><span class="lineno"> 5767</span>&#160;    <span class="keywordtype">bool</span> allow_opt_inputs = !(flags &amp; ImGuiColorEditFlags_DisplayMask_);</div>
<div class="line"><a name="l05768"></a><span class="lineno"> 5768</span>&#160;    <span class="keywordtype">bool</span> allow_opt_datatype = !(flags &amp; ImGuiColorEditFlags_DataTypeMask_);</div>
<div class="line"><a name="l05769"></a><span class="lineno"> 5769</span>&#160;    <span class="keywordflow">if</span> ((!allow_opt_inputs &amp;&amp; !allow_opt_datatype) || !BeginPopup(<span class="stringliteral">&quot;context&quot;</span>))</div>
<div class="line"><a name="l05770"></a><span class="lineno"> 5770</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05771"></a><span class="lineno"> 5771</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l05772"></a><span class="lineno"> 5772</span>&#160;    ImGuiColorEditFlags opts = g.ColorEditOptions;</div>
<div class="line"><a name="l05773"></a><span class="lineno"> 5773</span>&#160;    <span class="keywordflow">if</span> (allow_opt_inputs)</div>
<div class="line"><a name="l05774"></a><span class="lineno"> 5774</span>&#160;    {</div>
<div class="line"><a name="l05775"></a><span class="lineno"> 5775</span>&#160;        <span class="keywordflow">if</span> (RadioButton(<span class="stringliteral">&quot;RGB&quot;</span>, (opts &amp; ImGuiColorEditFlags_DisplayRGB) != 0)) opts = (opts &amp; ~ImGuiColorEditFlags_DisplayMask_) | ImGuiColorEditFlags_DisplayRGB;</div>
<div class="line"><a name="l05776"></a><span class="lineno"> 5776</span>&#160;        <span class="keywordflow">if</span> (RadioButton(<span class="stringliteral">&quot;HSV&quot;</span>, (opts &amp; ImGuiColorEditFlags_DisplayHSV) != 0)) opts = (opts &amp; ~ImGuiColorEditFlags_DisplayMask_) | ImGuiColorEditFlags_DisplayHSV;</div>
<div class="line"><a name="l05777"></a><span class="lineno"> 5777</span>&#160;        <span class="keywordflow">if</span> (RadioButton(<span class="stringliteral">&quot;Hex&quot;</span>, (opts &amp; ImGuiColorEditFlags_DisplayHex) != 0)) opts = (opts &amp; ~ImGuiColorEditFlags_DisplayMask_) | ImGuiColorEditFlags_DisplayHex;</div>
<div class="line"><a name="l05778"></a><span class="lineno"> 5778</span>&#160;    }</div>
<div class="line"><a name="l05779"></a><span class="lineno"> 5779</span>&#160;    <span class="keywordflow">if</span> (allow_opt_datatype)</div>
<div class="line"><a name="l05780"></a><span class="lineno"> 5780</span>&#160;    {</div>
<div class="line"><a name="l05781"></a><span class="lineno"> 5781</span>&#160;        <span class="keywordflow">if</span> (allow_opt_inputs) Separator();</div>
<div class="line"><a name="l05782"></a><span class="lineno"> 5782</span>&#160;        <span class="keywordflow">if</span> (RadioButton(<span class="stringliteral">&quot;0..255&quot;</span>, (opts &amp; ImGuiColorEditFlags_Uint8) != 0)) opts = (opts &amp; ~ImGuiColorEditFlags_DataTypeMask_) | ImGuiColorEditFlags_Uint8;</div>
<div class="line"><a name="l05783"></a><span class="lineno"> 5783</span>&#160;        <span class="keywordflow">if</span> (RadioButton(<span class="stringliteral">&quot;0.00..1.00&quot;</span>, (opts &amp; ImGuiColorEditFlags_Float) != 0)) opts = (opts &amp; ~ImGuiColorEditFlags_DataTypeMask_) | ImGuiColorEditFlags_Float;</div>
<div class="line"><a name="l05784"></a><span class="lineno"> 5784</span>&#160;    }</div>
<div class="line"><a name="l05785"></a><span class="lineno"> 5785</span>&#160; </div>
<div class="line"><a name="l05786"></a><span class="lineno"> 5786</span>&#160;    <span class="keywordflow">if</span> (allow_opt_inputs || allow_opt_datatype)</div>
<div class="line"><a name="l05787"></a><span class="lineno"> 5787</span>&#160;        Separator();</div>
<div class="line"><a name="l05788"></a><span class="lineno"> 5788</span>&#160;    <span class="keywordflow">if</span> (Button(<span class="stringliteral">&quot;Copy as..&quot;</span>, <a class="code" href="struct_im_vec2.html">ImVec2</a>(-1, 0)))</div>
<div class="line"><a name="l05789"></a><span class="lineno"> 5789</span>&#160;        OpenPopup(<span class="stringliteral">&quot;Copy&quot;</span>);</div>
<div class="line"><a name="l05790"></a><span class="lineno"> 5790</span>&#160;    <span class="keywordflow">if</span> (BeginPopup(<span class="stringliteral">&quot;Copy&quot;</span>))</div>
<div class="line"><a name="l05791"></a><span class="lineno"> 5791</span>&#160;    {</div>
<div class="line"><a name="l05792"></a><span class="lineno"> 5792</span>&#160;        <span class="keywordtype">int</span> cr = IM_F32_TO_INT8_SAT(col[0]), cg = IM_F32_TO_INT8_SAT(col[1]), cb = IM_F32_TO_INT8_SAT(col[2]), ca = (flags &amp; ImGuiColorEditFlags_NoAlpha) ? 255 : IM_F32_TO_INT8_SAT(col[3]);</div>
<div class="line"><a name="l05793"></a><span class="lineno"> 5793</span>&#160;        <span class="keywordtype">char</span> buf[64];</div>
<div class="line"><a name="l05794"></a><span class="lineno"> 5794</span>&#160;        ImFormatString(buf, IM_ARRAYSIZE(buf), <span class="stringliteral">&quot;(%.3ff, %.3ff, %.3ff, %.3ff)&quot;</span>, col[0], col[1], col[2], (flags &amp; ImGuiColorEditFlags_NoAlpha) ? 1.0f : col[3]);</div>
<div class="line"><a name="l05795"></a><span class="lineno"> 5795</span>&#160;        <span class="keywordflow">if</span> (Selectable(buf))</div>
<div class="line"><a name="l05796"></a><span class="lineno"> 5796</span>&#160;            SetClipboardText(buf);</div>
<div class="line"><a name="l05797"></a><span class="lineno"> 5797</span>&#160;        ImFormatString(buf, IM_ARRAYSIZE(buf), <span class="stringliteral">&quot;(%d,%d,%d,%d)&quot;</span>, cr, cg, cb, ca);</div>
<div class="line"><a name="l05798"></a><span class="lineno"> 5798</span>&#160;        <span class="keywordflow">if</span> (Selectable(buf))</div>
<div class="line"><a name="l05799"></a><span class="lineno"> 5799</span>&#160;            SetClipboardText(buf);</div>
<div class="line"><a name="l05800"></a><span class="lineno"> 5800</span>&#160;        ImFormatString(buf, IM_ARRAYSIZE(buf), <span class="stringliteral">&quot;#%02X%02X%02X&quot;</span>, cr, cg, cb);</div>
<div class="line"><a name="l05801"></a><span class="lineno"> 5801</span>&#160;        <span class="keywordflow">if</span> (Selectable(buf))</div>
<div class="line"><a name="l05802"></a><span class="lineno"> 5802</span>&#160;            SetClipboardText(buf);</div>
<div class="line"><a name="l05803"></a><span class="lineno"> 5803</span>&#160;        <span class="keywordflow">if</span> (!(flags &amp; ImGuiColorEditFlags_NoAlpha))</div>
<div class="line"><a name="l05804"></a><span class="lineno"> 5804</span>&#160;        {</div>
<div class="line"><a name="l05805"></a><span class="lineno"> 5805</span>&#160;            ImFormatString(buf, IM_ARRAYSIZE(buf), <span class="stringliteral">&quot;#%02X%02X%02X%02X&quot;</span>, cr, cg, cb, ca);</div>
<div class="line"><a name="l05806"></a><span class="lineno"> 5806</span>&#160;            <span class="keywordflow">if</span> (Selectable(buf))</div>
<div class="line"><a name="l05807"></a><span class="lineno"> 5807</span>&#160;                SetClipboardText(buf);</div>
<div class="line"><a name="l05808"></a><span class="lineno"> 5808</span>&#160;        }</div>
<div class="line"><a name="l05809"></a><span class="lineno"> 5809</span>&#160;        EndPopup();</div>
<div class="line"><a name="l05810"></a><span class="lineno"> 5810</span>&#160;    }</div>
<div class="line"><a name="l05811"></a><span class="lineno"> 5811</span>&#160; </div>
<div class="line"><a name="l05812"></a><span class="lineno"> 5812</span>&#160;    g.ColorEditOptions = opts;</div>
<div class="line"><a name="l05813"></a><span class="lineno"> 5813</span>&#160;    EndPopup();</div>
<div class="line"><a name="l05814"></a><span class="lineno"> 5814</span>&#160;}</div>
<div class="line"><a name="l05815"></a><span class="lineno"> 5815</span>&#160; </div>
<div class="line"><a name="l05816"></a><span class="lineno"> 5816</span>&#160;<span class="keywordtype">void</span> ImGui::ColorPickerOptionsPopup(<span class="keyword">const</span> <span class="keywordtype">float</span> *ref_col, ImGuiColorEditFlags flags)</div>
<div class="line"><a name="l05817"></a><span class="lineno"> 5817</span>&#160;{</div>
<div class="line"><a name="l05818"></a><span class="lineno"> 5818</span>&#160;    <span class="keywordtype">bool</span> allow_opt_picker = !(flags &amp; ImGuiColorEditFlags_PickerMask_);</div>
<div class="line"><a name="l05819"></a><span class="lineno"> 5819</span>&#160;    <span class="keywordtype">bool</span> allow_opt_alpha_bar = !(flags &amp; ImGuiColorEditFlags_NoAlpha) &amp;&amp; !(flags &amp; ImGuiColorEditFlags_AlphaBar);</div>
<div class="line"><a name="l05820"></a><span class="lineno"> 5820</span>&#160;    <span class="keywordflow">if</span> ((!allow_opt_picker &amp;&amp; !allow_opt_alpha_bar) || !BeginPopup(<span class="stringliteral">&quot;context&quot;</span>))</div>
<div class="line"><a name="l05821"></a><span class="lineno"> 5821</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05822"></a><span class="lineno"> 5822</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l05823"></a><span class="lineno"> 5823</span>&#160;    <span class="keywordflow">if</span> (allow_opt_picker)</div>
<div class="line"><a name="l05824"></a><span class="lineno"> 5824</span>&#160;    {</div>
<div class="line"><a name="l05825"></a><span class="lineno"> 5825</span>&#160;        <a class="code" href="struct_im_vec2.html">ImVec2</a> picker_size(g.FontSize * 8, ImMax(g.FontSize * 8 - (GetFrameHeight() + g.Style.ItemInnerSpacing.x), 1.0f)); <span class="comment">// FIXME: Picker size copied from main picker function</span></div>
<div class="line"><a name="l05826"></a><span class="lineno"> 5826</span>&#160;        PushItemWidth(picker_size.x);</div>
<div class="line"><a name="l05827"></a><span class="lineno"> 5827</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> picker_type = 0; picker_type &lt; 2; picker_type++)</div>
<div class="line"><a name="l05828"></a><span class="lineno"> 5828</span>&#160;        {</div>
<div class="line"><a name="l05829"></a><span class="lineno"> 5829</span>&#160;            <span class="comment">// Draw small/thumbnail version of each picker type (over an invisible button for selection)</span></div>
<div class="line"><a name="l05830"></a><span class="lineno"> 5830</span>&#160;            <span class="keywordflow">if</span> (picker_type &gt; 0) Separator();</div>
<div class="line"><a name="l05831"></a><span class="lineno"> 5831</span>&#160;            PushID(picker_type);</div>
<div class="line"><a name="l05832"></a><span class="lineno"> 5832</span>&#160;            ImGuiColorEditFlags picker_flags = ImGuiColorEditFlags_NoInputs | ImGuiColorEditFlags_NoOptions | ImGuiColorEditFlags_NoLabel | ImGuiColorEditFlags_NoSidePreview | (flags &amp; ImGuiColorEditFlags_NoAlpha);</div>
<div class="line"><a name="l05833"></a><span class="lineno"> 5833</span>&#160;            <span class="keywordflow">if</span> (picker_type == 0) picker_flags |= ImGuiColorEditFlags_PickerHueBar;</div>
<div class="line"><a name="l05834"></a><span class="lineno"> 5834</span>&#160;            <span class="keywordflow">if</span> (picker_type == 1) picker_flags |= ImGuiColorEditFlags_PickerHueWheel;</div>
<div class="line"><a name="l05835"></a><span class="lineno"> 5835</span>&#160;            <a class="code" href="struct_im_vec2.html">ImVec2</a> backup_pos = GetCursorScreenPos();</div>
<div class="line"><a name="l05836"></a><span class="lineno"> 5836</span>&#160;            <span class="keywordflow">if</span> (Selectable(<span class="stringliteral">&quot;##selectable&quot;</span>, <span class="keyword">false</span>, 0, picker_size)) <span class="comment">// By default, Selectable() is closing popup</span></div>
<div class="line"><a name="l05837"></a><span class="lineno"> 5837</span>&#160;                g.ColorEditOptions = (g.ColorEditOptions &amp; ~ImGuiColorEditFlags_PickerMask_) | (picker_flags &amp; ImGuiColorEditFlags_PickerMask_);</div>
<div class="line"><a name="l05838"></a><span class="lineno"> 5838</span>&#160;            SetCursorScreenPos(backup_pos);</div>
<div class="line"><a name="l05839"></a><span class="lineno"> 5839</span>&#160;            <a class="code" href="struct_im_vec4.html">ImVec4</a> previewing_ref_col;</div>
<div class="line"><a name="l05840"></a><span class="lineno"> 5840</span>&#160;            memcpy(&amp;previewing_ref_col, ref_col, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>) * ((picker_flags &amp; ImGuiColorEditFlags_NoAlpha) ? 3 : 4));</div>
<div class="line"><a name="l05841"></a><span class="lineno"> 5841</span>&#160;            ColorPicker4(<span class="stringliteral">&quot;##previewing_picker&quot;</span>, &amp;previewing_ref_col.x, picker_flags);</div>
<div class="line"><a name="l05842"></a><span class="lineno"> 5842</span>&#160;            PopID();</div>
<div class="line"><a name="l05843"></a><span class="lineno"> 5843</span>&#160;        }</div>
<div class="line"><a name="l05844"></a><span class="lineno"> 5844</span>&#160;        PopItemWidth();</div>
<div class="line"><a name="l05845"></a><span class="lineno"> 5845</span>&#160;    }</div>
<div class="line"><a name="l05846"></a><span class="lineno"> 5846</span>&#160;    <span class="keywordflow">if</span> (allow_opt_alpha_bar)</div>
<div class="line"><a name="l05847"></a><span class="lineno"> 5847</span>&#160;    {</div>
<div class="line"><a name="l05848"></a><span class="lineno"> 5848</span>&#160;        <span class="keywordflow">if</span> (allow_opt_picker) Separator();</div>
<div class="line"><a name="l05849"></a><span class="lineno"> 5849</span>&#160;        CheckboxFlags(<span class="stringliteral">&quot;Alpha Bar&quot;</span>, &amp;g.ColorEditOptions, ImGuiColorEditFlags_AlphaBar);</div>
<div class="line"><a name="l05850"></a><span class="lineno"> 5850</span>&#160;    }</div>
<div class="line"><a name="l05851"></a><span class="lineno"> 5851</span>&#160;    EndPopup();</div>
<div class="line"><a name="l05852"></a><span class="lineno"> 5852</span>&#160;}</div>
<div class="line"><a name="l05853"></a><span class="lineno"> 5853</span>&#160; </div>
<div class="line"><a name="l05854"></a><span class="lineno"> 5854</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l05855"></a><span class="lineno"> 5855</span>&#160;<span class="comment">// [SECTION] Widgets: TreeNode, CollapsingHeader, etc.</span></div>
<div class="line"><a name="l05856"></a><span class="lineno"> 5856</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l05857"></a><span class="lineno"> 5857</span>&#160;<span class="comment">// - TreeNode()</span></div>
<div class="line"><a name="l05858"></a><span class="lineno"> 5858</span>&#160;<span class="comment">// - TreeNodeV()</span></div>
<div class="line"><a name="l05859"></a><span class="lineno"> 5859</span>&#160;<span class="comment">// - TreeNodeEx()</span></div>
<div class="line"><a name="l05860"></a><span class="lineno"> 5860</span>&#160;<span class="comment">// - TreeNodeExV()</span></div>
<div class="line"><a name="l05861"></a><span class="lineno"> 5861</span>&#160;<span class="comment">// - TreeNodeBehavior() [Internal]</span></div>
<div class="line"><a name="l05862"></a><span class="lineno"> 5862</span>&#160;<span class="comment">// - TreePush()</span></div>
<div class="line"><a name="l05863"></a><span class="lineno"> 5863</span>&#160;<span class="comment">// - TreePop()</span></div>
<div class="line"><a name="l05864"></a><span class="lineno"> 5864</span>&#160;<span class="comment">// - GetTreeNodeToLabelSpacing()</span></div>
<div class="line"><a name="l05865"></a><span class="lineno"> 5865</span>&#160;<span class="comment">// - SetNextItemOpen()</span></div>
<div class="line"><a name="l05866"></a><span class="lineno"> 5866</span>&#160;<span class="comment">// - CollapsingHeader()</span></div>
<div class="line"><a name="l05867"></a><span class="lineno"> 5867</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l05868"></a><span class="lineno"> 5868</span>&#160; </div>
<div class="line"><a name="l05869"></a><span class="lineno"> 5869</span>&#160;<span class="keywordtype">bool</span> ImGui::TreeNode(<span class="keyword">const</span> <span class="keywordtype">char</span> *str_id, <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, ...)</div>
<div class="line"><a name="l05870"></a><span class="lineno"> 5870</span>&#160;{</div>
<div class="line"><a name="l05871"></a><span class="lineno"> 5871</span>&#160;    va_list args;</div>
<div class="line"><a name="l05872"></a><span class="lineno"> 5872</span>&#160;    va_start(args, fmt);</div>
<div class="line"><a name="l05873"></a><span class="lineno"> 5873</span>&#160;    <span class="keywordtype">bool</span> is_open = TreeNodeExV(str_id, 0, fmt, args);</div>
<div class="line"><a name="l05874"></a><span class="lineno"> 5874</span>&#160;    va_end(args);</div>
<div class="line"><a name="l05875"></a><span class="lineno"> 5875</span>&#160;    <span class="keywordflow">return</span> is_open;</div>
<div class="line"><a name="l05876"></a><span class="lineno"> 5876</span>&#160;}</div>
<div class="line"><a name="l05877"></a><span class="lineno"> 5877</span>&#160; </div>
<div class="line"><a name="l05878"></a><span class="lineno"> 5878</span>&#160;<span class="keywordtype">bool</span> ImGui::TreeNode(<span class="keyword">const</span> <span class="keywordtype">void</span> *ptr_id, <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, ...)</div>
<div class="line"><a name="l05879"></a><span class="lineno"> 5879</span>&#160;{</div>
<div class="line"><a name="l05880"></a><span class="lineno"> 5880</span>&#160;    va_list args;</div>
<div class="line"><a name="l05881"></a><span class="lineno"> 5881</span>&#160;    va_start(args, fmt);</div>
<div class="line"><a name="l05882"></a><span class="lineno"> 5882</span>&#160;    <span class="keywordtype">bool</span> is_open = TreeNodeExV(ptr_id, 0, fmt, args);</div>
<div class="line"><a name="l05883"></a><span class="lineno"> 5883</span>&#160;    va_end(args);</div>
<div class="line"><a name="l05884"></a><span class="lineno"> 5884</span>&#160;    <span class="keywordflow">return</span> is_open;</div>
<div class="line"><a name="l05885"></a><span class="lineno"> 5885</span>&#160;}</div>
<div class="line"><a name="l05886"></a><span class="lineno"> 5886</span>&#160; </div>
<div class="line"><a name="l05887"></a><span class="lineno"> 5887</span>&#160;<span class="keywordtype">bool</span> ImGui::TreeNode(<span class="keyword">const</span> <span class="keywordtype">char</span> *label)</div>
<div class="line"><a name="l05888"></a><span class="lineno"> 5888</span>&#160;{</div>
<div class="line"><a name="l05889"></a><span class="lineno"> 5889</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l05890"></a><span class="lineno"> 5890</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l05891"></a><span class="lineno"> 5891</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05892"></a><span class="lineno"> 5892</span>&#160;    <span class="keywordflow">return</span> TreeNodeBehavior(window-&gt;GetID(label), 0, label, NULL);</div>
<div class="line"><a name="l05893"></a><span class="lineno"> 5893</span>&#160;}</div>
<div class="line"><a name="l05894"></a><span class="lineno"> 5894</span>&#160; </div>
<div class="line"><a name="l05895"></a><span class="lineno"> 5895</span>&#160;<span class="keywordtype">bool</span> ImGui::TreeNodeV(<span class="keyword">const</span> <span class="keywordtype">char</span> *str_id, <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, va_list args)</div>
<div class="line"><a name="l05896"></a><span class="lineno"> 5896</span>&#160;{</div>
<div class="line"><a name="l05897"></a><span class="lineno"> 5897</span>&#160;    <span class="keywordflow">return</span> TreeNodeExV(str_id, 0, fmt, args);</div>
<div class="line"><a name="l05898"></a><span class="lineno"> 5898</span>&#160;}</div>
<div class="line"><a name="l05899"></a><span class="lineno"> 5899</span>&#160; </div>
<div class="line"><a name="l05900"></a><span class="lineno"> 5900</span>&#160;<span class="keywordtype">bool</span> ImGui::TreeNodeV(<span class="keyword">const</span> <span class="keywordtype">void</span> *ptr_id, <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, va_list args)</div>
<div class="line"><a name="l05901"></a><span class="lineno"> 5901</span>&#160;{</div>
<div class="line"><a name="l05902"></a><span class="lineno"> 5902</span>&#160;    <span class="keywordflow">return</span> TreeNodeExV(ptr_id, 0, fmt, args);</div>
<div class="line"><a name="l05903"></a><span class="lineno"> 5903</span>&#160;}</div>
<div class="line"><a name="l05904"></a><span class="lineno"> 5904</span>&#160; </div>
<div class="line"><a name="l05905"></a><span class="lineno"> 5905</span>&#160;<span class="keywordtype">bool</span> ImGui::TreeNodeEx(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, ImGuiTreeNodeFlags flags)</div>
<div class="line"><a name="l05906"></a><span class="lineno"> 5906</span>&#160;{</div>
<div class="line"><a name="l05907"></a><span class="lineno"> 5907</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l05908"></a><span class="lineno"> 5908</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l05909"></a><span class="lineno"> 5909</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05910"></a><span class="lineno"> 5910</span>&#160; </div>
<div class="line"><a name="l05911"></a><span class="lineno"> 5911</span>&#160;    <span class="keywordflow">return</span> TreeNodeBehavior(window-&gt;GetID(label), flags, label, NULL);</div>
<div class="line"><a name="l05912"></a><span class="lineno"> 5912</span>&#160;}</div>
<div class="line"><a name="l05913"></a><span class="lineno"> 5913</span>&#160; </div>
<div class="line"><a name="l05914"></a><span class="lineno"> 5914</span>&#160;<span class="keywordtype">bool</span> ImGui::TreeNodeEx(<span class="keyword">const</span> <span class="keywordtype">char</span> *str_id, ImGuiTreeNodeFlags flags, <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, ...)</div>
<div class="line"><a name="l05915"></a><span class="lineno"> 5915</span>&#160;{</div>
<div class="line"><a name="l05916"></a><span class="lineno"> 5916</span>&#160;    va_list args;</div>
<div class="line"><a name="l05917"></a><span class="lineno"> 5917</span>&#160;    va_start(args, fmt);</div>
<div class="line"><a name="l05918"></a><span class="lineno"> 5918</span>&#160;    <span class="keywordtype">bool</span> is_open = TreeNodeExV(str_id, flags, fmt, args);</div>
<div class="line"><a name="l05919"></a><span class="lineno"> 5919</span>&#160;    va_end(args);</div>
<div class="line"><a name="l05920"></a><span class="lineno"> 5920</span>&#160;    <span class="keywordflow">return</span> is_open;</div>
<div class="line"><a name="l05921"></a><span class="lineno"> 5921</span>&#160;}</div>
<div class="line"><a name="l05922"></a><span class="lineno"> 5922</span>&#160; </div>
<div class="line"><a name="l05923"></a><span class="lineno"> 5923</span>&#160;<span class="keywordtype">bool</span> ImGui::TreeNodeEx(<span class="keyword">const</span> <span class="keywordtype">void</span> *ptr_id, ImGuiTreeNodeFlags flags, <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, ...)</div>
<div class="line"><a name="l05924"></a><span class="lineno"> 5924</span>&#160;{</div>
<div class="line"><a name="l05925"></a><span class="lineno"> 5925</span>&#160;    va_list args;</div>
<div class="line"><a name="l05926"></a><span class="lineno"> 5926</span>&#160;    va_start(args, fmt);</div>
<div class="line"><a name="l05927"></a><span class="lineno"> 5927</span>&#160;    <span class="keywordtype">bool</span> is_open = TreeNodeExV(ptr_id, flags, fmt, args);</div>
<div class="line"><a name="l05928"></a><span class="lineno"> 5928</span>&#160;    va_end(args);</div>
<div class="line"><a name="l05929"></a><span class="lineno"> 5929</span>&#160;    <span class="keywordflow">return</span> is_open;</div>
<div class="line"><a name="l05930"></a><span class="lineno"> 5930</span>&#160;}</div>
<div class="line"><a name="l05931"></a><span class="lineno"> 5931</span>&#160; </div>
<div class="line"><a name="l05932"></a><span class="lineno"> 5932</span>&#160;<span class="keywordtype">bool</span> ImGui::TreeNodeExV(<span class="keyword">const</span> <span class="keywordtype">char</span> *str_id, ImGuiTreeNodeFlags flags, <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, va_list args)</div>
<div class="line"><a name="l05933"></a><span class="lineno"> 5933</span>&#160;{</div>
<div class="line"><a name="l05934"></a><span class="lineno"> 5934</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l05935"></a><span class="lineno"> 5935</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l05936"></a><span class="lineno"> 5936</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05937"></a><span class="lineno"> 5937</span>&#160; </div>
<div class="line"><a name="l05938"></a><span class="lineno"> 5938</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l05939"></a><span class="lineno"> 5939</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *label_end = g.TempBuffer + ImFormatStringV(g.TempBuffer, IM_ARRAYSIZE(g.TempBuffer), fmt, args);</div>
<div class="line"><a name="l05940"></a><span class="lineno"> 5940</span>&#160;    <span class="keywordflow">return</span> TreeNodeBehavior(window-&gt;GetID(str_id), flags, g.TempBuffer, label_end);</div>
<div class="line"><a name="l05941"></a><span class="lineno"> 5941</span>&#160;}</div>
<div class="line"><a name="l05942"></a><span class="lineno"> 5942</span>&#160; </div>
<div class="line"><a name="l05943"></a><span class="lineno"> 5943</span>&#160;<span class="keywordtype">bool</span> ImGui::TreeNodeExV(<span class="keyword">const</span> <span class="keywordtype">void</span> *ptr_id, ImGuiTreeNodeFlags flags, <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, va_list args)</div>
<div class="line"><a name="l05944"></a><span class="lineno"> 5944</span>&#160;{</div>
<div class="line"><a name="l05945"></a><span class="lineno"> 5945</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l05946"></a><span class="lineno"> 5946</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l05947"></a><span class="lineno"> 5947</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05948"></a><span class="lineno"> 5948</span>&#160; </div>
<div class="line"><a name="l05949"></a><span class="lineno"> 5949</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l05950"></a><span class="lineno"> 5950</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *label_end = g.TempBuffer + ImFormatStringV(g.TempBuffer, IM_ARRAYSIZE(g.TempBuffer), fmt, args);</div>
<div class="line"><a name="l05951"></a><span class="lineno"> 5951</span>&#160;    <span class="keywordflow">return</span> TreeNodeBehavior(window-&gt;GetID(ptr_id), flags, g.TempBuffer, label_end);</div>
<div class="line"><a name="l05952"></a><span class="lineno"> 5952</span>&#160;}</div>
<div class="line"><a name="l05953"></a><span class="lineno"> 5953</span>&#160; </div>
<div class="line"><a name="l05954"></a><span class="lineno"> 5954</span>&#160;<span class="keywordtype">bool</span> ImGui::TreeNodeBehaviorIsOpen(ImGuiID <span class="keywordtype">id</span>, ImGuiTreeNodeFlags flags)</div>
<div class="line"><a name="l05955"></a><span class="lineno"> 5955</span>&#160;{</div>
<div class="line"><a name="l05956"></a><span class="lineno"> 5956</span>&#160;    <span class="keywordflow">if</span> (flags &amp; ImGuiTreeNodeFlags_Leaf)</div>
<div class="line"><a name="l05957"></a><span class="lineno"> 5957</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05958"></a><span class="lineno"> 5958</span>&#160; </div>
<div class="line"><a name="l05959"></a><span class="lineno"> 5959</span>&#160;    <span class="comment">// We only write to the tree storage if the user clicks (or explicitly use the SetNextItemOpen function)</span></div>
<div class="line"><a name="l05960"></a><span class="lineno"> 5960</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l05961"></a><span class="lineno"> 5961</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = g.CurrentWindow;</div>
<div class="line"><a name="l05962"></a><span class="lineno"> 5962</span>&#160;    <a class="code" href="struct_im_gui_storage.html">ImGuiStorage</a> *storage = window-&gt;DC.StateStorage;</div>
<div class="line"><a name="l05963"></a><span class="lineno"> 5963</span>&#160; </div>
<div class="line"><a name="l05964"></a><span class="lineno"> 5964</span>&#160;    <span class="keywordtype">bool</span> is_open;</div>
<div class="line"><a name="l05965"></a><span class="lineno"> 5965</span>&#160;    <span class="keywordflow">if</span> (g.NextItemData.Flags &amp; ImGuiNextItemDataFlags_HasOpen)</div>
<div class="line"><a name="l05966"></a><span class="lineno"> 5966</span>&#160;    {</div>
<div class="line"><a name="l05967"></a><span class="lineno"> 5967</span>&#160;        <span class="keywordflow">if</span> (g.NextItemData.OpenCond &amp; ImGuiCond_Always)</div>
<div class="line"><a name="l05968"></a><span class="lineno"> 5968</span>&#160;        {</div>
<div class="line"><a name="l05969"></a><span class="lineno"> 5969</span>&#160;            is_open = g.NextItemData.OpenVal;</div>
<div class="line"><a name="l05970"></a><span class="lineno"> 5970</span>&#160;            storage-&gt;SetIntUniform(<span class="keywordtype">id</span>, is_open);</div>
<div class="line"><a name="l05971"></a><span class="lineno"> 5971</span>&#160;        }</div>
<div class="line"><a name="l05972"></a><span class="lineno"> 5972</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l05973"></a><span class="lineno"> 5973</span>&#160;        {</div>
<div class="line"><a name="l05974"></a><span class="lineno"> 5974</span>&#160;            <span class="comment">// We treat ImGuiCond_Once and ImGuiCond_FirstUseEver the same because tree node state are not saved persistently.</span></div>
<div class="line"><a name="l05975"></a><span class="lineno"> 5975</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> stored_value = storage-&gt;GetInt(<span class="keywordtype">id</span>, -1);</div>
<div class="line"><a name="l05976"></a><span class="lineno"> 5976</span>&#160;            <span class="keywordflow">if</span> (stored_value == -1)</div>
<div class="line"><a name="l05977"></a><span class="lineno"> 5977</span>&#160;            {</div>
<div class="line"><a name="l05978"></a><span class="lineno"> 5978</span>&#160;                is_open = g.NextItemData.OpenVal;</div>
<div class="line"><a name="l05979"></a><span class="lineno"> 5979</span>&#160;                storage-&gt;SetIntUniform(<span class="keywordtype">id</span>, is_open);</div>
<div class="line"><a name="l05980"></a><span class="lineno"> 5980</span>&#160;            }</div>
<div class="line"><a name="l05981"></a><span class="lineno"> 5981</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l05982"></a><span class="lineno"> 5982</span>&#160;            {</div>
<div class="line"><a name="l05983"></a><span class="lineno"> 5983</span>&#160;                is_open = stored_value != 0;</div>
<div class="line"><a name="l05984"></a><span class="lineno"> 5984</span>&#160;            }</div>
<div class="line"><a name="l05985"></a><span class="lineno"> 5985</span>&#160;        }</div>
<div class="line"><a name="l05986"></a><span class="lineno"> 5986</span>&#160;    }</div>
<div class="line"><a name="l05987"></a><span class="lineno"> 5987</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l05988"></a><span class="lineno"> 5988</span>&#160;    {</div>
<div class="line"><a name="l05989"></a><span class="lineno"> 5989</span>&#160;        is_open = storage-&gt;GetInt(<span class="keywordtype">id</span>, (flags &amp; ImGuiTreeNodeFlags_DefaultOpen) ? 1 : 0) != 0;</div>
<div class="line"><a name="l05990"></a><span class="lineno"> 5990</span>&#160;    }</div>
<div class="line"><a name="l05991"></a><span class="lineno"> 5991</span>&#160; </div>
<div class="line"><a name="l05992"></a><span class="lineno"> 5992</span>&#160;    <span class="comment">// When logging is enabled, we automatically expand tree nodes (but *NOT* collapsing headers.. seems like sensible behavior).</span></div>
<div class="line"><a name="l05993"></a><span class="lineno"> 5993</span>&#160;    <span class="comment">// NB- If we are above max depth we still allow manually opened nodes to be logged.</span></div>
<div class="line"><a name="l05994"></a><span class="lineno"> 5994</span>&#160;    <span class="keywordflow">if</span> (g.LogEnabled &amp;&amp; !(flags &amp; ImGuiTreeNodeFlags_NoAutoOpenOnLog) &amp;&amp; (window-&gt;DC.TreeDepth - g.LogDepthRef) &lt; g.LogDepthToExpand)</div>
<div class="line"><a name="l05995"></a><span class="lineno"> 5995</span>&#160;        is_open = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05996"></a><span class="lineno"> 5996</span>&#160; </div>
<div class="line"><a name="l05997"></a><span class="lineno"> 5997</span>&#160;    <span class="keywordflow">return</span> is_open;</div>
<div class="line"><a name="l05998"></a><span class="lineno"> 5998</span>&#160;}</div>
<div class="line"><a name="l05999"></a><span class="lineno"> 5999</span>&#160; </div>
<div class="line"><a name="l06000"></a><span class="lineno"> 6000</span>&#160;<span class="keywordtype">bool</span> ImGui::TreeNodeBehavior(ImGuiID <span class="keywordtype">id</span>, ImGuiTreeNodeFlags flags, <span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keyword">const</span> <span class="keywordtype">char</span> *label_end)</div>
<div class="line"><a name="l06001"></a><span class="lineno"> 6001</span>&#160;{</div>
<div class="line"><a name="l06002"></a><span class="lineno"> 6002</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l06003"></a><span class="lineno"> 6003</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l06004"></a><span class="lineno"> 6004</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06005"></a><span class="lineno"> 6005</span>&#160; </div>
<div class="line"><a name="l06006"></a><span class="lineno"> 6006</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l06007"></a><span class="lineno"> 6007</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_gui_style.html">ImGuiStyle</a> &amp;style = g.Style;</div>
<div class="line"><a name="l06008"></a><span class="lineno"> 6008</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> display_frame = (flags &amp; ImGuiTreeNodeFlags_Framed) != 0;</div>
<div class="line"><a name="l06009"></a><span class="lineno"> 6009</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> padding = (display_frame || (flags &amp; ImGuiTreeNodeFlags_FramePadding)) ? style.FramePadding : <a class="code" href="struct_im_vec2.html">ImVec2</a>(style.FramePadding.x, ImMin(window-&gt;DC.CurrLineTextBaseOffset, style.FramePadding.y));</div>
<div class="line"><a name="l06010"></a><span class="lineno"> 6010</span>&#160; </div>
<div class="line"><a name="l06011"></a><span class="lineno"> 6011</span>&#160;    <span class="keywordflow">if</span> (!label_end)</div>
<div class="line"><a name="l06012"></a><span class="lineno"> 6012</span>&#160;        label_end = FindRenderedTextEnd(label);</div>
<div class="line"><a name="l06013"></a><span class="lineno"> 6013</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> label_size = CalcTextSize(label, label_end, <span class="keyword">false</span>);</div>
<div class="line"><a name="l06014"></a><span class="lineno"> 6014</span>&#160; </div>
<div class="line"><a name="l06015"></a><span class="lineno"> 6015</span>&#160;    <span class="comment">// We vertically grow up to current line height up the typical widget height.</span></div>
<div class="line"><a name="l06016"></a><span class="lineno"> 6016</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> frame_height = ImMax(ImMin(window-&gt;DC.CurrLineSize.y, g.FontSize + style.FramePadding.y * 2), label_size.y + padding.y * 2);</div>
<div class="line"><a name="l06017"></a><span class="lineno"> 6017</span>&#160;    <a class="code" href="struct_im_rect.html">ImRect</a> frame_bb;</div>
<div class="line"><a name="l06018"></a><span class="lineno"> 6018</span>&#160;    frame_bb.Min.x = (flags &amp; ImGuiTreeNodeFlags_SpanFullWidth) ? window-&gt;WorkRect.Min.x : window-&gt;DC.CursorPos.x;</div>
<div class="line"><a name="l06019"></a><span class="lineno"> 6019</span>&#160;    frame_bb.Min.y = window-&gt;DC.CursorPos.y;</div>
<div class="line"><a name="l06020"></a><span class="lineno"> 6020</span>&#160;    frame_bb.Max.x = window-&gt;WorkRect.Max.x;</div>
<div class="line"><a name="l06021"></a><span class="lineno"> 6021</span>&#160;    frame_bb.Max.y = window-&gt;DC.CursorPos.y + frame_height;</div>
<div class="line"><a name="l06022"></a><span class="lineno"> 6022</span>&#160;    if (display_frame)</div>
<div class="line"><a name="l06023"></a><span class="lineno"> 6023</span>&#160;    {</div>
<div class="line"><a name="l06024"></a><span class="lineno"> 6024</span>&#160;        <span class="comment">// Framed header expand a little outside the default padding, to the edge of InnerClipRect</span></div>
<div class="line"><a name="l06025"></a><span class="lineno"> 6025</span>&#160;        <span class="comment">// (FIXME: May remove this at some point and make InnerClipRect align with WindowPadding.x instead of WindowPadding.x*0.5f)</span></div>
<div class="line"><a name="l06026"></a><span class="lineno"> 6026</span>&#160;        frame_bb.Min.x -= IM_FLOOR(window-&gt;WindowPadding.x * 0.5f - 1.0f);</div>
<div class="line"><a name="l06027"></a><span class="lineno"> 6027</span>&#160;        frame_bb.Max.x += IM_FLOOR(window-&gt;WindowPadding.x * 0.5f);</div>
<div class="line"><a name="l06028"></a><span class="lineno"> 6028</span>&#160;    }</div>
<div class="line"><a name="l06029"></a><span class="lineno"> 6029</span>&#160; </div>
<div class="line"><a name="l06030"></a><span class="lineno"> 6030</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> text_offset_x = g.FontSize + (display_frame ? padding.x * 3 : padding.x * 2);           <span class="comment">// Collapser arrow width + Spacing</span></div>
<div class="line"><a name="l06031"></a><span class="lineno"> 6031</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> text_offset_y = ImMax(padding.y, window-&gt;DC.CurrLineTextBaseOffset);                    <span class="comment">// Latch before ItemSize changes it</span></div>
<div class="line"><a name="l06032"></a><span class="lineno"> 6032</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> text_width = g.FontSize + (label_size.x &gt; 0.0f ? label_size.x + padding.x * 2 : 0.0f);  <span class="comment">// Include collapser</span></div>
<div class="line"><a name="l06033"></a><span class="lineno"> 6033</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> text_pos(window-&gt;DC.CursorPos.x + text_offset_x, window-&gt;DC.CursorPos.y + text_offset_y);</div>
<div class="line"><a name="l06034"></a><span class="lineno"> 6034</span>&#160;    ItemSize(<a class="code" href="struct_im_vec2.html">ImVec2</a>(text_width, frame_height), padding.y);</div>
<div class="line"><a name="l06035"></a><span class="lineno"> 6035</span>&#160; </div>
<div class="line"><a name="l06036"></a><span class="lineno"> 6036</span>&#160;    <span class="comment">// For regular tree nodes, we arbitrary allow to click past 2 worth of ItemSpacing</span></div>
<div class="line"><a name="l06037"></a><span class="lineno"> 6037</span>&#160;    <a class="code" href="struct_im_rect.html">ImRect</a> interact_bb = frame_bb;</div>
<div class="line"><a name="l06038"></a><span class="lineno"> 6038</span>&#160;    <span class="keywordflow">if</span> (!display_frame &amp;&amp; (flags &amp; (ImGuiTreeNodeFlags_SpanAvailWidth | ImGuiTreeNodeFlags_SpanFullWidth)) == 0)</div>
<div class="line"><a name="l06039"></a><span class="lineno"> 6039</span>&#160;        interact_bb.Max.x = frame_bb.Min.x + text_width + style.ItemSpacing.x * 2.0f;</div>
<div class="line"><a name="l06040"></a><span class="lineno"> 6040</span>&#160; </div>
<div class="line"><a name="l06041"></a><span class="lineno"> 6041</span>&#160;    <span class="comment">// Store a flag for the current depth to tell if we will allow closing this node when navigating one of its child.</span></div>
<div class="line"><a name="l06042"></a><span class="lineno"> 6042</span>&#160;    <span class="comment">// For this purpose we essentially compare if g.NavIdIsAlive went from 0 to 1 between TreeNode() and TreePop().</span></div>
<div class="line"><a name="l06043"></a><span class="lineno"> 6043</span>&#160;    <span class="comment">// This is currently only support 32 level deep and we are fine with (1 &lt;&lt; Depth) overflowing into a zero.</span></div>
<div class="line"><a name="l06044"></a><span class="lineno"> 6044</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_leaf = (flags &amp; ImGuiTreeNodeFlags_Leaf) != 0;</div>
<div class="line"><a name="l06045"></a><span class="lineno"> 6045</span>&#160;    <span class="keywordtype">bool</span> is_open = TreeNodeBehaviorIsOpen(<span class="keywordtype">id</span>, flags);</div>
<div class="line"><a name="l06046"></a><span class="lineno"> 6046</span>&#160;    <span class="keywordflow">if</span> (is_open &amp;&amp; !g.NavIdIsAlive &amp;&amp; (flags &amp; ImGuiTreeNodeFlags_NavLeftJumpsBackHere) &amp;&amp; !(flags &amp; ImGuiTreeNodeFlags_NoTreePushOnOpen))</div>
<div class="line"><a name="l06047"></a><span class="lineno"> 6047</span>&#160;        window-&gt;DC.TreeJumpToParentOnPopMask |= (1 &lt;&lt; window-&gt;DC.TreeDepth);</div>
<div class="line"><a name="l06048"></a><span class="lineno"> 6048</span>&#160; </div>
<div class="line"><a name="l06049"></a><span class="lineno"> 6049</span>&#160;    <span class="keywordtype">bool</span> item_add = ItemAdd(interact_bb, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l06050"></a><span class="lineno"> 6050</span>&#160;    g.LastItemData.StatusFlags |= ImGuiItemStatusFlags_HasDisplayRect;</div>
<div class="line"><a name="l06051"></a><span class="lineno"> 6051</span>&#160;    g.LastItemData.DisplayRect = frame_bb;</div>
<div class="line"><a name="l06052"></a><span class="lineno"> 6052</span>&#160; </div>
<div class="line"><a name="l06053"></a><span class="lineno"> 6053</span>&#160;    <span class="keywordflow">if</span> (!item_add)</div>
<div class="line"><a name="l06054"></a><span class="lineno"> 6054</span>&#160;    {</div>
<div class="line"><a name="l06055"></a><span class="lineno"> 6055</span>&#160;        <span class="keywordflow">if</span> (is_open &amp;&amp; !(flags &amp; ImGuiTreeNodeFlags_NoTreePushOnOpen))</div>
<div class="line"><a name="l06056"></a><span class="lineno"> 6056</span>&#160;            TreePushOverrideID(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l06057"></a><span class="lineno"> 6057</span>&#160;        IMGUI_TEST_ENGINE_ITEM_INFO(g.LastItemData.ID, label, g.LastItemData.StatusFlags | (is_leaf ? 0 : ImGuiItemStatusFlags_Openable) | (is_open ? ImGuiItemStatusFlags_Opened : 0));</div>
<div class="line"><a name="l06058"></a><span class="lineno"> 6058</span>&#160;        <span class="keywordflow">return</span> is_open;</div>
<div class="line"><a name="l06059"></a><span class="lineno"> 6059</span>&#160;    }</div>
<div class="line"><a name="l06060"></a><span class="lineno"> 6060</span>&#160; </div>
<div class="line"><a name="l06061"></a><span class="lineno"> 6061</span>&#160;    ImGuiButtonFlags button_flags = ImGuiTreeNodeFlags_None;</div>
<div class="line"><a name="l06062"></a><span class="lineno"> 6062</span>&#160;    <span class="keywordflow">if</span> (flags &amp; ImGuiTreeNodeFlags_AllowItemOverlap)</div>
<div class="line"><a name="l06063"></a><span class="lineno"> 6063</span>&#160;        button_flags |= ImGuiButtonFlags_AllowItemOverlap;</div>
<div class="line"><a name="l06064"></a><span class="lineno"> 6064</span>&#160;    <span class="keywordflow">if</span> (!is_leaf)</div>
<div class="line"><a name="l06065"></a><span class="lineno"> 6065</span>&#160;        button_flags |= ImGuiButtonFlags_PressedOnDragDropHold;</div>
<div class="line"><a name="l06066"></a><span class="lineno"> 6066</span>&#160; </div>
<div class="line"><a name="l06067"></a><span class="lineno"> 6067</span>&#160;    <span class="comment">// We allow clicking on the arrow section with keyboard modifiers held, in order to easily</span></div>
<div class="line"><a name="l06068"></a><span class="lineno"> 6068</span>&#160;    <span class="comment">// allow browsing a tree while preserving selection with code implementing multi-selection patterns.</span></div>
<div class="line"><a name="l06069"></a><span class="lineno"> 6069</span>&#160;    <span class="comment">// When clicking on the rest of the tree node we always disallow keyboard modifiers.</span></div>
<div class="line"><a name="l06070"></a><span class="lineno"> 6070</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> arrow_hit_x1 = (text_pos.x - text_offset_x) - style.TouchExtraPadding.x;</div>
<div class="line"><a name="l06071"></a><span class="lineno"> 6071</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> arrow_hit_x2 = (text_pos.x - text_offset_x) + (g.FontSize + padding.x * 2.0f) + style.TouchExtraPadding.x;</div>
<div class="line"><a name="l06072"></a><span class="lineno"> 6072</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_mouse_x_over_arrow = (g.IO.MousePos.x &gt;= arrow_hit_x1 &amp;&amp; g.IO.MousePos.x &lt; arrow_hit_x2);</div>
<div class="line"><a name="l06073"></a><span class="lineno"> 6073</span>&#160;    <span class="keywordflow">if</span> (window != g.HoveredWindow || !is_mouse_x_over_arrow)</div>
<div class="line"><a name="l06074"></a><span class="lineno"> 6074</span>&#160;        button_flags |= ImGuiButtonFlags_NoKeyModifiers;</div>
<div class="line"><a name="l06075"></a><span class="lineno"> 6075</span>&#160; </div>
<div class="line"><a name="l06076"></a><span class="lineno"> 6076</span>&#160;    <span class="comment">// Open behaviors can be altered with the _OpenOnArrow and _OnOnDoubleClick flags.</span></div>
<div class="line"><a name="l06077"></a><span class="lineno"> 6077</span>&#160;    <span class="comment">// Some alteration have subtle effects (e.g. toggle on MouseUp vs MouseDown events) due to requirements for multi-selection and drag and drop support.</span></div>
<div class="line"><a name="l06078"></a><span class="lineno"> 6078</span>&#160;    <span class="comment">// - Single-click on label = Toggle on MouseUp (default, when _OpenOnArrow=0)</span></div>
<div class="line"><a name="l06079"></a><span class="lineno"> 6079</span>&#160;    <span class="comment">// - Single-click on arrow = Toggle on MouseDown (when _OpenOnArrow=0)</span></div>
<div class="line"><a name="l06080"></a><span class="lineno"> 6080</span>&#160;    <span class="comment">// - Single-click on arrow = Toggle on MouseDown (when _OpenOnArrow=1)</span></div>
<div class="line"><a name="l06081"></a><span class="lineno"> 6081</span>&#160;    <span class="comment">// - Double-click on label = Toggle on MouseDoubleClick (when _OpenOnDoubleClick=1)</span></div>
<div class="line"><a name="l06082"></a><span class="lineno"> 6082</span>&#160;    <span class="comment">// - Double-click on arrow = Toggle on MouseDoubleClick (when _OpenOnDoubleClick=1 and _OpenOnArrow=0)</span></div>
<div class="line"><a name="l06083"></a><span class="lineno"> 6083</span>&#160;    <span class="comment">// It is rather standard that arrow click react on Down rather than Up.</span></div>
<div class="line"><a name="l06084"></a><span class="lineno"> 6084</span>&#160;    <span class="comment">// We set ImGuiButtonFlags_PressedOnClickRelease on OpenOnDoubleClick because we want the item to be active on the initial MouseDown in order for drag and drop to work.</span></div>
<div class="line"><a name="l06085"></a><span class="lineno"> 6085</span>&#160;    <span class="keywordflow">if</span> (is_mouse_x_over_arrow)</div>
<div class="line"><a name="l06086"></a><span class="lineno"> 6086</span>&#160;        button_flags |= ImGuiButtonFlags_PressedOnClick;</div>
<div class="line"><a name="l06087"></a><span class="lineno"> 6087</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags &amp; ImGuiTreeNodeFlags_OpenOnDoubleClick)</div>
<div class="line"><a name="l06088"></a><span class="lineno"> 6088</span>&#160;        button_flags |= ImGuiButtonFlags_PressedOnClickRelease | ImGuiButtonFlags_PressedOnDoubleClick;</div>
<div class="line"><a name="l06089"></a><span class="lineno"> 6089</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l06090"></a><span class="lineno"> 6090</span>&#160;        button_flags |= ImGuiButtonFlags_PressedOnClickRelease;</div>
<div class="line"><a name="l06091"></a><span class="lineno"> 6091</span>&#160; </div>
<div class="line"><a name="l06092"></a><span class="lineno"> 6092</span>&#160;    <span class="keywordtype">bool</span> selected = (flags &amp; ImGuiTreeNodeFlags_Selected) != 0;</div>
<div class="line"><a name="l06093"></a><span class="lineno"> 6093</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> was_selected = selected;</div>
<div class="line"><a name="l06094"></a><span class="lineno"> 6094</span>&#160; </div>
<div class="line"><a name="l06095"></a><span class="lineno"> 6095</span>&#160;    <span class="keywordtype">bool</span> hovered, held;</div>
<div class="line"><a name="l06096"></a><span class="lineno"> 6096</span>&#160;    <span class="keywordtype">bool</span> pressed = ButtonBehavior(interact_bb, <span class="keywordtype">id</span>, &amp;hovered, &amp;held, button_flags);</div>
<div class="line"><a name="l06097"></a><span class="lineno"> 6097</span>&#160;    <span class="keywordtype">bool</span> toggled = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06098"></a><span class="lineno"> 6098</span>&#160;    <span class="keywordflow">if</span> (!is_leaf)</div>
<div class="line"><a name="l06099"></a><span class="lineno"> 6099</span>&#160;    {</div>
<div class="line"><a name="l06100"></a><span class="lineno"> 6100</span>&#160;        <span class="keywordflow">if</span> (pressed &amp;&amp; g.DragDropHoldJustPressedId != <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l06101"></a><span class="lineno"> 6101</span>&#160;        {</div>
<div class="line"><a name="l06102"></a><span class="lineno"> 6102</span>&#160;            <span class="keywordflow">if</span> ((flags &amp; (ImGuiTreeNodeFlags_OpenOnArrow | ImGuiTreeNodeFlags_OpenOnDoubleClick)) == 0 || (g.NavActivateId == <span class="keywordtype">id</span>))</div>
<div class="line"><a name="l06103"></a><span class="lineno"> 6103</span>&#160;                toggled = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06104"></a><span class="lineno"> 6104</span>&#160;            <span class="keywordflow">if</span> (flags &amp; ImGuiTreeNodeFlags_OpenOnArrow)</div>
<div class="line"><a name="l06105"></a><span class="lineno"> 6105</span>&#160;                toggled |= is_mouse_x_over_arrow &amp;&amp; !g.NavDisableMouseHover; <span class="comment">// Lightweight equivalent of IsMouseHoveringRect() since ButtonBehavior() already did the job</span></div>
<div class="line"><a name="l06106"></a><span class="lineno"> 6106</span>&#160;            <span class="keywordflow">if</span> ((flags &amp; ImGuiTreeNodeFlags_OpenOnDoubleClick) &amp;&amp; g.IO.MouseDoubleClicked[0])</div>
<div class="line"><a name="l06107"></a><span class="lineno"> 6107</span>&#160;                toggled = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06108"></a><span class="lineno"> 6108</span>&#160;        }</div>
<div class="line"><a name="l06109"></a><span class="lineno"> 6109</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pressed &amp;&amp; g.DragDropHoldJustPressedId == <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l06110"></a><span class="lineno"> 6110</span>&#160;        {</div>
<div class="line"><a name="l06111"></a><span class="lineno"> 6111</span>&#160;            IM_ASSERT(button_flags &amp; ImGuiButtonFlags_PressedOnDragDropHold);</div>
<div class="line"><a name="l06112"></a><span class="lineno"> 6112</span>&#160;            <span class="keywordflow">if</span> (!is_open) <span class="comment">// When using Drag and Drop &quot;hold to open&quot; we keep the node highlighted after opening, but never close it again.</span></div>
<div class="line"><a name="l06113"></a><span class="lineno"> 6113</span>&#160;                toggled = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06114"></a><span class="lineno"> 6114</span>&#160;        }</div>
<div class="line"><a name="l06115"></a><span class="lineno"> 6115</span>&#160; </div>
<div class="line"><a name="l06116"></a><span class="lineno"> 6116</span>&#160;        <span class="keywordflow">if</span> (g.NavId == <span class="keywordtype">id</span> &amp;&amp; g.NavMoveRequest &amp;&amp; g.NavMoveDir == ImGuiDir_Left &amp;&amp; is_open)</div>
<div class="line"><a name="l06117"></a><span class="lineno"> 6117</span>&#160;        {</div>
<div class="line"><a name="l06118"></a><span class="lineno"> 6118</span>&#160;            toggled = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06119"></a><span class="lineno"> 6119</span>&#160;            NavMoveRequestCancel();</div>
<div class="line"><a name="l06120"></a><span class="lineno"> 6120</span>&#160;        }</div>
<div class="line"><a name="l06121"></a><span class="lineno"> 6121</span>&#160;        <span class="keywordflow">if</span> (g.NavId == <span class="keywordtype">id</span> &amp;&amp; g.NavMoveRequest &amp;&amp; g.NavMoveDir == ImGuiDir_Right &amp;&amp; !is_open) <span class="comment">// If there&#39;s something upcoming on the line we may want to give it the priority?</span></div>
<div class="line"><a name="l06122"></a><span class="lineno"> 6122</span>&#160;        {</div>
<div class="line"><a name="l06123"></a><span class="lineno"> 6123</span>&#160;            toggled = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06124"></a><span class="lineno"> 6124</span>&#160;            NavMoveRequestCancel();</div>
<div class="line"><a name="l06125"></a><span class="lineno"> 6125</span>&#160;        }</div>
<div class="line"><a name="l06126"></a><span class="lineno"> 6126</span>&#160; </div>
<div class="line"><a name="l06127"></a><span class="lineno"> 6127</span>&#160;        <span class="keywordflow">if</span> (toggled)</div>
<div class="line"><a name="l06128"></a><span class="lineno"> 6128</span>&#160;        {</div>
<div class="line"><a name="l06129"></a><span class="lineno"> 6129</span>&#160;            is_open = !is_open;</div>
<div class="line"><a name="l06130"></a><span class="lineno"> 6130</span>&#160;            window-&gt;DC.StateStorage-&gt;SetIntUniform(<span class="keywordtype">id</span>, is_open);</div>
<div class="line"><a name="l06131"></a><span class="lineno"> 6131</span>&#160;            g.LastItemData.StatusFlags |= ImGuiItemStatusFlags_ToggledOpen;</div>
<div class="line"><a name="l06132"></a><span class="lineno"> 6132</span>&#160;        }</div>
<div class="line"><a name="l06133"></a><span class="lineno"> 6133</span>&#160;    }</div>
<div class="line"><a name="l06134"></a><span class="lineno"> 6134</span>&#160;    <span class="keywordflow">if</span> (flags &amp; ImGuiTreeNodeFlags_AllowItemOverlap)</div>
<div class="line"><a name="l06135"></a><span class="lineno"> 6135</span>&#160;        SetItemAllowOverlap();</div>
<div class="line"><a name="l06136"></a><span class="lineno"> 6136</span>&#160; </div>
<div class="line"><a name="l06137"></a><span class="lineno"> 6137</span>&#160;    <span class="comment">// In this branch, TreeNodeBehavior() cannot toggle the selection so this will never trigger.</span></div>
<div class="line"><a name="l06138"></a><span class="lineno"> 6138</span>&#160;    <span class="keywordflow">if</span> (selected != was_selected) <span class="comment">//-V547</span></div>
<div class="line"><a name="l06139"></a><span class="lineno"> 6139</span>&#160;        g.LastItemData.StatusFlags |= ImGuiItemStatusFlags_ToggledSelection;</div>
<div class="line"><a name="l06140"></a><span class="lineno"> 6140</span>&#160; </div>
<div class="line"><a name="l06141"></a><span class="lineno"> 6141</span>&#160;    <span class="comment">// Render</span></div>
<div class="line"><a name="l06142"></a><span class="lineno"> 6142</span>&#160;    <span class="keyword">const</span> ImU32 text_col = GetColorU32(ImGuiCol_Text);</div>
<div class="line"><a name="l06143"></a><span class="lineno"> 6143</span>&#160;    ImGuiNavHighlightFlags nav_highlight_flags = ImGuiNavHighlightFlags_TypeThin;</div>
<div class="line"><a name="l06144"></a><span class="lineno"> 6144</span>&#160;    <span class="keywordflow">if</span> (display_frame)</div>
<div class="line"><a name="l06145"></a><span class="lineno"> 6145</span>&#160;    {</div>
<div class="line"><a name="l06146"></a><span class="lineno"> 6146</span>&#160;        <span class="comment">// Framed type</span></div>
<div class="line"><a name="l06147"></a><span class="lineno"> 6147</span>&#160;        <span class="keyword">const</span> ImU32 bg_col = GetColorU32((held &amp;&amp; hovered) ? ImGuiCol_HeaderActive : hovered ? ImGuiCol_HeaderHovered : ImGuiCol_Header);</div>
<div class="line"><a name="l06148"></a><span class="lineno"> 6148</span>&#160;        RenderFrame(frame_bb.Min, frame_bb.Max, bg_col, <span class="keyword">true</span>, style.FrameRounding);</div>
<div class="line"><a name="l06149"></a><span class="lineno"> 6149</span>&#160;        RenderNavHighlight(frame_bb, <span class="keywordtype">id</span>, nav_highlight_flags);</div>
<div class="line"><a name="l06150"></a><span class="lineno"> 6150</span>&#160;        <span class="keywordflow">if</span> (flags &amp; ImGuiTreeNodeFlags_Bullet)</div>
<div class="line"><a name="l06151"></a><span class="lineno"> 6151</span>&#160;            RenderBullet(window-&gt;DrawList, <a class="code" href="struct_im_vec2.html">ImVec2</a>(text_pos.x - text_offset_x * 0.60f, text_pos.y + g.FontSize * 0.5f), text_col);</div>
<div class="line"><a name="l06152"></a><span class="lineno"> 6152</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!is_leaf)</div>
<div class="line"><a name="l06153"></a><span class="lineno"> 6153</span>&#160;            RenderArrow(window-&gt;DrawList, <a class="code" href="struct_im_vec2.html">ImVec2</a>(text_pos.x - text_offset_x + padding.x, text_pos.y), text_col, is_open ? ImGuiDir_Down : ImGuiDir_Right, 1.0f);</div>
<div class="line"><a name="l06154"></a><span class="lineno"> 6154</span>&#160;        <span class="keywordflow">else</span> <span class="comment">// Leaf without bullet, left-adjusted text</span></div>
<div class="line"><a name="l06155"></a><span class="lineno"> 6155</span>&#160;            text_pos.x -= text_offset_x;</div>
<div class="line"><a name="l06156"></a><span class="lineno"> 6156</span>&#160;        <span class="keywordflow">if</span> (flags &amp; ImGuiTreeNodeFlags_ClipLabelForTrailingButton)</div>
<div class="line"><a name="l06157"></a><span class="lineno"> 6157</span>&#160;            frame_bb.Max.x -= g.FontSize + style.FramePadding.x;</div>
<div class="line"><a name="l06158"></a><span class="lineno"> 6158</span>&#160; </div>
<div class="line"><a name="l06159"></a><span class="lineno"> 6159</span>&#160;        <span class="keywordflow">if</span> (g.LogEnabled)</div>
<div class="line"><a name="l06160"></a><span class="lineno"> 6160</span>&#160;            LogSetNextTextDecoration(<span class="stringliteral">&quot;###&quot;</span>, <span class="stringliteral">&quot;###&quot;</span>);</div>
<div class="line"><a name="l06161"></a><span class="lineno"> 6161</span>&#160;        RenderTextClipped(text_pos, frame_bb.Max, label, label_end, &amp;label_size);</div>
<div class="line"><a name="l06162"></a><span class="lineno"> 6162</span>&#160;    }</div>
<div class="line"><a name="l06163"></a><span class="lineno"> 6163</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l06164"></a><span class="lineno"> 6164</span>&#160;    {</div>
<div class="line"><a name="l06165"></a><span class="lineno"> 6165</span>&#160;        <span class="comment">// Unframed typed for tree nodes</span></div>
<div class="line"><a name="l06166"></a><span class="lineno"> 6166</span>&#160;        <span class="keywordflow">if</span> (hovered || selected)</div>
<div class="line"><a name="l06167"></a><span class="lineno"> 6167</span>&#160;        {</div>
<div class="line"><a name="l06168"></a><span class="lineno"> 6168</span>&#160;            <span class="keyword">const</span> ImU32 bg_col = GetColorU32((held &amp;&amp; hovered) ? ImGuiCol_HeaderActive : hovered ? ImGuiCol_HeaderHovered : ImGuiCol_Header);</div>
<div class="line"><a name="l06169"></a><span class="lineno"> 6169</span>&#160;            RenderFrame(frame_bb.Min, frame_bb.Max, bg_col, <span class="keyword">false</span>);</div>
<div class="line"><a name="l06170"></a><span class="lineno"> 6170</span>&#160;        }</div>
<div class="line"><a name="l06171"></a><span class="lineno"> 6171</span>&#160;        RenderNavHighlight(frame_bb, <span class="keywordtype">id</span>, nav_highlight_flags);</div>
<div class="line"><a name="l06172"></a><span class="lineno"> 6172</span>&#160;        <span class="keywordflow">if</span> (flags &amp; ImGuiTreeNodeFlags_Bullet)</div>
<div class="line"><a name="l06173"></a><span class="lineno"> 6173</span>&#160;            RenderBullet(window-&gt;DrawList, <a class="code" href="struct_im_vec2.html">ImVec2</a>(text_pos.x - text_offset_x * 0.5f, text_pos.y + g.FontSize * 0.5f), text_col);</div>
<div class="line"><a name="l06174"></a><span class="lineno"> 6174</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!is_leaf)</div>
<div class="line"><a name="l06175"></a><span class="lineno"> 6175</span>&#160;            RenderArrow(window-&gt;DrawList, <a class="code" href="struct_im_vec2.html">ImVec2</a>(text_pos.x - text_offset_x + padding.x, text_pos.y + g.FontSize * 0.15f), text_col, is_open ? ImGuiDir_Down : ImGuiDir_Right, 0.70f);</div>
<div class="line"><a name="l06176"></a><span class="lineno"> 6176</span>&#160;        <span class="keywordflow">if</span> (g.LogEnabled)</div>
<div class="line"><a name="l06177"></a><span class="lineno"> 6177</span>&#160;            LogSetNextTextDecoration(<span class="stringliteral">&quot;&gt;&quot;</span>, NULL);</div>
<div class="line"><a name="l06178"></a><span class="lineno"> 6178</span>&#160;        RenderText(text_pos, label, label_end, <span class="keyword">false</span>);</div>
<div class="line"><a name="l06179"></a><span class="lineno"> 6179</span>&#160;    }</div>
<div class="line"><a name="l06180"></a><span class="lineno"> 6180</span>&#160; </div>
<div class="line"><a name="l06181"></a><span class="lineno"> 6181</span>&#160;    <span class="keywordflow">if</span> (is_open &amp;&amp; !(flags &amp; ImGuiTreeNodeFlags_NoTreePushOnOpen))</div>
<div class="line"><a name="l06182"></a><span class="lineno"> 6182</span>&#160;        TreePushOverrideID(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l06183"></a><span class="lineno"> 6183</span>&#160;    IMGUI_TEST_ENGINE_ITEM_INFO(<span class="keywordtype">id</span>, label, g.LastItemData.StatusFlags | (is_leaf ? 0 : ImGuiItemStatusFlags_Openable) | (is_open ? ImGuiItemStatusFlags_Opened : 0));</div>
<div class="line"><a name="l06184"></a><span class="lineno"> 6184</span>&#160;    <span class="keywordflow">return</span> is_open;</div>
<div class="line"><a name="l06185"></a><span class="lineno"> 6185</span>&#160;}</div>
<div class="line"><a name="l06186"></a><span class="lineno"> 6186</span>&#160; </div>
<div class="line"><a name="l06187"></a><span class="lineno"> 6187</span>&#160;<span class="keywordtype">void</span> ImGui::TreePush(<span class="keyword">const</span> <span class="keywordtype">char</span> *str_id)</div>
<div class="line"><a name="l06188"></a><span class="lineno"> 6188</span>&#160;{</div>
<div class="line"><a name="l06189"></a><span class="lineno"> 6189</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l06190"></a><span class="lineno"> 6190</span>&#160;    Indent();</div>
<div class="line"><a name="l06191"></a><span class="lineno"> 6191</span>&#160;    window-&gt;DC.TreeDepth++;</div>
<div class="line"><a name="l06192"></a><span class="lineno"> 6192</span>&#160;    PushID(str_id ? str_id : <span class="stringliteral">&quot;#TreePush&quot;</span>);</div>
<div class="line"><a name="l06193"></a><span class="lineno"> 6193</span>&#160;}</div>
<div class="line"><a name="l06194"></a><span class="lineno"> 6194</span>&#160; </div>
<div class="line"><a name="l06195"></a><span class="lineno"> 6195</span>&#160;<span class="keywordtype">void</span> ImGui::TreePush(<span class="keyword">const</span> <span class="keywordtype">void</span> *ptr_id)</div>
<div class="line"><a name="l06196"></a><span class="lineno"> 6196</span>&#160;{</div>
<div class="line"><a name="l06197"></a><span class="lineno"> 6197</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l06198"></a><span class="lineno"> 6198</span>&#160;    Indent();</div>
<div class="line"><a name="l06199"></a><span class="lineno"> 6199</span>&#160;    window-&gt;DC.TreeDepth++;</div>
<div class="line"><a name="l06200"></a><span class="lineno"> 6200</span>&#160;    PushID(ptr_id ? ptr_id : (<span class="keyword">const</span> <span class="keywordtype">void</span> *)<span class="stringliteral">&quot;#TreePush&quot;</span>);</div>
<div class="line"><a name="l06201"></a><span class="lineno"> 6201</span>&#160;}</div>
<div class="line"><a name="l06202"></a><span class="lineno"> 6202</span>&#160; </div>
<div class="line"><a name="l06203"></a><span class="lineno"> 6203</span>&#160;<span class="keywordtype">void</span> ImGui::TreePushOverrideID(ImGuiID <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l06204"></a><span class="lineno"> 6204</span>&#160;{</div>
<div class="line"><a name="l06205"></a><span class="lineno"> 6205</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l06206"></a><span class="lineno"> 6206</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = g.CurrentWindow;</div>
<div class="line"><a name="l06207"></a><span class="lineno"> 6207</span>&#160;    Indent();</div>
<div class="line"><a name="l06208"></a><span class="lineno"> 6208</span>&#160;    window-&gt;DC.TreeDepth++;</div>
<div class="line"><a name="l06209"></a><span class="lineno"> 6209</span>&#160;    window-&gt;IDStack.push_back(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l06210"></a><span class="lineno"> 6210</span>&#160;}</div>
<div class="line"><a name="l06211"></a><span class="lineno"> 6211</span>&#160; </div>
<div class="line"><a name="l06212"></a><span class="lineno"> 6212</span>&#160;<span class="keywordtype">void</span> ImGui::TreePop()</div>
<div class="line"><a name="l06213"></a><span class="lineno"> 6213</span>&#160;{</div>
<div class="line"><a name="l06214"></a><span class="lineno"> 6214</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l06215"></a><span class="lineno"> 6215</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = g.CurrentWindow;</div>
<div class="line"><a name="l06216"></a><span class="lineno"> 6216</span>&#160;    Unindent();</div>
<div class="line"><a name="l06217"></a><span class="lineno"> 6217</span>&#160; </div>
<div class="line"><a name="l06218"></a><span class="lineno"> 6218</span>&#160;    window-&gt;DC.TreeDepth--;</div>
<div class="line"><a name="l06219"></a><span class="lineno"> 6219</span>&#160;    ImU32 tree_depth_mask = (1 &lt;&lt; window-&gt;DC.TreeDepth);</div>
<div class="line"><a name="l06220"></a><span class="lineno"> 6220</span>&#160; </div>
<div class="line"><a name="l06221"></a><span class="lineno"> 6221</span>&#160;    <span class="comment">// Handle Left arrow to move to parent tree node (when ImGuiTreeNodeFlags_NavLeftJumpsBackHere is enabled)</span></div>
<div class="line"><a name="l06222"></a><span class="lineno"> 6222</span>&#160;    <span class="keywordflow">if</span> (g.NavMoveDir == ImGuiDir_Left &amp;&amp; g.NavWindow == window &amp;&amp; NavMoveRequestButNoResultYet())</div>
<div class="line"><a name="l06223"></a><span class="lineno"> 6223</span>&#160;        <span class="keywordflow">if</span> (g.NavIdIsAlive &amp;&amp; (window-&gt;DC.TreeJumpToParentOnPopMask &amp; tree_depth_mask))</div>
<div class="line"><a name="l06224"></a><span class="lineno"> 6224</span>&#160;        {</div>
<div class="line"><a name="l06225"></a><span class="lineno"> 6225</span>&#160;            SetNavID(window-&gt;IDStack.back(), g.NavLayer, 0, <a class="code" href="struct_im_rect.html">ImRect</a>());</div>
<div class="line"><a name="l06226"></a><span class="lineno"> 6226</span>&#160;            NavMoveRequestCancel();</div>
<div class="line"><a name="l06227"></a><span class="lineno"> 6227</span>&#160;        }</div>
<div class="line"><a name="l06228"></a><span class="lineno"> 6228</span>&#160;    window-&gt;DC.TreeJumpToParentOnPopMask &amp;= tree_depth_mask - 1;</div>
<div class="line"><a name="l06229"></a><span class="lineno"> 6229</span>&#160; </div>
<div class="line"><a name="l06230"></a><span class="lineno"> 6230</span>&#160;    IM_ASSERT(window-&gt;IDStack.Size &gt; 1); <span class="comment">// There should always be 1 element in the IDStack (pushed during window creation). If this triggers you called TreePop/PopID too much.</span></div>
<div class="line"><a name="l06231"></a><span class="lineno"> 6231</span>&#160;    PopID();</div>
<div class="line"><a name="l06232"></a><span class="lineno"> 6232</span>&#160;}</div>
<div class="line"><a name="l06233"></a><span class="lineno"> 6233</span>&#160; </div>
<div class="line"><a name="l06234"></a><span class="lineno"> 6234</span>&#160;<span class="comment">// Horizontal distance preceding label when using TreeNode() or Bullet()</span></div>
<div class="line"><a name="l06235"></a><span class="lineno"> 6235</span>&#160;<span class="keywordtype">float</span> ImGui::GetTreeNodeToLabelSpacing()</div>
<div class="line"><a name="l06236"></a><span class="lineno"> 6236</span>&#160;{</div>
<div class="line"><a name="l06237"></a><span class="lineno"> 6237</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l06238"></a><span class="lineno"> 6238</span>&#160;    <span class="keywordflow">return</span> g.FontSize + (g.Style.FramePadding.x * 2.0f);</div>
<div class="line"><a name="l06239"></a><span class="lineno"> 6239</span>&#160;}</div>
<div class="line"><a name="l06240"></a><span class="lineno"> 6240</span>&#160; </div>
<div class="line"><a name="l06241"></a><span class="lineno"> 6241</span>&#160;<span class="comment">// Set next TreeNode/CollapsingHeader open state.</span></div>
<div class="line"><a name="l06242"></a><span class="lineno"> 6242</span>&#160;<span class="keywordtype">void</span> ImGui::SetNextItemOpen(<span class="keywordtype">bool</span> is_open, ImGuiCond cond)</div>
<div class="line"><a name="l06243"></a><span class="lineno"> 6243</span>&#160;{</div>
<div class="line"><a name="l06244"></a><span class="lineno"> 6244</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l06245"></a><span class="lineno"> 6245</span>&#160;    <span class="keywordflow">if</span> (g.CurrentWindow-&gt;SkipItems)</div>
<div class="line"><a name="l06246"></a><span class="lineno"> 6246</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06247"></a><span class="lineno"> 6247</span>&#160;    g.NextItemData.Flags |= ImGuiNextItemDataFlags_HasOpen;</div>
<div class="line"><a name="l06248"></a><span class="lineno"> 6248</span>&#160;    g.NextItemData.OpenVal = is_open;</div>
<div class="line"><a name="l06249"></a><span class="lineno"> 6249</span>&#160;    g.NextItemData.OpenCond = cond ? cond : ImGuiCond_Always;</div>
<div class="line"><a name="l06250"></a><span class="lineno"> 6250</span>&#160;}</div>
<div class="line"><a name="l06251"></a><span class="lineno"> 6251</span>&#160; </div>
<div class="line"><a name="l06252"></a><span class="lineno"> 6252</span>&#160;<span class="comment">// CollapsingHeader returns true when opened but do not indent nor push into the ID stack (because of the ImGuiTreeNodeFlags_NoTreePushOnOpen flag).</span></div>
<div class="line"><a name="l06253"></a><span class="lineno"> 6253</span>&#160;<span class="comment">// This is basically the same as calling TreeNodeEx(label, ImGuiTreeNodeFlags_CollapsingHeader). You can remove the _NoTreePushOnOpen flag if you want behavior closer to normal TreeNode().</span></div>
<div class="line"><a name="l06254"></a><span class="lineno"> 6254</span>&#160;<span class="keywordtype">bool</span> ImGui::CollapsingHeader(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, ImGuiTreeNodeFlags flags)</div>
<div class="line"><a name="l06255"></a><span class="lineno"> 6255</span>&#160;{</div>
<div class="line"><a name="l06256"></a><span class="lineno"> 6256</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l06257"></a><span class="lineno"> 6257</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l06258"></a><span class="lineno"> 6258</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06259"></a><span class="lineno"> 6259</span>&#160; </div>
<div class="line"><a name="l06260"></a><span class="lineno"> 6260</span>&#160;    <span class="keywordflow">return</span> TreeNodeBehavior(window-&gt;GetID(label), flags | ImGuiTreeNodeFlags_CollapsingHeader, label);</div>
<div class="line"><a name="l06261"></a><span class="lineno"> 6261</span>&#160;}</div>
<div class="line"><a name="l06262"></a><span class="lineno"> 6262</span>&#160; </div>
<div class="line"><a name="l06263"></a><span class="lineno"> 6263</span>&#160;<span class="comment">// p_visible == NULL                        : regular collapsing header</span></div>
<div class="line"><a name="l06264"></a><span class="lineno"> 6264</span>&#160;<span class="comment">// p_visible != NULL &amp;&amp; *p_visible == true  : show a small close button on the corner of the header, clicking the button will set *p_visible = false</span></div>
<div class="line"><a name="l06265"></a><span class="lineno"> 6265</span>&#160;<span class="comment">// p_visible != NULL &amp;&amp; *p_visible == false : do not show the header at all</span></div>
<div class="line"><a name="l06266"></a><span class="lineno"> 6266</span>&#160;<span class="comment">// Do not mistake this with the Open state of the header itself, which you can adjust with SetNextItemOpen() or ImGuiTreeNodeFlags_DefaultOpen.</span></div>
<div class="line"><a name="l06267"></a><span class="lineno"> 6267</span>&#160;<span class="keywordtype">bool</span> ImGui::CollapsingHeader(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">bool</span> *p_visible, ImGuiTreeNodeFlags flags)</div>
<div class="line"><a name="l06268"></a><span class="lineno"> 6268</span>&#160;{</div>
<div class="line"><a name="l06269"></a><span class="lineno"> 6269</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l06270"></a><span class="lineno"> 6270</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l06271"></a><span class="lineno"> 6271</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06272"></a><span class="lineno"> 6272</span>&#160; </div>
<div class="line"><a name="l06273"></a><span class="lineno"> 6273</span>&#160;    <span class="keywordflow">if</span> (p_visible &amp;&amp; !*p_visible)</div>
<div class="line"><a name="l06274"></a><span class="lineno"> 6274</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06275"></a><span class="lineno"> 6275</span>&#160; </div>
<div class="line"><a name="l06276"></a><span class="lineno"> 6276</span>&#160;    ImGuiID <span class="keywordtype">id</span> = window-&gt;GetID(label);</div>
<div class="line"><a name="l06277"></a><span class="lineno"> 6277</span>&#160;    flags |= ImGuiTreeNodeFlags_CollapsingHeader;</div>
<div class="line"><a name="l06278"></a><span class="lineno"> 6278</span>&#160;    <span class="keywordflow">if</span> (p_visible)</div>
<div class="line"><a name="l06279"></a><span class="lineno"> 6279</span>&#160;        flags |= ImGuiTreeNodeFlags_AllowItemOverlap | ImGuiTreeNodeFlags_ClipLabelForTrailingButton;</div>
<div class="line"><a name="l06280"></a><span class="lineno"> 6280</span>&#160;    <span class="keywordtype">bool</span> is_open = TreeNodeBehavior(<span class="keywordtype">id</span>, flags, label);</div>
<div class="line"><a name="l06281"></a><span class="lineno"> 6281</span>&#160;    <span class="keywordflow">if</span> (p_visible != NULL)</div>
<div class="line"><a name="l06282"></a><span class="lineno"> 6282</span>&#160;    {</div>
<div class="line"><a name="l06283"></a><span class="lineno"> 6283</span>&#160;        <span class="comment">// Create a small overlapping close button</span></div>
<div class="line"><a name="l06284"></a><span class="lineno"> 6284</span>&#160;        <span class="comment">// FIXME: We can evolve this into user accessible helpers to add extra buttons on title bars, headers, etc.</span></div>
<div class="line"><a name="l06285"></a><span class="lineno"> 6285</span>&#160;        <span class="comment">// FIXME: CloseButton can overlap into text, need find a way to clip the text somehow.</span></div>
<div class="line"><a name="l06286"></a><span class="lineno"> 6286</span>&#160;        <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l06287"></a><span class="lineno"> 6287</span>&#160;        <a class="code" href="struct_im_gui_last_item_data.html">ImGuiLastItemData</a> last_item_backup = g.LastItemData;</div>
<div class="line"><a name="l06288"></a><span class="lineno"> 6288</span>&#160;        <span class="keywordtype">float</span> button_size = g.FontSize;</div>
<div class="line"><a name="l06289"></a><span class="lineno"> 6289</span>&#160;        <span class="keywordtype">float</span> button_x = ImMax(g.LastItemData.Rect.Min.x, g.LastItemData.Rect.Max.x - g.Style.FramePadding.x * 2.0f - button_size);</div>
<div class="line"><a name="l06290"></a><span class="lineno"> 6290</span>&#160;        <span class="keywordtype">float</span> button_y = g.LastItemData.Rect.Min.y;</div>
<div class="line"><a name="l06291"></a><span class="lineno"> 6291</span>&#160;        ImGuiID close_button_id = GetIDWithSeed(<span class="stringliteral">&quot;#CLOSE&quot;</span>, NULL, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l06292"></a><span class="lineno"> 6292</span>&#160;        <span class="keywordflow">if</span> (CloseButton(close_button_id, <a class="code" href="struct_im_vec2.html">ImVec2</a>(button_x, button_y)))</div>
<div class="line"><a name="l06293"></a><span class="lineno"> 6293</span>&#160;            *p_visible = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06294"></a><span class="lineno"> 6294</span>&#160;        g.LastItemData = last_item_backup;</div>
<div class="line"><a name="l06295"></a><span class="lineno"> 6295</span>&#160;    }</div>
<div class="line"><a name="l06296"></a><span class="lineno"> 6296</span>&#160; </div>
<div class="line"><a name="l06297"></a><span class="lineno"> 6297</span>&#160;    <span class="keywordflow">return</span> is_open;</div>
<div class="line"><a name="l06298"></a><span class="lineno"> 6298</span>&#160;}</div>
<div class="line"><a name="l06299"></a><span class="lineno"> 6299</span>&#160; </div>
<div class="line"><a name="l06300"></a><span class="lineno"> 6300</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l06301"></a><span class="lineno"> 6301</span>&#160;<span class="comment">// [SECTION] Widgets: Selectable</span></div>
<div class="line"><a name="l06302"></a><span class="lineno"> 6302</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l06303"></a><span class="lineno"> 6303</span>&#160;<span class="comment">// - Selectable()</span></div>
<div class="line"><a name="l06304"></a><span class="lineno"> 6304</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l06305"></a><span class="lineno"> 6305</span>&#160; </div>
<div class="line"><a name="l06306"></a><span class="lineno"> 6306</span>&#160;<span class="comment">// Tip: pass a non-visible label (e.g. &quot;##hello&quot;) then you can use the space to draw other text or image.</span></div>
<div class="line"><a name="l06307"></a><span class="lineno"> 6307</span>&#160;<span class="comment">// But you need to make sure the ID is unique, e.g. enclose calls in PushID/PopID or use ##unique_id.</span></div>
<div class="line"><a name="l06308"></a><span class="lineno"> 6308</span>&#160;<span class="comment">// With this scheme, ImGuiSelectableFlags_SpanAllColumns and ImGuiSelectableFlags_AllowItemOverlap are also frequently used flags.</span></div>
<div class="line"><a name="l06309"></a><span class="lineno"> 6309</span>&#160;<span class="comment">// FIXME: Selectable() with (size.x == 0.0f) and (SelectableTextAlign.x &gt; 0.0f) followed by SameLine() is currently not supported.</span></div>
<div class="line"><a name="l06310"></a><span class="lineno"> 6310</span>&#160;<span class="keywordtype">bool</span> ImGui::Selectable(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">bool</span> selected, ImGuiSelectableFlags flags, <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> &amp;size_arg)</div>
<div class="line"><a name="l06311"></a><span class="lineno"> 6311</span>&#160;{</div>
<div class="line"><a name="l06312"></a><span class="lineno"> 6312</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l06313"></a><span class="lineno"> 6313</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l06314"></a><span class="lineno"> 6314</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06315"></a><span class="lineno"> 6315</span>&#160; </div>
<div class="line"><a name="l06316"></a><span class="lineno"> 6316</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l06317"></a><span class="lineno"> 6317</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_gui_style.html">ImGuiStyle</a> &amp;style = g.Style;</div>
<div class="line"><a name="l06318"></a><span class="lineno"> 6318</span>&#160; </div>
<div class="line"><a name="l06319"></a><span class="lineno"> 6319</span>&#160;    <span class="comment">// Submit label or explicit size to ItemSize(), whereas ItemAdd() will submit a larger/spanning rectangle.</span></div>
<div class="line"><a name="l06320"></a><span class="lineno"> 6320</span>&#160;    ImGuiID <span class="keywordtype">id</span> = window-&gt;GetID(label);</div>
<div class="line"><a name="l06321"></a><span class="lineno"> 6321</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> label_size = CalcTextSize(label, NULL, <span class="keyword">true</span>);</div>
<div class="line"><a name="l06322"></a><span class="lineno"> 6322</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> size(size_arg.x != 0.0f ? size_arg.x : label_size.x, size_arg.y != 0.0f ? size_arg.y : label_size.y);</div>
<div class="line"><a name="l06323"></a><span class="lineno"> 6323</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> pos = window-&gt;DC.CursorPos;</div>
<div class="line"><a name="l06324"></a><span class="lineno"> 6324</span>&#160;    pos.y += window-&gt;DC.CurrLineTextBaseOffset;</div>
<div class="line"><a name="l06325"></a><span class="lineno"> 6325</span>&#160;    ItemSize(size, 0.0f);</div>
<div class="line"><a name="l06326"></a><span class="lineno"> 6326</span>&#160; </div>
<div class="line"><a name="l06327"></a><span class="lineno"> 6327</span>&#160;    <span class="comment">// Fill horizontal space</span></div>
<div class="line"><a name="l06328"></a><span class="lineno"> 6328</span>&#160;    <span class="comment">// We don&#39;t support (size &lt; 0.0f) in Selectable() because the ItemSpacing extension would make explicitly right-aligned sizes not visibly match other widgets.</span></div>
<div class="line"><a name="l06329"></a><span class="lineno"> 6329</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> span_all_columns = (flags &amp; ImGuiSelectableFlags_SpanAllColumns) != 0;</div>
<div class="line"><a name="l06330"></a><span class="lineno"> 6330</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> min_x = span_all_columns ? window-&gt;ParentWorkRect.Min.x : pos.x;</div>
<div class="line"><a name="l06331"></a><span class="lineno"> 6331</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> max_x = span_all_columns ? window-&gt;ParentWorkRect.Max.x : window-&gt;WorkRect.Max.x;</div>
<div class="line"><a name="l06332"></a><span class="lineno"> 6332</span>&#160;    <span class="keywordflow">if</span> (size_arg.x == 0.0f || (flags &amp; ImGuiSelectableFlags_SpanAvailWidth))</div>
<div class="line"><a name="l06333"></a><span class="lineno"> 6333</span>&#160;        size.x = ImMax(label_size.x, max_x - min_x);</div>
<div class="line"><a name="l06334"></a><span class="lineno"> 6334</span>&#160; </div>
<div class="line"><a name="l06335"></a><span class="lineno"> 6335</span>&#160;    <span class="comment">// Text stays at the submission position, but bounding box may be extended on both sides</span></div>
<div class="line"><a name="l06336"></a><span class="lineno"> 6336</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> text_min = pos;</div>
<div class="line"><a name="l06337"></a><span class="lineno"> 6337</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> text_max(min_x + size.x, pos.y + size.y);</div>
<div class="line"><a name="l06338"></a><span class="lineno"> 6338</span>&#160; </div>
<div class="line"><a name="l06339"></a><span class="lineno"> 6339</span>&#160;    <span class="comment">// Selectables are meant to be tightly packed together with no click-gap, so we extend their box to cover spacing between selectable.</span></div>
<div class="line"><a name="l06340"></a><span class="lineno"> 6340</span>&#160;    <a class="code" href="struct_im_rect.html">ImRect</a> bb(min_x, pos.y, text_max.x, text_max.y);</div>
<div class="line"><a name="l06341"></a><span class="lineno"> 6341</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; ImGuiSelectableFlags_NoPadWithHalfSpacing) == 0)</div>
<div class="line"><a name="l06342"></a><span class="lineno"> 6342</span>&#160;    {</div>
<div class="line"><a name="l06343"></a><span class="lineno"> 6343</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> spacing_x = span_all_columns ? 0.0f : style.ItemSpacing.x;</div>
<div class="line"><a name="l06344"></a><span class="lineno"> 6344</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> spacing_y = style.ItemSpacing.y;</div>
<div class="line"><a name="l06345"></a><span class="lineno"> 6345</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> spacing_L = IM_FLOOR(spacing_x * 0.50f);</div>
<div class="line"><a name="l06346"></a><span class="lineno"> 6346</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> spacing_U = IM_FLOOR(spacing_y * 0.50f);</div>
<div class="line"><a name="l06347"></a><span class="lineno"> 6347</span>&#160;        bb.Min.x -= spacing_L;</div>
<div class="line"><a name="l06348"></a><span class="lineno"> 6348</span>&#160;        bb.Min.y -= spacing_U;</div>
<div class="line"><a name="l06349"></a><span class="lineno"> 6349</span>&#160;        bb.Max.x += (spacing_x - spacing_L);</div>
<div class="line"><a name="l06350"></a><span class="lineno"> 6350</span>&#160;        bb.Max.y += (spacing_y - spacing_U);</div>
<div class="line"><a name="l06351"></a><span class="lineno"> 6351</span>&#160;    }</div>
<div class="line"><a name="l06352"></a><span class="lineno"> 6352</span>&#160;    <span class="comment">//if (g.IO.KeyCtrl) { GetForegroundDrawList()-&gt;AddRect(bb.Min, bb.Max, IM_COL32(0, 255, 0, 255)); }</span></div>
<div class="line"><a name="l06353"></a><span class="lineno"> 6353</span>&#160; </div>
<div class="line"><a name="l06354"></a><span class="lineno"> 6354</span>&#160;    <span class="comment">// Modify ClipRect for the ItemAdd(), faster than doing a PushColumnsBackground/PushTableBackground for every Selectable..</span></div>
<div class="line"><a name="l06355"></a><span class="lineno"> 6355</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> backup_clip_rect_min_x = window-&gt;ClipRect.Min.x;</div>
<div class="line"><a name="l06356"></a><span class="lineno"> 6356</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> backup_clip_rect_max_x = window-&gt;ClipRect.Max.x;</div>
<div class="line"><a name="l06357"></a><span class="lineno"> 6357</span>&#160;    <span class="keywordflow">if</span> (span_all_columns)</div>
<div class="line"><a name="l06358"></a><span class="lineno"> 6358</span>&#160;    {</div>
<div class="line"><a name="l06359"></a><span class="lineno"> 6359</span>&#160;        window-&gt;ClipRect.Min.x = window-&gt;ParentWorkRect.Min.x;</div>
<div class="line"><a name="l06360"></a><span class="lineno"> 6360</span>&#160;        window-&gt;ClipRect.Max.x = window-&gt;ParentWorkRect.Max.x;</div>
<div class="line"><a name="l06361"></a><span class="lineno"> 6361</span>&#160;    }</div>
<div class="line"><a name="l06362"></a><span class="lineno"> 6362</span>&#160; </div>
<div class="line"><a name="l06363"></a><span class="lineno"> 6363</span>&#160;    <span class="keywordtype">bool</span> item_add;</div>
<div class="line"><a name="l06364"></a><span class="lineno"> 6364</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> disabled_item = (flags &amp; ImGuiSelectableFlags_Disabled) != 0;</div>
<div class="line"><a name="l06365"></a><span class="lineno"> 6365</span>&#160;    <span class="keywordflow">if</span> (disabled_item)</div>
<div class="line"><a name="l06366"></a><span class="lineno"> 6366</span>&#160;    {</div>
<div class="line"><a name="l06367"></a><span class="lineno"> 6367</span>&#160;        ImGuiItemFlags backup_item_flags = g.CurrentItemFlags;</div>
<div class="line"><a name="l06368"></a><span class="lineno"> 6368</span>&#160;        g.CurrentItemFlags |= ImGuiItemFlags_Disabled;</div>
<div class="line"><a name="l06369"></a><span class="lineno"> 6369</span>&#160;        item_add = ItemAdd(bb, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l06370"></a><span class="lineno"> 6370</span>&#160;        g.CurrentItemFlags = backup_item_flags;</div>
<div class="line"><a name="l06371"></a><span class="lineno"> 6371</span>&#160;    }</div>
<div class="line"><a name="l06372"></a><span class="lineno"> 6372</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l06373"></a><span class="lineno"> 6373</span>&#160;    {</div>
<div class="line"><a name="l06374"></a><span class="lineno"> 6374</span>&#160;        item_add = ItemAdd(bb, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l06375"></a><span class="lineno"> 6375</span>&#160;    }</div>
<div class="line"><a name="l06376"></a><span class="lineno"> 6376</span>&#160; </div>
<div class="line"><a name="l06377"></a><span class="lineno"> 6377</span>&#160;    <span class="keywordflow">if</span> (span_all_columns)</div>
<div class="line"><a name="l06378"></a><span class="lineno"> 6378</span>&#160;    {</div>
<div class="line"><a name="l06379"></a><span class="lineno"> 6379</span>&#160;        window-&gt;ClipRect.Min.x = backup_clip_rect_min_x;</div>
<div class="line"><a name="l06380"></a><span class="lineno"> 6380</span>&#160;        window-&gt;ClipRect.Max.x = backup_clip_rect_max_x;</div>
<div class="line"><a name="l06381"></a><span class="lineno"> 6381</span>&#160;    }</div>
<div class="line"><a name="l06382"></a><span class="lineno"> 6382</span>&#160; </div>
<div class="line"><a name="l06383"></a><span class="lineno"> 6383</span>&#160;    <span class="keywordflow">if</span> (!item_add)</div>
<div class="line"><a name="l06384"></a><span class="lineno"> 6384</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06385"></a><span class="lineno"> 6385</span>&#160; </div>
<div class="line"><a name="l06386"></a><span class="lineno"> 6386</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> disabled_global = (g.CurrentItemFlags &amp; ImGuiItemFlags_Disabled) != 0;</div>
<div class="line"><a name="l06387"></a><span class="lineno"> 6387</span>&#160;    <span class="keywordflow">if</span> (disabled_item &amp;&amp; !disabled_global) <span class="comment">// Only testing this as an optimization</span></div>
<div class="line"><a name="l06388"></a><span class="lineno"> 6388</span>&#160;        BeginDisabled(<span class="keyword">true</span>);</div>
<div class="line"><a name="l06389"></a><span class="lineno"> 6389</span>&#160; </div>
<div class="line"><a name="l06390"></a><span class="lineno"> 6390</span>&#160;    <span class="comment">// FIXME: We can standardize the behavior of those two, we could also keep the fast path of override ClipRect + full push on render only,</span></div>
<div class="line"><a name="l06391"></a><span class="lineno"> 6391</span>&#160;    <span class="comment">// which would be advantageous since most selectable are not selected.</span></div>
<div class="line"><a name="l06392"></a><span class="lineno"> 6392</span>&#160;    <span class="keywordflow">if</span> (span_all_columns &amp;&amp; window-&gt;DC.CurrentColumns)</div>
<div class="line"><a name="l06393"></a><span class="lineno"> 6393</span>&#160;        PushColumnsBackground();</div>
<div class="line"><a name="l06394"></a><span class="lineno"> 6394</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (span_all_columns &amp;&amp; g.CurrentTable)</div>
<div class="line"><a name="l06395"></a><span class="lineno"> 6395</span>&#160;        TablePushBackgroundChannel();</div>
<div class="line"><a name="l06396"></a><span class="lineno"> 6396</span>&#160; </div>
<div class="line"><a name="l06397"></a><span class="lineno"> 6397</span>&#160;    <span class="comment">// We use NoHoldingActiveID on menus so user can click and _hold_ on a menu then drag to browse child entries</span></div>
<div class="line"><a name="l06398"></a><span class="lineno"> 6398</span>&#160;    ImGuiButtonFlags button_flags = 0;</div>
<div class="line"><a name="l06399"></a><span class="lineno"> 6399</span>&#160;    <span class="keywordflow">if</span> (flags &amp; ImGuiSelectableFlags_NoHoldingActiveID)</div>
<div class="line"><a name="l06400"></a><span class="lineno"> 6400</span>&#160;    {</div>
<div class="line"><a name="l06401"></a><span class="lineno"> 6401</span>&#160;        button_flags |= ImGuiButtonFlags_NoHoldingActiveId;</div>
<div class="line"><a name="l06402"></a><span class="lineno"> 6402</span>&#160;    }</div>
<div class="line"><a name="l06403"></a><span class="lineno"> 6403</span>&#160;    <span class="keywordflow">if</span> (flags &amp; ImGuiSelectableFlags_SelectOnClick)</div>
<div class="line"><a name="l06404"></a><span class="lineno"> 6404</span>&#160;    {</div>
<div class="line"><a name="l06405"></a><span class="lineno"> 6405</span>&#160;        button_flags |= ImGuiButtonFlags_PressedOnClick;</div>
<div class="line"><a name="l06406"></a><span class="lineno"> 6406</span>&#160;    }</div>
<div class="line"><a name="l06407"></a><span class="lineno"> 6407</span>&#160;    <span class="keywordflow">if</span> (flags &amp; ImGuiSelectableFlags_SelectOnRelease)</div>
<div class="line"><a name="l06408"></a><span class="lineno"> 6408</span>&#160;    {</div>
<div class="line"><a name="l06409"></a><span class="lineno"> 6409</span>&#160;        button_flags |= ImGuiButtonFlags_PressedOnRelease;</div>
<div class="line"><a name="l06410"></a><span class="lineno"> 6410</span>&#160;    }</div>
<div class="line"><a name="l06411"></a><span class="lineno"> 6411</span>&#160;    <span class="keywordflow">if</span> (flags &amp; ImGuiSelectableFlags_AllowDoubleClick)</div>
<div class="line"><a name="l06412"></a><span class="lineno"> 6412</span>&#160;    {</div>
<div class="line"><a name="l06413"></a><span class="lineno"> 6413</span>&#160;        button_flags |= ImGuiButtonFlags_PressedOnClickRelease | ImGuiButtonFlags_PressedOnDoubleClick;</div>
<div class="line"><a name="l06414"></a><span class="lineno"> 6414</span>&#160;    }</div>
<div class="line"><a name="l06415"></a><span class="lineno"> 6415</span>&#160;    <span class="keywordflow">if</span> (flags &amp; ImGuiSelectableFlags_AllowItemOverlap)</div>
<div class="line"><a name="l06416"></a><span class="lineno"> 6416</span>&#160;    {</div>
<div class="line"><a name="l06417"></a><span class="lineno"> 6417</span>&#160;        button_flags |= ImGuiButtonFlags_AllowItemOverlap;</div>
<div class="line"><a name="l06418"></a><span class="lineno"> 6418</span>&#160;    }</div>
<div class="line"><a name="l06419"></a><span class="lineno"> 6419</span>&#160; </div>
<div class="line"><a name="l06420"></a><span class="lineno"> 6420</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> was_selected = selected;</div>
<div class="line"><a name="l06421"></a><span class="lineno"> 6421</span>&#160;    <span class="keywordtype">bool</span> hovered, held;</div>
<div class="line"><a name="l06422"></a><span class="lineno"> 6422</span>&#160;    <span class="keywordtype">bool</span> pressed = ButtonBehavior(bb, <span class="keywordtype">id</span>, &amp;hovered, &amp;held, button_flags);</div>
<div class="line"><a name="l06423"></a><span class="lineno"> 6423</span>&#160; </div>
<div class="line"><a name="l06424"></a><span class="lineno"> 6424</span>&#160;    <span class="comment">// Auto-select when moved into</span></div>
<div class="line"><a name="l06425"></a><span class="lineno"> 6425</span>&#160;    <span class="comment">// - This will be more fully fleshed in the range-select branch</span></div>
<div class="line"><a name="l06426"></a><span class="lineno"> 6426</span>&#160;    <span class="comment">// - This is not exposed as it won&#39;t nicely work with some user side handling of shift/control</span></div>
<div class="line"><a name="l06427"></a><span class="lineno"> 6427</span>&#160;    <span class="comment">// - We cannot do &#39;if (g.NavJustMovedToId != id) { selected = false; pressed = was_selected; }&#39; for two reasons</span></div>
<div class="line"><a name="l06428"></a><span class="lineno"> 6428</span>&#160;    <span class="comment">//   - (1) it would require focus scope to be set, need exposing PushFocusScope() or equivalent (e.g. BeginSelection() calling PushFocusScope())</span></div>
<div class="line"><a name="l06429"></a><span class="lineno"> 6429</span>&#160;    <span class="comment">//   - (2) usage will fail with clipped items</span></div>
<div class="line"><a name="l06430"></a><span class="lineno"> 6430</span>&#160;    <span class="comment">//   The multi-select API aim to fix those issues, e.g. may be replaced with a BeginSelection() API.</span></div>
<div class="line"><a name="l06431"></a><span class="lineno"> 6431</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; ImGuiSelectableFlags_SelectOnNav) &amp;&amp; g.NavJustMovedToId != 0 &amp;&amp; g.NavJustMovedToFocusScopeId == window-&gt;DC.NavFocusScopeIdCurrent)</div>
<div class="line"><a name="l06432"></a><span class="lineno"> 6432</span>&#160;        <span class="keywordflow">if</span> (g.NavJustMovedToId == <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l06433"></a><span class="lineno"> 6433</span>&#160;            selected = pressed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06434"></a><span class="lineno"> 6434</span>&#160; </div>
<div class="line"><a name="l06435"></a><span class="lineno"> 6435</span>&#160;    <span class="comment">// Update NavId when clicking or when Hovering (this doesn&#39;t happen on most widgets), so navigation can be resumed with gamepad/keyboard</span></div>
<div class="line"><a name="l06436"></a><span class="lineno"> 6436</span>&#160;    <span class="keywordflow">if</span> (pressed || (hovered &amp;&amp; (flags &amp; ImGuiSelectableFlags_SetNavIdOnHover)))</div>
<div class="line"><a name="l06437"></a><span class="lineno"> 6437</span>&#160;    {</div>
<div class="line"><a name="l06438"></a><span class="lineno"> 6438</span>&#160;        <span class="keywordflow">if</span> (!g.NavDisableMouseHover &amp;&amp; g.NavWindow == window &amp;&amp; g.NavLayer == window-&gt;DC.NavLayerCurrent)</div>
<div class="line"><a name="l06439"></a><span class="lineno"> 6439</span>&#160;        {</div>
<div class="line"><a name="l06440"></a><span class="lineno"> 6440</span>&#160;            SetNavID(<span class="keywordtype">id</span>, window-&gt;DC.NavLayerCurrent, window-&gt;DC.NavFocusScopeIdCurrent, <a class="code" href="struct_im_rect.html">ImRect</a>(bb.Min - window-&gt;Pos, bb.Max - window-&gt;Pos));</div>
<div class="line"><a name="l06441"></a><span class="lineno"> 6441</span>&#160;            g.NavDisableHighlight = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06442"></a><span class="lineno"> 6442</span>&#160;        }</div>
<div class="line"><a name="l06443"></a><span class="lineno"> 6443</span>&#160;    }</div>
<div class="line"><a name="l06444"></a><span class="lineno"> 6444</span>&#160;    <span class="keywordflow">if</span> (pressed)</div>
<div class="line"><a name="l06445"></a><span class="lineno"> 6445</span>&#160;        MarkItemEdited(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l06446"></a><span class="lineno"> 6446</span>&#160; </div>
<div class="line"><a name="l06447"></a><span class="lineno"> 6447</span>&#160;    <span class="keywordflow">if</span> (flags &amp; ImGuiSelectableFlags_AllowItemOverlap)</div>
<div class="line"><a name="l06448"></a><span class="lineno"> 6448</span>&#160;        SetItemAllowOverlap();</div>
<div class="line"><a name="l06449"></a><span class="lineno"> 6449</span>&#160; </div>
<div class="line"><a name="l06450"></a><span class="lineno"> 6450</span>&#160;    <span class="comment">// In this branch, Selectable() cannot toggle the selection so this will never trigger.</span></div>
<div class="line"><a name="l06451"></a><span class="lineno"> 6451</span>&#160;    <span class="keywordflow">if</span> (selected != was_selected) <span class="comment">//-V547</span></div>
<div class="line"><a name="l06452"></a><span class="lineno"> 6452</span>&#160;        g.LastItemData.StatusFlags |= ImGuiItemStatusFlags_ToggledSelection;</div>
<div class="line"><a name="l06453"></a><span class="lineno"> 6453</span>&#160; </div>
<div class="line"><a name="l06454"></a><span class="lineno"> 6454</span>&#160;    <span class="comment">// Render</span></div>
<div class="line"><a name="l06455"></a><span class="lineno"> 6455</span>&#160;    <span class="keywordflow">if</span> (held &amp;&amp; (flags &amp; ImGuiSelectableFlags_DrawHoveredWhenHeld))</div>
<div class="line"><a name="l06456"></a><span class="lineno"> 6456</span>&#160;        hovered = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06457"></a><span class="lineno"> 6457</span>&#160;    <span class="keywordflow">if</span> (hovered || selected)</div>
<div class="line"><a name="l06458"></a><span class="lineno"> 6458</span>&#160;    {</div>
<div class="line"><a name="l06459"></a><span class="lineno"> 6459</span>&#160;        <span class="keyword">const</span> ImU32 col = GetColorU32((held &amp;&amp; hovered) ? ImGuiCol_HeaderActive : hovered ? ImGuiCol_HeaderHovered : ImGuiCol_Header);</div>
<div class="line"><a name="l06460"></a><span class="lineno"> 6460</span>&#160;        RenderFrame(bb.Min, bb.Max, col, <span class="keyword">false</span>, 0.0f);</div>
<div class="line"><a name="l06461"></a><span class="lineno"> 6461</span>&#160;    }</div>
<div class="line"><a name="l06462"></a><span class="lineno"> 6462</span>&#160;    RenderNavHighlight(bb, <span class="keywordtype">id</span>, ImGuiNavHighlightFlags_TypeThin | ImGuiNavHighlightFlags_NoRounding);</div>
<div class="line"><a name="l06463"></a><span class="lineno"> 6463</span>&#160; </div>
<div class="line"><a name="l06464"></a><span class="lineno"> 6464</span>&#160;    <span class="keywordflow">if</span> (span_all_columns &amp;&amp; window-&gt;DC.CurrentColumns)</div>
<div class="line"><a name="l06465"></a><span class="lineno"> 6465</span>&#160;        PopColumnsBackground();</div>
<div class="line"><a name="l06466"></a><span class="lineno"> 6466</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (span_all_columns &amp;&amp; g.CurrentTable)</div>
<div class="line"><a name="l06467"></a><span class="lineno"> 6467</span>&#160;        TablePopBackgroundChannel();</div>
<div class="line"><a name="l06468"></a><span class="lineno"> 6468</span>&#160; </div>
<div class="line"><a name="l06469"></a><span class="lineno"> 6469</span>&#160;    RenderTextClipped(text_min, text_max, label, NULL, &amp;label_size, style.SelectableTextAlign, &amp;bb);</div>
<div class="line"><a name="l06470"></a><span class="lineno"> 6470</span>&#160; </div>
<div class="line"><a name="l06471"></a><span class="lineno"> 6471</span>&#160;    <span class="comment">// Automatically close popups</span></div>
<div class="line"><a name="l06472"></a><span class="lineno"> 6472</span>&#160;    <span class="keywordflow">if</span> (pressed &amp;&amp; (window-&gt;Flags &amp; ImGuiWindowFlags_Popup) &amp;&amp; !(flags &amp; ImGuiSelectableFlags_DontClosePopups) &amp;&amp; !(g.LastItemData.InFlags &amp; ImGuiItemFlags_SelectableDontClosePopup))</div>
<div class="line"><a name="l06473"></a><span class="lineno"> 6473</span>&#160;        CloseCurrentPopup();</div>
<div class="line"><a name="l06474"></a><span class="lineno"> 6474</span>&#160; </div>
<div class="line"><a name="l06475"></a><span class="lineno"> 6475</span>&#160;    <span class="keywordflow">if</span> (disabled_item &amp;&amp; !disabled_global)</div>
<div class="line"><a name="l06476"></a><span class="lineno"> 6476</span>&#160;        EndDisabled();</div>
<div class="line"><a name="l06477"></a><span class="lineno"> 6477</span>&#160; </div>
<div class="line"><a name="l06478"></a><span class="lineno"> 6478</span>&#160;    IMGUI_TEST_ENGINE_ITEM_INFO(<span class="keywordtype">id</span>, label, g.LastItemData.StatusFlags);</div>
<div class="line"><a name="l06479"></a><span class="lineno"> 6479</span>&#160;    <span class="keywordflow">return</span> pressed; <span class="comment">//-V1020</span></div>
<div class="line"><a name="l06480"></a><span class="lineno"> 6480</span>&#160;}</div>
<div class="line"><a name="l06481"></a><span class="lineno"> 6481</span>&#160; </div>
<div class="line"><a name="l06482"></a><span class="lineno"> 6482</span>&#160;<span class="keywordtype">bool</span> ImGui::Selectable(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">bool</span> *p_selected, ImGuiSelectableFlags flags, <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> &amp;size_arg)</div>
<div class="line"><a name="l06483"></a><span class="lineno"> 6483</span>&#160;{</div>
<div class="line"><a name="l06484"></a><span class="lineno"> 6484</span>&#160;    <span class="keywordflow">if</span> (Selectable(label, *p_selected, flags, size_arg))</div>
<div class="line"><a name="l06485"></a><span class="lineno"> 6485</span>&#160;    {</div>
<div class="line"><a name="l06486"></a><span class="lineno"> 6486</span>&#160;        *p_selected = !*p_selected;</div>
<div class="line"><a name="l06487"></a><span class="lineno"> 6487</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06488"></a><span class="lineno"> 6488</span>&#160;    }</div>
<div class="line"><a name="l06489"></a><span class="lineno"> 6489</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06490"></a><span class="lineno"> 6490</span>&#160;}</div>
<div class="line"><a name="l06491"></a><span class="lineno"> 6491</span>&#160; </div>
<div class="line"><a name="l06492"></a><span class="lineno"> 6492</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l06493"></a><span class="lineno"> 6493</span>&#160;<span class="comment">// [SECTION] Widgets: ListBox</span></div>
<div class="line"><a name="l06494"></a><span class="lineno"> 6494</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l06495"></a><span class="lineno"> 6495</span>&#160;<span class="comment">// - BeginListBox()</span></div>
<div class="line"><a name="l06496"></a><span class="lineno"> 6496</span>&#160;<span class="comment">// - EndListBox()</span></div>
<div class="line"><a name="l06497"></a><span class="lineno"> 6497</span>&#160;<span class="comment">// - ListBox()</span></div>
<div class="line"><a name="l06498"></a><span class="lineno"> 6498</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l06499"></a><span class="lineno"> 6499</span>&#160; </div>
<div class="line"><a name="l06500"></a><span class="lineno"> 6500</span>&#160;<span class="comment">// Tip: To have a list filling the entire window width, use size.x = -FLT_MIN and pass an non-visible label e.g. &quot;##empty&quot;</span></div>
<div class="line"><a name="l06501"></a><span class="lineno"> 6501</span>&#160;<span class="comment">// Tip: If your vertical size is calculated from an item count (e.g. 10 * item_height) consider adding a fractional part to facilitate seeing scrolling boundaries (e.g. 10.25 * item_height).</span></div>
<div class="line"><a name="l06502"></a><span class="lineno"> 6502</span>&#160;<span class="keywordtype">bool</span> ImGui::BeginListBox(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> &amp;size_arg)</div>
<div class="line"><a name="l06503"></a><span class="lineno"> 6503</span>&#160;{</div>
<div class="line"><a name="l06504"></a><span class="lineno"> 6504</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l06505"></a><span class="lineno"> 6505</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l06506"></a><span class="lineno"> 6506</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l06507"></a><span class="lineno"> 6507</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06508"></a><span class="lineno"> 6508</span>&#160; </div>
<div class="line"><a name="l06509"></a><span class="lineno"> 6509</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_gui_style.html">ImGuiStyle</a> &amp;style = g.Style;</div>
<div class="line"><a name="l06510"></a><span class="lineno"> 6510</span>&#160;    <span class="keyword">const</span> ImGuiID <span class="keywordtype">id</span> = GetID(label);</div>
<div class="line"><a name="l06511"></a><span class="lineno"> 6511</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> label_size = CalcTextSize(label, NULL, <span class="keyword">true</span>);</div>
<div class="line"><a name="l06512"></a><span class="lineno"> 6512</span>&#160; </div>
<div class="line"><a name="l06513"></a><span class="lineno"> 6513</span>&#160;    <span class="comment">// Size default to hold ~7.25 items.</span></div>
<div class="line"><a name="l06514"></a><span class="lineno"> 6514</span>&#160;    <span class="comment">// Fractional number of items helps seeing that we can scroll down/up without looking at scrollbar.</span></div>
<div class="line"><a name="l06515"></a><span class="lineno"> 6515</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> size = ImFloor(CalcItemSize(size_arg, CalcItemWidth(), GetTextLineHeightWithSpacing() * 7.25f + style.FramePadding.y * 2.0f));</div>
<div class="line"><a name="l06516"></a><span class="lineno"> 6516</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> frame_size = <a class="code" href="struct_im_vec2.html">ImVec2</a>(size.x, ImMax(size.y, label_size.y));</div>
<div class="line"><a name="l06517"></a><span class="lineno"> 6517</span>&#160;    <a class="code" href="struct_im_rect.html">ImRect</a> frame_bb(window-&gt;DC.CursorPos, window-&gt;DC.CursorPos + frame_size);</div>
<div class="line"><a name="l06518"></a><span class="lineno"> 6518</span>&#160;    <a class="code" href="struct_im_rect.html">ImRect</a> bb(frame_bb.Min, frame_bb.Max + <a class="code" href="struct_im_vec2.html">ImVec2</a>(label_size.x &gt; 0.0f ? style.ItemInnerSpacing.x + label_size.x : 0.0f, 0.0f));</div>
<div class="line"><a name="l06519"></a><span class="lineno"> 6519</span>&#160;    g.NextItemData.ClearFlags();</div>
<div class="line"><a name="l06520"></a><span class="lineno"> 6520</span>&#160; </div>
<div class="line"><a name="l06521"></a><span class="lineno"> 6521</span>&#160;    <span class="keywordflow">if</span> (!IsRectVisible(bb.Min, bb.Max))</div>
<div class="line"><a name="l06522"></a><span class="lineno"> 6522</span>&#160;    {</div>
<div class="line"><a name="l06523"></a><span class="lineno"> 6523</span>&#160;        ItemSize(bb.GetSize(), style.FramePadding.y);</div>
<div class="line"><a name="l06524"></a><span class="lineno"> 6524</span>&#160;        ItemAdd(bb, 0, &amp;frame_bb);</div>
<div class="line"><a name="l06525"></a><span class="lineno"> 6525</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06526"></a><span class="lineno"> 6526</span>&#160;    }</div>
<div class="line"><a name="l06527"></a><span class="lineno"> 6527</span>&#160; </div>
<div class="line"><a name="l06528"></a><span class="lineno"> 6528</span>&#160;    <span class="comment">// FIXME-OPT: We could omit the BeginGroup() if label_size.x but would need to omit the EndGroup() as well.</span></div>
<div class="line"><a name="l06529"></a><span class="lineno"> 6529</span>&#160;    BeginGroup();</div>
<div class="line"><a name="l06530"></a><span class="lineno"> 6530</span>&#160;    <span class="keywordflow">if</span> (label_size.x &gt; 0.0f)</div>
<div class="line"><a name="l06531"></a><span class="lineno"> 6531</span>&#160;    {</div>
<div class="line"><a name="l06532"></a><span class="lineno"> 6532</span>&#160;        <a class="code" href="struct_im_vec2.html">ImVec2</a> label_pos = <a class="code" href="struct_im_vec2.html">ImVec2</a>(frame_bb.Max.x + style.ItemInnerSpacing.x, frame_bb.Min.y + style.FramePadding.y);</div>
<div class="line"><a name="l06533"></a><span class="lineno"> 6533</span>&#160;        RenderText(label_pos, label);</div>
<div class="line"><a name="l06534"></a><span class="lineno"> 6534</span>&#160;        window-&gt;DC.CursorMaxPos = ImMax(window-&gt;DC.CursorMaxPos, label_pos + label_size);</div>
<div class="line"><a name="l06535"></a><span class="lineno"> 6535</span>&#160;    }</div>
<div class="line"><a name="l06536"></a><span class="lineno"> 6536</span>&#160; </div>
<div class="line"><a name="l06537"></a><span class="lineno"> 6537</span>&#160;    BeginChildFrame(<span class="keywordtype">id</span>, frame_bb.GetSize());</div>
<div class="line"><a name="l06538"></a><span class="lineno"> 6538</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06539"></a><span class="lineno"> 6539</span>&#160;}</div>
<div class="line"><a name="l06540"></a><span class="lineno"> 6540</span>&#160; </div>
<div class="line"><a name="l06541"></a><span class="lineno"> 6541</span>&#160;<span class="preprocessor">#ifndef IMGUI_DISABLE_OBSOLETE_FUNCTIONS</span></div>
<div class="line"><a name="l06542"></a><span class="lineno"> 6542</span>&#160;<span class="comment">// OBSOLETED in 1.81 (from February 2021)</span></div>
<div class="line"><a name="l06543"></a><span class="lineno"> 6543</span>&#160;<span class="keywordtype">bool</span> ImGui::ListBoxHeader(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">int</span> items_count, <span class="keywordtype">int</span> height_in_items)</div>
<div class="line"><a name="l06544"></a><span class="lineno"> 6544</span>&#160;{</div>
<div class="line"><a name="l06545"></a><span class="lineno"> 6545</span>&#160;    <span class="comment">// If height_in_items == -1, default height is maximum 7.</span></div>
<div class="line"><a name="l06546"></a><span class="lineno"> 6546</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l06547"></a><span class="lineno"> 6547</span>&#160;    <span class="keywordtype">float</span> height_in_items_f = (height_in_items &lt; 0 ? ImMin(items_count, 7) : height_in_items) + 0.25f;</div>
<div class="line"><a name="l06548"></a><span class="lineno"> 6548</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> size;</div>
<div class="line"><a name="l06549"></a><span class="lineno"> 6549</span>&#160;    size.x = 0.0f;</div>
<div class="line"><a name="l06550"></a><span class="lineno"> 6550</span>&#160;    size.y = GetTextLineHeightWithSpacing() * height_in_items_f + g.Style.FramePadding.y * 2.0f;</div>
<div class="line"><a name="l06551"></a><span class="lineno"> 6551</span>&#160;    <span class="keywordflow">return</span> BeginListBox(label, size);</div>
<div class="line"><a name="l06552"></a><span class="lineno"> 6552</span>&#160;}</div>
<div class="line"><a name="l06553"></a><span class="lineno"> 6553</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06554"></a><span class="lineno"> 6554</span>&#160; </div>
<div class="line"><a name="l06555"></a><span class="lineno"> 6555</span>&#160;<span class="keywordtype">void</span> ImGui::EndListBox()</div>
<div class="line"><a name="l06556"></a><span class="lineno"> 6556</span>&#160;{</div>
<div class="line"><a name="l06557"></a><span class="lineno"> 6557</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l06558"></a><span class="lineno"> 6558</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = g.CurrentWindow;</div>
<div class="line"><a name="l06559"></a><span class="lineno"> 6559</span>&#160;    IM_ASSERT((window-&gt;Flags &amp; ImGuiWindowFlags_ChildWindow) &amp;&amp; <span class="stringliteral">&quot;Mismatched BeginListBox/EndListBox calls. Did you test the return value of BeginListBox?&quot;</span>);</div>
<div class="line"><a name="l06560"></a><span class="lineno"> 6560</span>&#160;    IM_UNUSED(window);</div>
<div class="line"><a name="l06561"></a><span class="lineno"> 6561</span>&#160; </div>
<div class="line"><a name="l06562"></a><span class="lineno"> 6562</span>&#160;    EndChildFrame();</div>
<div class="line"><a name="l06563"></a><span class="lineno"> 6563</span>&#160;    EndGroup(); <span class="comment">// This is only required to be able to do IsItemXXX query on the whole ListBox including label</span></div>
<div class="line"><a name="l06564"></a><span class="lineno"> 6564</span>&#160;}</div>
<div class="line"><a name="l06565"></a><span class="lineno"> 6565</span>&#160; </div>
<div class="line"><a name="l06566"></a><span class="lineno"> 6566</span>&#160;<span class="keywordtype">bool</span> ImGui::ListBox(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">int</span> *current_item, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> items[], <span class="keywordtype">int</span> items_count, <span class="keywordtype">int</span> height_items)</div>
<div class="line"><a name="l06567"></a><span class="lineno"> 6567</span>&#160;{</div>
<div class="line"><a name="l06568"></a><span class="lineno"> 6568</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> value_changed = ListBox(label, current_item, Items_ArrayGetter, (<span class="keywordtype">void</span> *)items, items_count, height_items);</div>
<div class="line"><a name="l06569"></a><span class="lineno"> 6569</span>&#160;    <span class="keywordflow">return</span> value_changed;</div>
<div class="line"><a name="l06570"></a><span class="lineno"> 6570</span>&#160;}</div>
<div class="line"><a name="l06571"></a><span class="lineno"> 6571</span>&#160; </div>
<div class="line"><a name="l06572"></a><span class="lineno"> 6572</span>&#160;<span class="comment">// This is merely a helper around BeginListBox(), EndListBox().</span></div>
<div class="line"><a name="l06573"></a><span class="lineno"> 6573</span>&#160;<span class="comment">// Considering using those directly to submit custom data or store selection differently.</span></div>
<div class="line"><a name="l06574"></a><span class="lineno"> 6574</span>&#160;<span class="keywordtype">bool</span> ImGui::ListBox(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">int</span> *current_item, <span class="keywordtype">bool</span> (*items_getter)(<span class="keywordtype">void</span> *, <span class="keywordtype">int</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> **), <span class="keywordtype">void</span> *data, <span class="keywordtype">int</span> items_count, <span class="keywordtype">int</span> height_in_items)</div>
<div class="line"><a name="l06575"></a><span class="lineno"> 6575</span>&#160;{</div>
<div class="line"><a name="l06576"></a><span class="lineno"> 6576</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l06577"></a><span class="lineno"> 6577</span>&#160; </div>
<div class="line"><a name="l06578"></a><span class="lineno"> 6578</span>&#160;    <span class="comment">// Calculate size from &quot;height_in_items&quot;</span></div>
<div class="line"><a name="l06579"></a><span class="lineno"> 6579</span>&#160;    <span class="keywordflow">if</span> (height_in_items &lt; 0)</div>
<div class="line"><a name="l06580"></a><span class="lineno"> 6580</span>&#160;        height_in_items = ImMin(items_count, 7);</div>
<div class="line"><a name="l06581"></a><span class="lineno"> 6581</span>&#160;    <span class="keywordtype">float</span> height_in_items_f = height_in_items + 0.25f;</div>
<div class="line"><a name="l06582"></a><span class="lineno"> 6582</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> size(0.0f, ImFloor(GetTextLineHeightWithSpacing() * height_in_items_f + g.Style.FramePadding.y * 2.0f));</div>
<div class="line"><a name="l06583"></a><span class="lineno"> 6583</span>&#160; </div>
<div class="line"><a name="l06584"></a><span class="lineno"> 6584</span>&#160;    <span class="keywordflow">if</span> (!BeginListBox(label, size))</div>
<div class="line"><a name="l06585"></a><span class="lineno"> 6585</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06586"></a><span class="lineno"> 6586</span>&#160; </div>
<div class="line"><a name="l06587"></a><span class="lineno"> 6587</span>&#160;    <span class="comment">// Assume all items have even height (= 1 line of text). If you need items of different height,</span></div>
<div class="line"><a name="l06588"></a><span class="lineno"> 6588</span>&#160;    <span class="comment">// you can create a custom version of ListBox() in your code without using the clipper.</span></div>
<div class="line"><a name="l06589"></a><span class="lineno"> 6589</span>&#160;    <span class="keywordtype">bool</span> value_changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06590"></a><span class="lineno"> 6590</span>&#160;    <a class="code" href="struct_im_gui_list_clipper.html">ImGuiListClipper</a> clipper;</div>
<div class="line"><a name="l06591"></a><span class="lineno"> 6591</span>&#160;    clipper.Begin(items_count, GetTextLineHeightWithSpacing()); <span class="comment">// We know exactly our line height here so we pass it as a minor optimization, but generally you don&#39;t need to.</span></div>
<div class="line"><a name="l06592"></a><span class="lineno"> 6592</span>&#160;    <span class="keywordflow">while</span> (clipper.Step())</div>
<div class="line"><a name="l06593"></a><span class="lineno"> 6593</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = clipper.DisplayStart; i &lt; clipper.DisplayEnd; i++)</div>
<div class="line"><a name="l06594"></a><span class="lineno"> 6594</span>&#160;        {</div>
<div class="line"><a name="l06595"></a><span class="lineno"> 6595</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *item_text;</div>
<div class="line"><a name="l06596"></a><span class="lineno"> 6596</span>&#160;            <span class="keywordflow">if</span> (!items_getter(data, i, &amp;item_text))</div>
<div class="line"><a name="l06597"></a><span class="lineno"> 6597</span>&#160;                item_text = <span class="stringliteral">&quot;*Unknown item*&quot;</span>;</div>
<div class="line"><a name="l06598"></a><span class="lineno"> 6598</span>&#160; </div>
<div class="line"><a name="l06599"></a><span class="lineno"> 6599</span>&#160;            PushID(i);</div>
<div class="line"><a name="l06600"></a><span class="lineno"> 6600</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">bool</span> item_selected = (i == *current_item);</div>
<div class="line"><a name="l06601"></a><span class="lineno"> 6601</span>&#160;            <span class="keywordflow">if</span> (Selectable(item_text, item_selected))</div>
<div class="line"><a name="l06602"></a><span class="lineno"> 6602</span>&#160;            {</div>
<div class="line"><a name="l06603"></a><span class="lineno"> 6603</span>&#160;                *current_item = i;</div>
<div class="line"><a name="l06604"></a><span class="lineno"> 6604</span>&#160;                value_changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06605"></a><span class="lineno"> 6605</span>&#160;            }</div>
<div class="line"><a name="l06606"></a><span class="lineno"> 6606</span>&#160;            <span class="keywordflow">if</span> (item_selected)</div>
<div class="line"><a name="l06607"></a><span class="lineno"> 6607</span>&#160;                SetItemDefaultFocus();</div>
<div class="line"><a name="l06608"></a><span class="lineno"> 6608</span>&#160;            PopID();</div>
<div class="line"><a name="l06609"></a><span class="lineno"> 6609</span>&#160;        }</div>
<div class="line"><a name="l06610"></a><span class="lineno"> 6610</span>&#160;    EndListBox();</div>
<div class="line"><a name="l06611"></a><span class="lineno"> 6611</span>&#160; </div>
<div class="line"><a name="l06612"></a><span class="lineno"> 6612</span>&#160;    <span class="keywordflow">if</span> (value_changed)</div>
<div class="line"><a name="l06613"></a><span class="lineno"> 6613</span>&#160;        MarkItemEdited(g.LastItemData.ID);</div>
<div class="line"><a name="l06614"></a><span class="lineno"> 6614</span>&#160; </div>
<div class="line"><a name="l06615"></a><span class="lineno"> 6615</span>&#160;    <span class="keywordflow">return</span> value_changed;</div>
<div class="line"><a name="l06616"></a><span class="lineno"> 6616</span>&#160;}</div>
<div class="line"><a name="l06617"></a><span class="lineno"> 6617</span>&#160; </div>
<div class="line"><a name="l06618"></a><span class="lineno"> 6618</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l06619"></a><span class="lineno"> 6619</span>&#160;<span class="comment">// [SECTION] Widgets: PlotLines, PlotHistogram</span></div>
<div class="line"><a name="l06620"></a><span class="lineno"> 6620</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l06621"></a><span class="lineno"> 6621</span>&#160;<span class="comment">// - PlotEx() [Internal]</span></div>
<div class="line"><a name="l06622"></a><span class="lineno"> 6622</span>&#160;<span class="comment">// - PlotLines()</span></div>
<div class="line"><a name="l06623"></a><span class="lineno"> 6623</span>&#160;<span class="comment">// - PlotHistogram()</span></div>
<div class="line"><a name="l06624"></a><span class="lineno"> 6624</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l06625"></a><span class="lineno"> 6625</span>&#160;<span class="comment">// Plot/Graph widgets are not very good.</span></div>
<div class="line"><a name="l06626"></a><span class="lineno"> 6626</span>&#160;<span class="comment">// Consider writing your own, or using a third-party one, see:</span></div>
<div class="line"><a name="l06627"></a><span class="lineno"> 6627</span>&#160;<span class="comment">// - ImPlot https://github.com/epezent/implot</span></div>
<div class="line"><a name="l06628"></a><span class="lineno"> 6628</span>&#160;<span class="comment">// - others https://github.com/ocornut/imgui/wiki/Useful-Extensions</span></div>
<div class="line"><a name="l06629"></a><span class="lineno"> 6629</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l06630"></a><span class="lineno"> 6630</span>&#160; </div>
<div class="line"><a name="l06631"></a><span class="lineno"> 6631</span>&#160;<span class="keywordtype">int</span> ImGui::PlotEx(ImGuiPlotType plot_type, <span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">float</span> (*values_getter)(<span class="keywordtype">void</span> *data, <span class="keywordtype">int</span> idx), <span class="keywordtype">void</span> *data, <span class="keywordtype">int</span> values_count, <span class="keywordtype">int</span> values_offset, <span class="keyword">const</span> <span class="keywordtype">char</span> *overlay_text, <span class="keywordtype">float</span> scale_min, <span class="keywordtype">float</span> scale_max, <a class="code" href="struct_im_vec2.html">ImVec2</a> frame_size)</div>
<div class="line"><a name="l06632"></a><span class="lineno"> 6632</span>&#160;{</div>
<div class="line"><a name="l06633"></a><span class="lineno"> 6633</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l06634"></a><span class="lineno"> 6634</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l06635"></a><span class="lineno"> 6635</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l06636"></a><span class="lineno"> 6636</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l06637"></a><span class="lineno"> 6637</span>&#160; </div>
<div class="line"><a name="l06638"></a><span class="lineno"> 6638</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_gui_style.html">ImGuiStyle</a> &amp;style = g.Style;</div>
<div class="line"><a name="l06639"></a><span class="lineno"> 6639</span>&#160;    <span class="keyword">const</span> ImGuiID <span class="keywordtype">id</span> = window-&gt;GetID(label);</div>
<div class="line"><a name="l06640"></a><span class="lineno"> 6640</span>&#160; </div>
<div class="line"><a name="l06641"></a><span class="lineno"> 6641</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> label_size = CalcTextSize(label, NULL, <span class="keyword">true</span>);</div>
<div class="line"><a name="l06642"></a><span class="lineno"> 6642</span>&#160;    <span class="keywordflow">if</span> (frame_size.x == 0.0f)</div>
<div class="line"><a name="l06643"></a><span class="lineno"> 6643</span>&#160;        frame_size.x = CalcItemWidth();</div>
<div class="line"><a name="l06644"></a><span class="lineno"> 6644</span>&#160;    <span class="keywordflow">if</span> (frame_size.y == 0.0f)</div>
<div class="line"><a name="l06645"></a><span class="lineno"> 6645</span>&#160;        frame_size.y = label_size.y + (style.FramePadding.y * 2);</div>
<div class="line"><a name="l06646"></a><span class="lineno"> 6646</span>&#160; </div>
<div class="line"><a name="l06647"></a><span class="lineno"> 6647</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> frame_bb(window-&gt;DC.CursorPos, window-&gt;DC.CursorPos + frame_size);</div>
<div class="line"><a name="l06648"></a><span class="lineno"> 6648</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> inner_bb(frame_bb.Min + style.FramePadding, frame_bb.Max - style.FramePadding);</div>
<div class="line"><a name="l06649"></a><span class="lineno"> 6649</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> total_bb(frame_bb.Min, frame_bb.Max + <a class="code" href="struct_im_vec2.html">ImVec2</a>(label_size.x &gt; 0.0f ? style.ItemInnerSpacing.x + label_size.x : 0.0f, 0));</div>
<div class="line"><a name="l06650"></a><span class="lineno"> 6650</span>&#160;    ItemSize(total_bb, style.FramePadding.y);</div>
<div class="line"><a name="l06651"></a><span class="lineno"> 6651</span>&#160;    <span class="keywordflow">if</span> (!ItemAdd(total_bb, 0, &amp;frame_bb))</div>
<div class="line"><a name="l06652"></a><span class="lineno"> 6652</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l06653"></a><span class="lineno"> 6653</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> hovered = ItemHoverable(frame_bb, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l06654"></a><span class="lineno"> 6654</span>&#160; </div>
<div class="line"><a name="l06655"></a><span class="lineno"> 6655</span>&#160;    <span class="comment">// Determine scale from values if not specified</span></div>
<div class="line"><a name="l06656"></a><span class="lineno"> 6656</span>&#160;    <span class="keywordflow">if</span> (scale_min == FLT_MAX || scale_max == FLT_MAX)</div>
<div class="line"><a name="l06657"></a><span class="lineno"> 6657</span>&#160;    {</div>
<div class="line"><a name="l06658"></a><span class="lineno"> 6658</span>&#160;        <span class="keywordtype">float</span> v_min = FLT_MAX;</div>
<div class="line"><a name="l06659"></a><span class="lineno"> 6659</span>&#160;        <span class="keywordtype">float</span> v_max = -FLT_MAX;</div>
<div class="line"><a name="l06660"></a><span class="lineno"> 6660</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; values_count; i++)</div>
<div class="line"><a name="l06661"></a><span class="lineno"> 6661</span>&#160;        {</div>
<div class="line"><a name="l06662"></a><span class="lineno"> 6662</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">float</span> v = values_getter(data, i);</div>
<div class="line"><a name="l06663"></a><span class="lineno"> 6663</span>&#160;            <span class="keywordflow">if</span> (v != v) <span class="comment">// Ignore NaN values</span></div>
<div class="line"><a name="l06664"></a><span class="lineno"> 6664</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06665"></a><span class="lineno"> 6665</span>&#160;            v_min = ImMin(v_min, v);</div>
<div class="line"><a name="l06666"></a><span class="lineno"> 6666</span>&#160;            v_max = ImMax(v_max, v);</div>
<div class="line"><a name="l06667"></a><span class="lineno"> 6667</span>&#160;        }</div>
<div class="line"><a name="l06668"></a><span class="lineno"> 6668</span>&#160;        <span class="keywordflow">if</span> (scale_min == FLT_MAX)</div>
<div class="line"><a name="l06669"></a><span class="lineno"> 6669</span>&#160;            scale_min = v_min;</div>
<div class="line"><a name="l06670"></a><span class="lineno"> 6670</span>&#160;        <span class="keywordflow">if</span> (scale_max == FLT_MAX)</div>
<div class="line"><a name="l06671"></a><span class="lineno"> 6671</span>&#160;            scale_max = v_max;</div>
<div class="line"><a name="l06672"></a><span class="lineno"> 6672</span>&#160;    }</div>
<div class="line"><a name="l06673"></a><span class="lineno"> 6673</span>&#160; </div>
<div class="line"><a name="l06674"></a><span class="lineno"> 6674</span>&#160;    RenderFrame(frame_bb.Min, frame_bb.Max, GetColorU32(ImGuiCol_FrameBg), <span class="keyword">true</span>, style.FrameRounding);</div>
<div class="line"><a name="l06675"></a><span class="lineno"> 6675</span>&#160; </div>
<div class="line"><a name="l06676"></a><span class="lineno"> 6676</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> values_count_min = (plot_type == ImGuiPlotType_Lines) ? 2 : 1;</div>
<div class="line"><a name="l06677"></a><span class="lineno"> 6677</span>&#160;    <span class="keywordtype">int</span> idx_hovered = -1;</div>
<div class="line"><a name="l06678"></a><span class="lineno"> 6678</span>&#160;    <span class="keywordflow">if</span> (values_count &gt;= values_count_min)</div>
<div class="line"><a name="l06679"></a><span class="lineno"> 6679</span>&#160;    {</div>
<div class="line"><a name="l06680"></a><span class="lineno"> 6680</span>&#160;        <span class="keywordtype">int</span> res_w = ImMin((<span class="keywordtype">int</span>)frame_size.x, values_count) + ((plot_type == ImGuiPlotType_Lines) ? -1 : 0);</div>
<div class="line"><a name="l06681"></a><span class="lineno"> 6681</span>&#160;        <span class="keywordtype">int</span> item_count = values_count + ((plot_type == ImGuiPlotType_Lines) ? -1 : 0);</div>
<div class="line"><a name="l06682"></a><span class="lineno"> 6682</span>&#160; </div>
<div class="line"><a name="l06683"></a><span class="lineno"> 6683</span>&#160;        <span class="comment">// Tooltip on hover</span></div>
<div class="line"><a name="l06684"></a><span class="lineno"> 6684</span>&#160;        <span class="keywordflow">if</span> (hovered &amp;&amp; inner_bb.Contains(g.IO.MousePos))</div>
<div class="line"><a name="l06685"></a><span class="lineno"> 6685</span>&#160;        {</div>
<div class="line"><a name="l06686"></a><span class="lineno"> 6686</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">float</span> t = ImClamp((g.IO.MousePos.x - inner_bb.Min.x) / (inner_bb.Max.x - inner_bb.Min.x), 0.0f, 0.9999f);</div>
<div class="line"><a name="l06687"></a><span class="lineno"> 6687</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> v_idx = (int)(t * item_count);</div>
<div class="line"><a name="l06688"></a><span class="lineno"> 6688</span>&#160;            IM_ASSERT(v_idx &gt;= 0 &amp;&amp; v_idx &lt; values_count);</div>
<div class="line"><a name="l06689"></a><span class="lineno"> 6689</span>&#160; </div>
<div class="line"><a name="l06690"></a><span class="lineno"> 6690</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">float</span> v0 = values_getter(data, (v_idx + values_offset) % values_count);</div>
<div class="line"><a name="l06691"></a><span class="lineno"> 6691</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">float</span> v1 = values_getter(data, (v_idx + 1 + values_offset) % values_count);</div>
<div class="line"><a name="l06692"></a><span class="lineno"> 6692</span>&#160;            <span class="keywordflow">if</span> (plot_type == ImGuiPlotType_Lines)</div>
<div class="line"><a name="l06693"></a><span class="lineno"> 6693</span>&#160;                SetTooltip(<span class="stringliteral">&quot;%d: %8.4g\n%d: %8.4g&quot;</span>, v_idx, v0, v_idx + 1, v1);</div>
<div class="line"><a name="l06694"></a><span class="lineno"> 6694</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (plot_type == ImGuiPlotType_Histogram)</div>
<div class="line"><a name="l06695"></a><span class="lineno"> 6695</span>&#160;                SetTooltip(<span class="stringliteral">&quot;%d: %8.4g&quot;</span>, v_idx, v0);</div>
<div class="line"><a name="l06696"></a><span class="lineno"> 6696</span>&#160;            idx_hovered = v_idx;</div>
<div class="line"><a name="l06697"></a><span class="lineno"> 6697</span>&#160;        }</div>
<div class="line"><a name="l06698"></a><span class="lineno"> 6698</span>&#160; </div>
<div class="line"><a name="l06699"></a><span class="lineno"> 6699</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> t_step = 1.0f / (float)res_w;</div>
<div class="line"><a name="l06700"></a><span class="lineno"> 6700</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> inv_scale = (scale_min == scale_max) ? 0.0f : (1.0f / (scale_max - scale_min));</div>
<div class="line"><a name="l06701"></a><span class="lineno"> 6701</span>&#160; </div>
<div class="line"><a name="l06702"></a><span class="lineno"> 6702</span>&#160;        <span class="keywordtype">float</span> v0 = values_getter(data, (0 + values_offset) % values_count);</div>
<div class="line"><a name="l06703"></a><span class="lineno"> 6703</span>&#160;        <span class="keywordtype">float</span> t0 = 0.0f;</div>
<div class="line"><a name="l06704"></a><span class="lineno"> 6704</span>&#160;        <a class="code" href="struct_im_vec2.html">ImVec2</a> tp0 = <a class="code" href="struct_im_vec2.html">ImVec2</a>(t0, 1.0f - ImSaturate((v0 - scale_min) * inv_scale));                       <span class="comment">// Point in the normalized space of our target rectangle</span></div>
<div class="line"><a name="l06705"></a><span class="lineno"> 6705</span>&#160;        <span class="keywordtype">float</span> histogram_zero_line_t = (scale_min * scale_max &lt; 0.0f) ? (-scale_min * inv_scale) : (scale_min &lt; 0.0f ? 0.0f : 1.0f);   <span class="comment">// Where does the zero line stands</span></div>
<div class="line"><a name="l06706"></a><span class="lineno"> 6706</span>&#160; </div>
<div class="line"><a name="l06707"></a><span class="lineno"> 6707</span>&#160;        <span class="keyword">const</span> ImU32 col_base = GetColorU32((plot_type == ImGuiPlotType_Lines) ? ImGuiCol_PlotLines : ImGuiCol_PlotHistogram);</div>
<div class="line"><a name="l06708"></a><span class="lineno"> 6708</span>&#160;        <span class="keyword">const</span> ImU32 col_hovered = GetColorU32((plot_type == ImGuiPlotType_Lines) ? ImGuiCol_PlotLinesHovered : ImGuiCol_PlotHistogramHovered);</div>
<div class="line"><a name="l06709"></a><span class="lineno"> 6709</span>&#160; </div>
<div class="line"><a name="l06710"></a><span class="lineno"> 6710</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; res_w; n++)</div>
<div class="line"><a name="l06711"></a><span class="lineno"> 6711</span>&#160;        {</div>
<div class="line"><a name="l06712"></a><span class="lineno"> 6712</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">float</span> t1 = t0 + t_step;</div>
<div class="line"><a name="l06713"></a><span class="lineno"> 6713</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> v1_idx = (int)(t0 * item_count + 0.5f);</div>
<div class="line"><a name="l06714"></a><span class="lineno"> 6714</span>&#160;            IM_ASSERT(v1_idx &gt;= 0 &amp;&amp; v1_idx &lt; values_count);</div>
<div class="line"><a name="l06715"></a><span class="lineno"> 6715</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">float</span> v1 = values_getter(data, (v1_idx + values_offset + 1) % values_count);</div>
<div class="line"><a name="l06716"></a><span class="lineno"> 6716</span>&#160;            <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> tp1 = <a class="code" href="struct_im_vec2.html">ImVec2</a>(t1, 1.0f - ImSaturate((v1 - scale_min) * inv_scale));</div>
<div class="line"><a name="l06717"></a><span class="lineno"> 6717</span>&#160; </div>
<div class="line"><a name="l06718"></a><span class="lineno"> 6718</span>&#160;            <span class="comment">// NB: Draw calls are merged together by the DrawList system. Still, we should render our batch are lower level to save a bit of CPU.</span></div>
<div class="line"><a name="l06719"></a><span class="lineno"> 6719</span>&#160;            <a class="code" href="struct_im_vec2.html">ImVec2</a> pos0 = ImLerp(inner_bb.Min, inner_bb.Max, tp0);</div>
<div class="line"><a name="l06720"></a><span class="lineno"> 6720</span>&#160;            <a class="code" href="struct_im_vec2.html">ImVec2</a> pos1 = ImLerp(inner_bb.Min, inner_bb.Max, (plot_type == ImGuiPlotType_Lines) ? tp1 : <a class="code" href="struct_im_vec2.html">ImVec2</a>(tp1.x, histogram_zero_line_t));</div>
<div class="line"><a name="l06721"></a><span class="lineno"> 6721</span>&#160;            <span class="keywordflow">if</span> (plot_type == ImGuiPlotType_Lines)</div>
<div class="line"><a name="l06722"></a><span class="lineno"> 6722</span>&#160;            {</div>
<div class="line"><a name="l06723"></a><span class="lineno"> 6723</span>&#160;                window-&gt;DrawList-&gt;AddLine(pos0, pos1, idx_hovered == v1_idx ? col_hovered : col_base);</div>
<div class="line"><a name="l06724"></a><span class="lineno"> 6724</span>&#160;            }</div>
<div class="line"><a name="l06725"></a><span class="lineno"> 6725</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (plot_type == ImGuiPlotType_Histogram)</div>
<div class="line"><a name="l06726"></a><span class="lineno"> 6726</span>&#160;            {</div>
<div class="line"><a name="l06727"></a><span class="lineno"> 6727</span>&#160;                <span class="keywordflow">if</span> (pos1.x &gt;= pos0.x + 2.0f)</div>
<div class="line"><a name="l06728"></a><span class="lineno"> 6728</span>&#160;                    pos1.x -= 1.0f;</div>
<div class="line"><a name="l06729"></a><span class="lineno"> 6729</span>&#160;                window-&gt;DrawList-&gt;AddRectFilled(pos0, pos1, idx_hovered == v1_idx ? col_hovered : col_base);</div>
<div class="line"><a name="l06730"></a><span class="lineno"> 6730</span>&#160;            }</div>
<div class="line"><a name="l06731"></a><span class="lineno"> 6731</span>&#160; </div>
<div class="line"><a name="l06732"></a><span class="lineno"> 6732</span>&#160;            t0 = t1;</div>
<div class="line"><a name="l06733"></a><span class="lineno"> 6733</span>&#160;            tp0 = tp1;</div>
<div class="line"><a name="l06734"></a><span class="lineno"> 6734</span>&#160;        }</div>
<div class="line"><a name="l06735"></a><span class="lineno"> 6735</span>&#160;    }</div>
<div class="line"><a name="l06736"></a><span class="lineno"> 6736</span>&#160; </div>
<div class="line"><a name="l06737"></a><span class="lineno"> 6737</span>&#160;    <span class="comment">// Text overlay</span></div>
<div class="line"><a name="l06738"></a><span class="lineno"> 6738</span>&#160;    <span class="keywordflow">if</span> (overlay_text)</div>
<div class="line"><a name="l06739"></a><span class="lineno"> 6739</span>&#160;        RenderTextClipped(<a class="code" href="struct_im_vec2.html">ImVec2</a>(frame_bb.Min.x, frame_bb.Min.y + style.FramePadding.y), frame_bb.Max, overlay_text, NULL, NULL, <a class="code" href="struct_im_vec2.html">ImVec2</a>(0.5f, 0.0f));</div>
<div class="line"><a name="l06740"></a><span class="lineno"> 6740</span>&#160; </div>
<div class="line"><a name="l06741"></a><span class="lineno"> 6741</span>&#160;    <span class="keywordflow">if</span> (label_size.x &gt; 0.0f)</div>
<div class="line"><a name="l06742"></a><span class="lineno"> 6742</span>&#160;        RenderText(<a class="code" href="struct_im_vec2.html">ImVec2</a>(frame_bb.Max.x + style.ItemInnerSpacing.x, inner_bb.Min.y), label);</div>
<div class="line"><a name="l06743"></a><span class="lineno"> 6743</span>&#160; </div>
<div class="line"><a name="l06744"></a><span class="lineno"> 6744</span>&#160;    <span class="comment">// Return hovered index or -1 if none are hovered.</span></div>
<div class="line"><a name="l06745"></a><span class="lineno"> 6745</span>&#160;    <span class="comment">// This is currently not exposed in the public API because we need a larger redesign of the whole thing, but in the short-term we are making it available in PlotEx().</span></div>
<div class="line"><a name="l06746"></a><span class="lineno"> 6746</span>&#160;    <span class="keywordflow">return</span> idx_hovered;</div>
<div class="line"><a name="l06747"></a><span class="lineno"> 6747</span>&#160;}</div>
<div class="line"><a name="l06748"></a><span class="lineno"> 6748</span>&#160; </div>
<div class="line"><a name="l06749"></a><span class="lineno"><a class="line" href="struct_im_gui_plot_array_getter_data.html"> 6749</a></span>&#160;<span class="keyword">struct </span><a class="code" href="struct_im_gui_plot_array_getter_data.html">ImGuiPlotArrayGetterData</a></div>
<div class="line"><a name="l06750"></a><span class="lineno"> 6750</span>&#160;{</div>
<div class="line"><a name="l06751"></a><span class="lineno"> 6751</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> *Values;</div>
<div class="line"><a name="l06752"></a><span class="lineno"> 6752</span>&#160;    <span class="keywordtype">int</span> Stride;</div>
<div class="line"><a name="l06753"></a><span class="lineno"> 6753</span>&#160; </div>
<div class="line"><a name="l06754"></a><span class="lineno"> 6754</span>&#160;    <a class="code" href="struct_im_gui_plot_array_getter_data.html">ImGuiPlotArrayGetterData</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> *values, <span class="keywordtype">int</span> stride)</div>
<div class="line"><a name="l06755"></a><span class="lineno"> 6755</span>&#160;    {</div>
<div class="line"><a name="l06756"></a><span class="lineno"> 6756</span>&#160;        Values = values; Stride = stride;</div>
<div class="line"><a name="l06757"></a><span class="lineno"> 6757</span>&#160;    }</div>
<div class="line"><a name="l06758"></a><span class="lineno"> 6758</span>&#160;};</div>
<div class="line"><a name="l06759"></a><span class="lineno"> 6759</span>&#160; </div>
<div class="line"><a name="l06760"></a><span class="lineno"> 6760</span>&#160;<span class="keyword">static</span> <span class="keywordtype">float</span> Plot_ArrayGetter(<span class="keywordtype">void</span> *data, <span class="keywordtype">int</span> idx)</div>
<div class="line"><a name="l06761"></a><span class="lineno"> 6761</span>&#160;{</div>
<div class="line"><a name="l06762"></a><span class="lineno"> 6762</span>&#160;    <a class="code" href="struct_im_gui_plot_array_getter_data.html">ImGuiPlotArrayGetterData</a> *plot_data = (<a class="code" href="struct_im_gui_plot_array_getter_data.html">ImGuiPlotArrayGetterData</a> *)data;</div>
<div class="line"><a name="l06763"></a><span class="lineno"> 6763</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> v = *(<span class="keyword">const</span> <span class="keywordtype">float</span> *)(<span class="keyword">const</span> <span class="keywordtype">void</span> *)((<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)plot_data-&gt;Values + (<span class="keywordtype">size_t</span>)idx * plot_data-&gt;Stride);</div>
<div class="line"><a name="l06764"></a><span class="lineno"> 6764</span>&#160;    <span class="keywordflow">return</span> v;</div>
<div class="line"><a name="l06765"></a><span class="lineno"> 6765</span>&#160;}</div>
<div class="line"><a name="l06766"></a><span class="lineno"> 6766</span>&#160; </div>
<div class="line"><a name="l06767"></a><span class="lineno"> 6767</span>&#160;<span class="keywordtype">void</span> ImGui::PlotLines(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keyword">const</span> <span class="keywordtype">float</span> *values, <span class="keywordtype">int</span> values_count, <span class="keywordtype">int</span> values_offset, <span class="keyword">const</span> <span class="keywordtype">char</span> *overlay_text, <span class="keywordtype">float</span> scale_min, <span class="keywordtype">float</span> scale_max, <a class="code" href="struct_im_vec2.html">ImVec2</a> graph_size, <span class="keywordtype">int</span> stride)</div>
<div class="line"><a name="l06768"></a><span class="lineno"> 6768</span>&#160;{</div>
<div class="line"><a name="l06769"></a><span class="lineno"> 6769</span>&#160;    <a class="code" href="struct_im_gui_plot_array_getter_data.html">ImGuiPlotArrayGetterData</a> data(values, stride);</div>
<div class="line"><a name="l06770"></a><span class="lineno"> 6770</span>&#160;    PlotEx(ImGuiPlotType_Lines, label, &amp;Plot_ArrayGetter, (<span class="keywordtype">void</span> *)&amp;data, values_count, values_offset, overlay_text, scale_min, scale_max, graph_size);</div>
<div class="line"><a name="l06771"></a><span class="lineno"> 6771</span>&#160;}</div>
<div class="line"><a name="l06772"></a><span class="lineno"> 6772</span>&#160; </div>
<div class="line"><a name="l06773"></a><span class="lineno"> 6773</span>&#160;<span class="keywordtype">void</span> ImGui::PlotLines(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">float</span> (*values_getter)(<span class="keywordtype">void</span> *data, <span class="keywordtype">int</span> idx), <span class="keywordtype">void</span> *data, <span class="keywordtype">int</span> values_count, <span class="keywordtype">int</span> values_offset, <span class="keyword">const</span> <span class="keywordtype">char</span> *overlay_text, <span class="keywordtype">float</span> scale_min, <span class="keywordtype">float</span> scale_max, <a class="code" href="struct_im_vec2.html">ImVec2</a> graph_size)</div>
<div class="line"><a name="l06774"></a><span class="lineno"> 6774</span>&#160;{</div>
<div class="line"><a name="l06775"></a><span class="lineno"> 6775</span>&#160;    PlotEx(ImGuiPlotType_Lines, label, values_getter, data, values_count, values_offset, overlay_text, scale_min, scale_max, graph_size);</div>
<div class="line"><a name="l06776"></a><span class="lineno"> 6776</span>&#160;}</div>
<div class="line"><a name="l06777"></a><span class="lineno"> 6777</span>&#160; </div>
<div class="line"><a name="l06778"></a><span class="lineno"> 6778</span>&#160;<span class="keywordtype">void</span> ImGui::PlotHistogram(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keyword">const</span> <span class="keywordtype">float</span> *values, <span class="keywordtype">int</span> values_count, <span class="keywordtype">int</span> values_offset, <span class="keyword">const</span> <span class="keywordtype">char</span> *overlay_text, <span class="keywordtype">float</span> scale_min, <span class="keywordtype">float</span> scale_max, <a class="code" href="struct_im_vec2.html">ImVec2</a> graph_size, <span class="keywordtype">int</span> stride)</div>
<div class="line"><a name="l06779"></a><span class="lineno"> 6779</span>&#160;{</div>
<div class="line"><a name="l06780"></a><span class="lineno"> 6780</span>&#160;    <a class="code" href="struct_im_gui_plot_array_getter_data.html">ImGuiPlotArrayGetterData</a> data(values, stride);</div>
<div class="line"><a name="l06781"></a><span class="lineno"> 6781</span>&#160;    PlotEx(ImGuiPlotType_Histogram, label, &amp;Plot_ArrayGetter, (<span class="keywordtype">void</span> *)&amp;data, values_count, values_offset, overlay_text, scale_min, scale_max, graph_size);</div>
<div class="line"><a name="l06782"></a><span class="lineno"> 6782</span>&#160;}</div>
<div class="line"><a name="l06783"></a><span class="lineno"> 6783</span>&#160; </div>
<div class="line"><a name="l06784"></a><span class="lineno"> 6784</span>&#160;<span class="keywordtype">void</span> ImGui::PlotHistogram(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">float</span> (*values_getter)(<span class="keywordtype">void</span> *data, <span class="keywordtype">int</span> idx), <span class="keywordtype">void</span> *data, <span class="keywordtype">int</span> values_count, <span class="keywordtype">int</span> values_offset, <span class="keyword">const</span> <span class="keywordtype">char</span> *overlay_text, <span class="keywordtype">float</span> scale_min, <span class="keywordtype">float</span> scale_max, <a class="code" href="struct_im_vec2.html">ImVec2</a> graph_size)</div>
<div class="line"><a name="l06785"></a><span class="lineno"> 6785</span>&#160;{</div>
<div class="line"><a name="l06786"></a><span class="lineno"> 6786</span>&#160;    PlotEx(ImGuiPlotType_Histogram, label, values_getter, data, values_count, values_offset, overlay_text, scale_min, scale_max, graph_size);</div>
<div class="line"><a name="l06787"></a><span class="lineno"> 6787</span>&#160;}</div>
<div class="line"><a name="l06788"></a><span class="lineno"> 6788</span>&#160; </div>
<div class="line"><a name="l06789"></a><span class="lineno"> 6789</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l06790"></a><span class="lineno"> 6790</span>&#160;<span class="comment">// [SECTION] Widgets: Value helpers</span></div>
<div class="line"><a name="l06791"></a><span class="lineno"> 6791</span>&#160;<span class="comment">// Those is not very useful, legacy API.</span></div>
<div class="line"><a name="l06792"></a><span class="lineno"> 6792</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l06793"></a><span class="lineno"> 6793</span>&#160;<span class="comment">// - Value()</span></div>
<div class="line"><a name="l06794"></a><span class="lineno"> 6794</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l06795"></a><span class="lineno"> 6795</span>&#160; </div>
<div class="line"><a name="l06796"></a><span class="lineno"> 6796</span>&#160;<span class="keywordtype">void</span> ImGui::Value(<span class="keyword">const</span> <span class="keywordtype">char</span> *prefix, <span class="keywordtype">bool</span> b)</div>
<div class="line"><a name="l06797"></a><span class="lineno"> 6797</span>&#160;{</div>
<div class="line"><a name="l06798"></a><span class="lineno"> 6798</span>&#160;    Text(<span class="stringliteral">&quot;%s: %s&quot;</span>, prefix, (b ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>));</div>
<div class="line"><a name="l06799"></a><span class="lineno"> 6799</span>&#160;}</div>
<div class="line"><a name="l06800"></a><span class="lineno"> 6800</span>&#160; </div>
<div class="line"><a name="l06801"></a><span class="lineno"> 6801</span>&#160;<span class="keywordtype">void</span> ImGui::Value(<span class="keyword">const</span> <span class="keywordtype">char</span> *prefix, <span class="keywordtype">int</span> v)</div>
<div class="line"><a name="l06802"></a><span class="lineno"> 6802</span>&#160;{</div>
<div class="line"><a name="l06803"></a><span class="lineno"> 6803</span>&#160;    Text(<span class="stringliteral">&quot;%s: %d&quot;</span>, prefix, v);</div>
<div class="line"><a name="l06804"></a><span class="lineno"> 6804</span>&#160;}</div>
<div class="line"><a name="l06805"></a><span class="lineno"> 6805</span>&#160; </div>
<div class="line"><a name="l06806"></a><span class="lineno"> 6806</span>&#160;<span class="keywordtype">void</span> ImGui::Value(<span class="keyword">const</span> <span class="keywordtype">char</span> *prefix, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v)</div>
<div class="line"><a name="l06807"></a><span class="lineno"> 6807</span>&#160;{</div>
<div class="line"><a name="l06808"></a><span class="lineno"> 6808</span>&#160;    Text(<span class="stringliteral">&quot;%s: %d&quot;</span>, prefix, v);</div>
<div class="line"><a name="l06809"></a><span class="lineno"> 6809</span>&#160;}</div>
<div class="line"><a name="l06810"></a><span class="lineno"> 6810</span>&#160; </div>
<div class="line"><a name="l06811"></a><span class="lineno"> 6811</span>&#160;<span class="keywordtype">void</span> ImGui::Value(<span class="keyword">const</span> <span class="keywordtype">char</span> *prefix, <span class="keywordtype">float</span> v, <span class="keyword">const</span> <span class="keywordtype">char</span> *float_format)</div>
<div class="line"><a name="l06812"></a><span class="lineno"> 6812</span>&#160;{</div>
<div class="line"><a name="l06813"></a><span class="lineno"> 6813</span>&#160;    <span class="keywordflow">if</span> (float_format)</div>
<div class="line"><a name="l06814"></a><span class="lineno"> 6814</span>&#160;    {</div>
<div class="line"><a name="l06815"></a><span class="lineno"> 6815</span>&#160;        <span class="keywordtype">char</span> fmt[64];</div>
<div class="line"><a name="l06816"></a><span class="lineno"> 6816</span>&#160;        ImFormatString(fmt, IM_ARRAYSIZE(fmt), <span class="stringliteral">&quot;%%s: %s&quot;</span>, float_format);</div>
<div class="line"><a name="l06817"></a><span class="lineno"> 6817</span>&#160;        Text(fmt, prefix, v);</div>
<div class="line"><a name="l06818"></a><span class="lineno"> 6818</span>&#160;    }</div>
<div class="line"><a name="l06819"></a><span class="lineno"> 6819</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l06820"></a><span class="lineno"> 6820</span>&#160;    {</div>
<div class="line"><a name="l06821"></a><span class="lineno"> 6821</span>&#160;        Text(<span class="stringliteral">&quot;%s: %.3f&quot;</span>, prefix, v);</div>
<div class="line"><a name="l06822"></a><span class="lineno"> 6822</span>&#160;    }</div>
<div class="line"><a name="l06823"></a><span class="lineno"> 6823</span>&#160;}</div>
<div class="line"><a name="l06824"></a><span class="lineno"> 6824</span>&#160; </div>
<div class="line"><a name="l06825"></a><span class="lineno"> 6825</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l06826"></a><span class="lineno"> 6826</span>&#160;<span class="comment">// [SECTION] MenuItem, BeginMenu, EndMenu, etc.</span></div>
<div class="line"><a name="l06827"></a><span class="lineno"> 6827</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l06828"></a><span class="lineno"> 6828</span>&#160;<span class="comment">// - ImGuiMenuColumns [Internal]</span></div>
<div class="line"><a name="l06829"></a><span class="lineno"> 6829</span>&#160;<span class="comment">// - BeginMenuBar()</span></div>
<div class="line"><a name="l06830"></a><span class="lineno"> 6830</span>&#160;<span class="comment">// - EndMenuBar()</span></div>
<div class="line"><a name="l06831"></a><span class="lineno"> 6831</span>&#160;<span class="comment">// - BeginMainMenuBar()</span></div>
<div class="line"><a name="l06832"></a><span class="lineno"> 6832</span>&#160;<span class="comment">// - EndMainMenuBar()</span></div>
<div class="line"><a name="l06833"></a><span class="lineno"> 6833</span>&#160;<span class="comment">// - BeginMenu()</span></div>
<div class="line"><a name="l06834"></a><span class="lineno"> 6834</span>&#160;<span class="comment">// - EndMenu()</span></div>
<div class="line"><a name="l06835"></a><span class="lineno"> 6835</span>&#160;<span class="comment">// - MenuItemEx() [Internal]</span></div>
<div class="line"><a name="l06836"></a><span class="lineno"> 6836</span>&#160;<span class="comment">// - MenuItem()</span></div>
<div class="line"><a name="l06837"></a><span class="lineno"> 6837</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l06838"></a><span class="lineno"> 6838</span>&#160; </div>
<div class="line"><a name="l06839"></a><span class="lineno"> 6839</span>&#160;<span class="comment">// Helpers for internal use</span></div>
<div class="line"><a name="l06840"></a><span class="lineno"> 6840</span>&#160;<span class="keywordtype">void</span> ImGuiMenuColumns::Update(<span class="keywordtype">float</span> spacing, <span class="keywordtype">bool</span> window_reappearing)</div>
<div class="line"><a name="l06841"></a><span class="lineno"> 6841</span>&#160;{</div>
<div class="line"><a name="l06842"></a><span class="lineno"> 6842</span>&#160;    <span class="keywordflow">if</span> (window_reappearing)</div>
<div class="line"><a name="l06843"></a><span class="lineno"> 6843</span>&#160;        memset(Widths, 0, <span class="keyword">sizeof</span>(Widths));</div>
<div class="line"><a name="l06844"></a><span class="lineno"> 6844</span>&#160;    Spacing = (ImU16)spacing;</div>
<div class="line"><a name="l06845"></a><span class="lineno"> 6845</span>&#160;    CalcNextTotalWidth(<span class="keyword">true</span>);</div>
<div class="line"><a name="l06846"></a><span class="lineno"> 6846</span>&#160;    memset(Widths, 0, <span class="keyword">sizeof</span>(Widths));</div>
<div class="line"><a name="l06847"></a><span class="lineno"> 6847</span>&#160;    TotalWidth = NextTotalWidth;</div>
<div class="line"><a name="l06848"></a><span class="lineno"> 6848</span>&#160;    NextTotalWidth = 0;</div>
<div class="line"><a name="l06849"></a><span class="lineno"> 6849</span>&#160;}</div>
<div class="line"><a name="l06850"></a><span class="lineno"> 6850</span>&#160; </div>
<div class="line"><a name="l06851"></a><span class="lineno"> 6851</span>&#160;<span class="keywordtype">void</span> ImGuiMenuColumns::CalcNextTotalWidth(<span class="keywordtype">bool</span> update_offsets)</div>
<div class="line"><a name="l06852"></a><span class="lineno"> 6852</span>&#160;{</div>
<div class="line"><a name="l06853"></a><span class="lineno"> 6853</span>&#160;    ImU16 offset = 0;</div>
<div class="line"><a name="l06854"></a><span class="lineno"> 6854</span>&#160;    <span class="keywordtype">bool</span> want_spacing = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06855"></a><span class="lineno"> 6855</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; IM_ARRAYSIZE(Widths); i++)</div>
<div class="line"><a name="l06856"></a><span class="lineno"> 6856</span>&#160;    {</div>
<div class="line"><a name="l06857"></a><span class="lineno"> 6857</span>&#160;        ImU16 width = Widths[i];</div>
<div class="line"><a name="l06858"></a><span class="lineno"> 6858</span>&#160;        <span class="keywordflow">if</span> (want_spacing &amp;&amp; width &gt; 0)</div>
<div class="line"><a name="l06859"></a><span class="lineno"> 6859</span>&#160;            offset += Spacing;</div>
<div class="line"><a name="l06860"></a><span class="lineno"> 6860</span>&#160;        want_spacing |= (width &gt; 0);</div>
<div class="line"><a name="l06861"></a><span class="lineno"> 6861</span>&#160;        <span class="keywordflow">if</span> (update_offsets)</div>
<div class="line"><a name="l06862"></a><span class="lineno"> 6862</span>&#160;        {</div>
<div class="line"><a name="l06863"></a><span class="lineno"> 6863</span>&#160;            <span class="keywordflow">if</span> (i == 1)</div>
<div class="line"><a name="l06864"></a><span class="lineno"> 6864</span>&#160;            {</div>
<div class="line"><a name="l06865"></a><span class="lineno"> 6865</span>&#160;                OffsetLabel = offset;</div>
<div class="line"><a name="l06866"></a><span class="lineno"> 6866</span>&#160;            }</div>
<div class="line"><a name="l06867"></a><span class="lineno"> 6867</span>&#160;            <span class="keywordflow">if</span> (i == 2)</div>
<div class="line"><a name="l06868"></a><span class="lineno"> 6868</span>&#160;            {</div>
<div class="line"><a name="l06869"></a><span class="lineno"> 6869</span>&#160;                OffsetShortcut = offset;</div>
<div class="line"><a name="l06870"></a><span class="lineno"> 6870</span>&#160;            }</div>
<div class="line"><a name="l06871"></a><span class="lineno"> 6871</span>&#160;            <span class="keywordflow">if</span> (i == 3)</div>
<div class="line"><a name="l06872"></a><span class="lineno"> 6872</span>&#160;            {</div>
<div class="line"><a name="l06873"></a><span class="lineno"> 6873</span>&#160;                OffsetMark = offset;</div>
<div class="line"><a name="l06874"></a><span class="lineno"> 6874</span>&#160;            }</div>
<div class="line"><a name="l06875"></a><span class="lineno"> 6875</span>&#160;        }</div>
<div class="line"><a name="l06876"></a><span class="lineno"> 6876</span>&#160;        offset += width;</div>
<div class="line"><a name="l06877"></a><span class="lineno"> 6877</span>&#160;    }</div>
<div class="line"><a name="l06878"></a><span class="lineno"> 6878</span>&#160;    NextTotalWidth = offset;</div>
<div class="line"><a name="l06879"></a><span class="lineno"> 6879</span>&#160;}</div>
<div class="line"><a name="l06880"></a><span class="lineno"> 6880</span>&#160; </div>
<div class="line"><a name="l06881"></a><span class="lineno"> 6881</span>&#160;<span class="keywordtype">float</span> ImGuiMenuColumns::DeclColumns(<span class="keywordtype">float</span> w_icon, <span class="keywordtype">float</span> w_label, <span class="keywordtype">float</span> w_shortcut, <span class="keywordtype">float</span> w_mark)</div>
<div class="line"><a name="l06882"></a><span class="lineno"> 6882</span>&#160;{</div>
<div class="line"><a name="l06883"></a><span class="lineno"> 6883</span>&#160;    Widths[0] = ImMax(Widths[0], (ImU16)w_icon);</div>
<div class="line"><a name="l06884"></a><span class="lineno"> 6884</span>&#160;    Widths[1] = ImMax(Widths[1], (ImU16)w_label);</div>
<div class="line"><a name="l06885"></a><span class="lineno"> 6885</span>&#160;    Widths[2] = ImMax(Widths[2], (ImU16)w_shortcut);</div>
<div class="line"><a name="l06886"></a><span class="lineno"> 6886</span>&#160;    Widths[3] = ImMax(Widths[3], (ImU16)w_mark);</div>
<div class="line"><a name="l06887"></a><span class="lineno"> 6887</span>&#160;    CalcNextTotalWidth(<span class="keyword">false</span>);</div>
<div class="line"><a name="l06888"></a><span class="lineno"> 6888</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">float</span>)ImMax(TotalWidth, NextTotalWidth);</div>
<div class="line"><a name="l06889"></a><span class="lineno"> 6889</span>&#160;}</div>
<div class="line"><a name="l06890"></a><span class="lineno"> 6890</span>&#160; </div>
<div class="line"><a name="l06891"></a><span class="lineno"> 6891</span>&#160;<span class="comment">// FIXME: Provided a rectangle perhaps e.g. a BeginMenuBarEx() could be used anywhere..</span></div>
<div class="line"><a name="l06892"></a><span class="lineno"> 6892</span>&#160;<span class="comment">// Currently the main responsibility of this function being to setup clip-rect + horizontal layout + menu navigation layer.</span></div>
<div class="line"><a name="l06893"></a><span class="lineno"> 6893</span>&#160;<span class="comment">// Ideally we also want this to be responsible for claiming space out of the main window scrolling rectangle, in which case ImGuiWindowFlags_MenuBar will become unnecessary.</span></div>
<div class="line"><a name="l06894"></a><span class="lineno"> 6894</span>&#160;<span class="comment">// Then later the same system could be used for multiple menu-bars, scrollbars, side-bars.</span></div>
<div class="line"><a name="l06895"></a><span class="lineno"> 6895</span>&#160;<span class="keywordtype">bool</span> ImGui::BeginMenuBar()</div>
<div class="line"><a name="l06896"></a><span class="lineno"> 6896</span>&#160;{</div>
<div class="line"><a name="l06897"></a><span class="lineno"> 6897</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l06898"></a><span class="lineno"> 6898</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l06899"></a><span class="lineno"> 6899</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06900"></a><span class="lineno"> 6900</span>&#160;    <span class="keywordflow">if</span> (!(window-&gt;Flags &amp; ImGuiWindowFlags_MenuBar))</div>
<div class="line"><a name="l06901"></a><span class="lineno"> 6901</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06902"></a><span class="lineno"> 6902</span>&#160; </div>
<div class="line"><a name="l06903"></a><span class="lineno"> 6903</span>&#160;    IM_ASSERT(!window-&gt;DC.MenuBarAppending);</div>
<div class="line"><a name="l06904"></a><span class="lineno"> 6904</span>&#160;    BeginGroup(); <span class="comment">// Backup position on layer 0 // FIXME: Misleading to use a group for that backup/restore</span></div>
<div class="line"><a name="l06905"></a><span class="lineno"> 6905</span>&#160;    PushID(<span class="stringliteral">&quot;##menubar&quot;</span>);</div>
<div class="line"><a name="l06906"></a><span class="lineno"> 6906</span>&#160; </div>
<div class="line"><a name="l06907"></a><span class="lineno"> 6907</span>&#160;    <span class="comment">// We don&#39;t clip with current window clipping rectangle as it is already set to the area below. However we clip with window full rect.</span></div>
<div class="line"><a name="l06908"></a><span class="lineno"> 6908</span>&#160;    <span class="comment">// We remove 1 worth of rounding to Max.x to that text in long menus and small windows don&#39;t tend to display over the lower-right rounded area, which looks particularly glitchy.</span></div>
<div class="line"><a name="l06909"></a><span class="lineno"> 6909</span>&#160;    <a class="code" href="struct_im_rect.html">ImRect</a> bar_rect = window-&gt;MenuBarRect();</div>
<div class="line"><a name="l06910"></a><span class="lineno"> 6910</span>&#160;    <a class="code" href="struct_im_rect.html">ImRect</a> clip_rect(IM_ROUND(bar_rect.Min.x + window-&gt;WindowBorderSize), IM_ROUND(bar_rect.Min.y + window-&gt;WindowBorderSize), IM_ROUND(ImMax(bar_rect.Min.x, bar_rect.Max.x - ImMax(window-&gt;WindowRounding, window-&gt;WindowBorderSize))), IM_ROUND(bar_rect.Max.y));</div>
<div class="line"><a name="l06911"></a><span class="lineno"> 6911</span>&#160;    clip_rect.ClipWith(window-&gt;OuterRectClipped);</div>
<div class="line"><a name="l06912"></a><span class="lineno"> 6912</span>&#160;    PushClipRect(clip_rect.Min, clip_rect.Max, <span class="keyword">false</span>);</div>
<div class="line"><a name="l06913"></a><span class="lineno"> 6913</span>&#160; </div>
<div class="line"><a name="l06914"></a><span class="lineno"> 6914</span>&#160;    <span class="comment">// We overwrite CursorMaxPos because BeginGroup sets it to CursorPos (essentially the .EmitItem hack in EndMenuBar() would need something analogous here, maybe a BeginGroupEx() with flags).</span></div>
<div class="line"><a name="l06915"></a><span class="lineno"> 6915</span>&#160;    window-&gt;DC.CursorPos = window-&gt;DC.CursorMaxPos = <a class="code" href="struct_im_vec2.html">ImVec2</a>(bar_rect.Min.x + window-&gt;DC.MenuBarOffset.x, bar_rect.Min.y + window-&gt;DC.MenuBarOffset.y);</div>
<div class="line"><a name="l06916"></a><span class="lineno"> 6916</span>&#160;    window-&gt;DC.LayoutType = ImGuiLayoutType_Horizontal;</div>
<div class="line"><a name="l06917"></a><span class="lineno"> 6917</span>&#160;    window-&gt;DC.NavLayerCurrent = ImGuiNavLayer_Menu;</div>
<div class="line"><a name="l06918"></a><span class="lineno"> 6918</span>&#160;    window-&gt;DC.MenuBarAppending = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06919"></a><span class="lineno"> 6919</span>&#160;    AlignTextToFramePadding();</div>
<div class="line"><a name="l06920"></a><span class="lineno"> 6920</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06921"></a><span class="lineno"> 6921</span>&#160;}</div>
<div class="line"><a name="l06922"></a><span class="lineno"> 6922</span>&#160; </div>
<div class="line"><a name="l06923"></a><span class="lineno"> 6923</span>&#160;<span class="keywordtype">void</span> ImGui::EndMenuBar()</div>
<div class="line"><a name="l06924"></a><span class="lineno"> 6924</span>&#160;{</div>
<div class="line"><a name="l06925"></a><span class="lineno"> 6925</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l06926"></a><span class="lineno"> 6926</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l06927"></a><span class="lineno"> 6927</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06928"></a><span class="lineno"> 6928</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l06929"></a><span class="lineno"> 6929</span>&#160; </div>
<div class="line"><a name="l06930"></a><span class="lineno"> 6930</span>&#160;    <span class="comment">// Nav: When a move request within one of our child menu failed, capture the request to navigate among our siblings.</span></div>
<div class="line"><a name="l06931"></a><span class="lineno"> 6931</span>&#160;    <span class="keywordflow">if</span> (NavMoveRequestButNoResultYet() &amp;&amp; (g.NavMoveDir == ImGuiDir_Left || g.NavMoveDir == ImGuiDir_Right) &amp;&amp; (g.NavWindow-&gt;Flags &amp; ImGuiWindowFlags_ChildMenu))</div>
<div class="line"><a name="l06932"></a><span class="lineno"> 6932</span>&#160;    {</div>
<div class="line"><a name="l06933"></a><span class="lineno"> 6933</span>&#160;        <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *nav_earliest_child = g.NavWindow;</div>
<div class="line"><a name="l06934"></a><span class="lineno"> 6934</span>&#160;        <span class="keywordflow">while</span> (nav_earliest_child-&gt;ParentWindow &amp;&amp; (nav_earliest_child-&gt;ParentWindow-&gt;Flags &amp; ImGuiWindowFlags_ChildMenu))</div>
<div class="line"><a name="l06935"></a><span class="lineno"> 6935</span>&#160;            nav_earliest_child = nav_earliest_child-&gt;ParentWindow;</div>
<div class="line"><a name="l06936"></a><span class="lineno"> 6936</span>&#160;        <span class="keywordflow">if</span> (nav_earliest_child-&gt;ParentWindow == window &amp;&amp; nav_earliest_child-&gt;DC.ParentLayoutType == ImGuiLayoutType_Horizontal &amp;&amp; g.NavMoveRequestForward == ImGuiNavForward_None)</div>
<div class="line"><a name="l06937"></a><span class="lineno"> 6937</span>&#160;        {</div>
<div class="line"><a name="l06938"></a><span class="lineno"> 6938</span>&#160;            <span class="comment">// To do so we claim focus back, restore NavId and then process the movement request for yet another frame.</span></div>
<div class="line"><a name="l06939"></a><span class="lineno"> 6939</span>&#160;            <span class="comment">// This involve a one-frame delay which isn&#39;t very problematic in this situation. We could remove it by scoring in advance for multiple window (probably not worth the hassle/cost)</span></div>
<div class="line"><a name="l06940"></a><span class="lineno"> 6940</span>&#160;            <span class="keyword">const</span> ImGuiNavLayer layer = ImGuiNavLayer_Menu;</div>
<div class="line"><a name="l06941"></a><span class="lineno"> 6941</span>&#160;            IM_ASSERT(window-&gt;DC.NavLayersActiveMaskNext &amp; (1 &lt;&lt; layer)); <span class="comment">// Sanity check</span></div>
<div class="line"><a name="l06942"></a><span class="lineno"> 6942</span>&#160;            FocusWindow(window);</div>
<div class="line"><a name="l06943"></a><span class="lineno"> 6943</span>&#160;            SetNavID(window-&gt;NavLastIds[layer], layer, 0, window-&gt;NavRectRel[layer]);</div>
<div class="line"><a name="l06944"></a><span class="lineno"> 6944</span>&#160;            g.NavDisableHighlight = <span class="keyword">true</span>; <span class="comment">// Hide highlight for the current frame so we don&#39;t see the intermediary selection.</span></div>
<div class="line"><a name="l06945"></a><span class="lineno"> 6945</span>&#160;            g.NavDisableMouseHover = g.NavMousePosDirty = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06946"></a><span class="lineno"> 6946</span>&#160;            g.NavMoveRequestForward = ImGuiNavForward_ForwardQueued;</div>
<div class="line"><a name="l06947"></a><span class="lineno"> 6947</span>&#160;            NavMoveRequestCancel();</div>
<div class="line"><a name="l06948"></a><span class="lineno"> 6948</span>&#160;        }</div>
<div class="line"><a name="l06949"></a><span class="lineno"> 6949</span>&#160;    }</div>
<div class="line"><a name="l06950"></a><span class="lineno"> 6950</span>&#160; </div>
<div class="line"><a name="l06951"></a><span class="lineno"> 6951</span>&#160;    IM_MSVC_WARNING_SUPPRESS(6011); <span class="comment">// Static Analysis false positive &quot;warning C6011: Dereferencing NULL pointer &#39;window&#39;&quot;</span></div>
<div class="line"><a name="l06952"></a><span class="lineno"> 6952</span>&#160;    IM_ASSERT(window-&gt;Flags &amp; ImGuiWindowFlags_MenuBar);</div>
<div class="line"><a name="l06953"></a><span class="lineno"> 6953</span>&#160;    IM_ASSERT(window-&gt;DC.MenuBarAppending);</div>
<div class="line"><a name="l06954"></a><span class="lineno"> 6954</span>&#160;    PopClipRect();</div>
<div class="line"><a name="l06955"></a><span class="lineno"> 6955</span>&#160;    PopID();</div>
<div class="line"><a name="l06956"></a><span class="lineno"> 6956</span>&#160;    window-&gt;DC.MenuBarOffset.x = window-&gt;DC.CursorPos.x - window-&gt;Pos.x; <span class="comment">// Save horizontal position so next append can reuse it. This is kinda equivalent to a per-layer CursorPos.</span></div>
<div class="line"><a name="l06957"></a><span class="lineno"> 6957</span>&#160;    g.GroupStack.back().EmitItem = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06958"></a><span class="lineno"> 6958</span>&#160;    EndGroup(); <span class="comment">// Restore position on layer 0</span></div>
<div class="line"><a name="l06959"></a><span class="lineno"> 6959</span>&#160;    window-&gt;DC.LayoutType = ImGuiLayoutType_Vertical;</div>
<div class="line"><a name="l06960"></a><span class="lineno"> 6960</span>&#160;    window-&gt;DC.NavLayerCurrent = ImGuiNavLayer_Main;</div>
<div class="line"><a name="l06961"></a><span class="lineno"> 6961</span>&#160;    window-&gt;DC.MenuBarAppending = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06962"></a><span class="lineno"> 6962</span>&#160;}</div>
<div class="line"><a name="l06963"></a><span class="lineno"> 6963</span>&#160; </div>
<div class="line"><a name="l06964"></a><span class="lineno"> 6964</span>&#160;<span class="comment">// Important: calling order matters!</span></div>
<div class="line"><a name="l06965"></a><span class="lineno"> 6965</span>&#160;<span class="comment">// FIXME: Somehow overlapping with docking tech.</span></div>
<div class="line"><a name="l06966"></a><span class="lineno"> 6966</span>&#160;<span class="comment">// FIXME: The &quot;rect-cut&quot; aspect of this could be formalized into a lower-level helper (rect-cut: https://halt.software/dead-simple-layouts)</span></div>
<div class="line"><a name="l06967"></a><span class="lineno"> 6967</span>&#160;<span class="keywordtype">bool</span> ImGui::BeginViewportSideBar(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, <a class="code" href="struct_im_gui_viewport.html">ImGuiViewport</a> *viewport_p, ImGuiDir dir, <span class="keywordtype">float</span> axis_size, ImGuiWindowFlags window_flags)</div>
<div class="line"><a name="l06968"></a><span class="lineno"> 6968</span>&#160;{</div>
<div class="line"><a name="l06969"></a><span class="lineno"> 6969</span>&#160;    IM_ASSERT(dir != ImGuiDir_None);</div>
<div class="line"><a name="l06970"></a><span class="lineno"> 6970</span>&#160; </div>
<div class="line"><a name="l06971"></a><span class="lineno"> 6971</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *bar_window = FindWindowByName(name);</div>
<div class="line"><a name="l06972"></a><span class="lineno"> 6972</span>&#160;    <span class="keywordflow">if</span> (bar_window == NULL || bar_window-&gt;BeginCount == 0)</div>
<div class="line"><a name="l06973"></a><span class="lineno"> 6973</span>&#160;    {</div>
<div class="line"><a name="l06974"></a><span class="lineno"> 6974</span>&#160;        <span class="comment">// Calculate and set window size/position</span></div>
<div class="line"><a name="l06975"></a><span class="lineno"> 6975</span>&#160;        <a class="code" href="struct_im_gui_viewport_p.html">ImGuiViewportP</a> *viewport = (<a class="code" href="struct_im_gui_viewport_p.html">ImGuiViewportP</a> *)(<span class="keywordtype">void</span> *)(viewport_p ? viewport_p : GetMainViewport());</div>
<div class="line"><a name="l06976"></a><span class="lineno"> 6976</span>&#160;        <a class="code" href="struct_im_rect.html">ImRect</a> avail_rect = viewport-&gt;GetBuildWorkRect();</div>
<div class="line"><a name="l06977"></a><span class="lineno"> 6977</span>&#160;        ImGuiAxis axis = (dir == ImGuiDir_Up || dir == ImGuiDir_Down) ? ImGuiAxis_Y : ImGuiAxis_X;</div>
<div class="line"><a name="l06978"></a><span class="lineno"> 6978</span>&#160;        <a class="code" href="struct_im_vec2.html">ImVec2</a> pos = avail_rect.Min;</div>
<div class="line"><a name="l06979"></a><span class="lineno"> 6979</span>&#160;        <span class="keywordflow">if</span> (dir == ImGuiDir_Right || dir == ImGuiDir_Down)</div>
<div class="line"><a name="l06980"></a><span class="lineno"> 6980</span>&#160;            pos[axis] = avail_rect.Max[axis] - axis_size;</div>
<div class="line"><a name="l06981"></a><span class="lineno"> 6981</span>&#160;        <a class="code" href="struct_im_vec2.html">ImVec2</a> size = avail_rect.GetSize();</div>
<div class="line"><a name="l06982"></a><span class="lineno"> 6982</span>&#160;        size[axis] = axis_size;</div>
<div class="line"><a name="l06983"></a><span class="lineno"> 6983</span>&#160;        SetNextWindowPos(pos);</div>
<div class="line"><a name="l06984"></a><span class="lineno"> 6984</span>&#160;        SetNextWindowSize(size);</div>
<div class="line"><a name="l06985"></a><span class="lineno"> 6985</span>&#160; </div>
<div class="line"><a name="l06986"></a><span class="lineno"> 6986</span>&#160;        <span class="comment">// Report our size into work area (for next frame) using actual window size</span></div>
<div class="line"><a name="l06987"></a><span class="lineno"> 6987</span>&#160;        <span class="keywordflow">if</span> (dir == ImGuiDir_Up || dir == ImGuiDir_Left)</div>
<div class="line"><a name="l06988"></a><span class="lineno"> 6988</span>&#160;            viewport-&gt;BuildWorkOffsetMin[axis] += axis_size;</div>
<div class="line"><a name="l06989"></a><span class="lineno"> 6989</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dir == ImGuiDir_Down || dir == ImGuiDir_Right)</div>
<div class="line"><a name="l06990"></a><span class="lineno"> 6990</span>&#160;            viewport-&gt;BuildWorkOffsetMax[axis] -= axis_size;</div>
<div class="line"><a name="l06991"></a><span class="lineno"> 6991</span>&#160;    }</div>
<div class="line"><a name="l06992"></a><span class="lineno"> 6992</span>&#160; </div>
<div class="line"><a name="l06993"></a><span class="lineno"> 6993</span>&#160;    window_flags |= ImGuiWindowFlags_NoTitleBar | ImGuiWindowFlags_NoResize | ImGuiWindowFlags_NoMove;</div>
<div class="line"><a name="l06994"></a><span class="lineno"> 6994</span>&#160;    PushStyleVar(ImGuiStyleVar_WindowRounding, 0.0f);</div>
<div class="line"><a name="l06995"></a><span class="lineno"> 6995</span>&#160;    PushStyleVar(ImGuiStyleVar_WindowMinSize, <a class="code" href="struct_im_vec2.html">ImVec2</a>(0, 0)); <span class="comment">// Lift normal size constraint</span></div>
<div class="line"><a name="l06996"></a><span class="lineno"> 6996</span>&#160;    <span class="keywordtype">bool</span> is_open = Begin(name, NULL, window_flags);</div>
<div class="line"><a name="l06997"></a><span class="lineno"> 6997</span>&#160;    PopStyleVar(2);</div>
<div class="line"><a name="l06998"></a><span class="lineno"> 6998</span>&#160; </div>
<div class="line"><a name="l06999"></a><span class="lineno"> 6999</span>&#160;    <span class="keywordflow">return</span> is_open;</div>
<div class="line"><a name="l07000"></a><span class="lineno"> 7000</span>&#160;}</div>
<div class="line"><a name="l07001"></a><span class="lineno"> 7001</span>&#160; </div>
<div class="line"><a name="l07002"></a><span class="lineno"> 7002</span>&#160;<span class="keywordtype">bool</span> ImGui::BeginMainMenuBar()</div>
<div class="line"><a name="l07003"></a><span class="lineno"> 7003</span>&#160;{</div>
<div class="line"><a name="l07004"></a><span class="lineno"> 7004</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l07005"></a><span class="lineno"> 7005</span>&#160;    <a class="code" href="struct_im_gui_viewport_p.html">ImGuiViewportP</a> *viewport = (<a class="code" href="struct_im_gui_viewport_p.html">ImGuiViewportP</a> *)(<span class="keywordtype">void</span> *)GetMainViewport();</div>
<div class="line"><a name="l07006"></a><span class="lineno"> 7006</span>&#160; </div>
<div class="line"><a name="l07007"></a><span class="lineno"> 7007</span>&#160;    <span class="comment">// For the main menu bar, which cannot be moved, we honor g.Style.DisplaySafeAreaPadding to ensure text can be visible on a TV set.</span></div>
<div class="line"><a name="l07008"></a><span class="lineno"> 7008</span>&#160;    <span class="comment">// FIXME: This could be generalized as an opt-in way to clamp window-&gt;DC.CursorStartPos to avoid SafeArea?</span></div>
<div class="line"><a name="l07009"></a><span class="lineno"> 7009</span>&#160;    <span class="comment">// FIXME: Consider removing support for safe area down the line... it&#39;s messy. Nowadays consoles have support for TV calibration in OS settings.</span></div>
<div class="line"><a name="l07010"></a><span class="lineno"> 7010</span>&#160;    g.NextWindowData.MenuBarOffsetMinVal = <a class="code" href="struct_im_vec2.html">ImVec2</a>(g.Style.DisplaySafeAreaPadding.x, ImMax(g.Style.DisplaySafeAreaPadding.y - g.Style.FramePadding.y, 0.0f));</div>
<div class="line"><a name="l07011"></a><span class="lineno"> 7011</span>&#160;    ImGuiWindowFlags window_flags = ImGuiWindowFlags_NoScrollbar | ImGuiWindowFlags_NoSavedSettings | ImGuiWindowFlags_MenuBar;</div>
<div class="line"><a name="l07012"></a><span class="lineno"> 7012</span>&#160;    <span class="keywordtype">float</span> height = GetFrameHeight();</div>
<div class="line"><a name="l07013"></a><span class="lineno"> 7013</span>&#160;    <span class="keywordtype">bool</span> is_open = BeginViewportSideBar(<span class="stringliteral">&quot;##MainMenuBar&quot;</span>, viewport, ImGuiDir_Up, height, window_flags);</div>
<div class="line"><a name="l07014"></a><span class="lineno"> 7014</span>&#160;    g.NextWindowData.MenuBarOffsetMinVal = <a class="code" href="struct_im_vec2.html">ImVec2</a>(0.0f, 0.0f);</div>
<div class="line"><a name="l07015"></a><span class="lineno"> 7015</span>&#160; </div>
<div class="line"><a name="l07016"></a><span class="lineno"> 7016</span>&#160;    <span class="keywordflow">if</span> (is_open)</div>
<div class="line"><a name="l07017"></a><span class="lineno"> 7017</span>&#160;        BeginMenuBar();</div>
<div class="line"><a name="l07018"></a><span class="lineno"> 7018</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l07019"></a><span class="lineno"> 7019</span>&#160;        End();</div>
<div class="line"><a name="l07020"></a><span class="lineno"> 7020</span>&#160;    <span class="keywordflow">return</span> is_open;</div>
<div class="line"><a name="l07021"></a><span class="lineno"> 7021</span>&#160;}</div>
<div class="line"><a name="l07022"></a><span class="lineno"> 7022</span>&#160; </div>
<div class="line"><a name="l07023"></a><span class="lineno"> 7023</span>&#160;<span class="keywordtype">void</span> ImGui::EndMainMenuBar()</div>
<div class="line"><a name="l07024"></a><span class="lineno"> 7024</span>&#160;{</div>
<div class="line"><a name="l07025"></a><span class="lineno"> 7025</span>&#160;    EndMenuBar();</div>
<div class="line"><a name="l07026"></a><span class="lineno"> 7026</span>&#160; </div>
<div class="line"><a name="l07027"></a><span class="lineno"> 7027</span>&#160;    <span class="comment">// When the user has left the menu layer (typically: closed menus through activation of an item), we restore focus to the previous window</span></div>
<div class="line"><a name="l07028"></a><span class="lineno"> 7028</span>&#160;    <span class="comment">// FIXME: With this strategy we won&#39;t be able to restore a NULL focus.</span></div>
<div class="line"><a name="l07029"></a><span class="lineno"> 7029</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l07030"></a><span class="lineno"> 7030</span>&#160;    <span class="keywordflow">if</span> (g.CurrentWindow == g.NavWindow &amp;&amp; g.NavLayer == ImGuiNavLayer_Main &amp;&amp; !g.NavAnyRequest)</div>
<div class="line"><a name="l07031"></a><span class="lineno"> 7031</span>&#160;        FocusTopMostWindowUnderOne(g.NavWindow, NULL);</div>
<div class="line"><a name="l07032"></a><span class="lineno"> 7032</span>&#160; </div>
<div class="line"><a name="l07033"></a><span class="lineno"> 7033</span>&#160;    End();</div>
<div class="line"><a name="l07034"></a><span class="lineno"> 7034</span>&#160;}</div>
<div class="line"><a name="l07035"></a><span class="lineno"> 7035</span>&#160; </div>
<div class="line"><a name="l07036"></a><span class="lineno"> 7036</span>&#160;<span class="keywordtype">bool</span> ImGui::BeginMenu(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">bool</span> enabled)</div>
<div class="line"><a name="l07037"></a><span class="lineno"> 7037</span>&#160;{</div>
<div class="line"><a name="l07038"></a><span class="lineno"> 7038</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l07039"></a><span class="lineno"> 7039</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l07040"></a><span class="lineno"> 7040</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07041"></a><span class="lineno"> 7041</span>&#160; </div>
<div class="line"><a name="l07042"></a><span class="lineno"> 7042</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l07043"></a><span class="lineno"> 7043</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_gui_style.html">ImGuiStyle</a> &amp;style = g.Style;</div>
<div class="line"><a name="l07044"></a><span class="lineno"> 7044</span>&#160;    <span class="keyword">const</span> ImGuiID <span class="keywordtype">id</span> = window-&gt;GetID(label);</div>
<div class="line"><a name="l07045"></a><span class="lineno"> 7045</span>&#160;    <span class="keywordtype">bool</span> menu_is_open = IsPopupOpen(<span class="keywordtype">id</span>, ImGuiPopupFlags_None);</div>
<div class="line"><a name="l07046"></a><span class="lineno"> 7046</span>&#160; </div>
<div class="line"><a name="l07047"></a><span class="lineno"> 7047</span>&#160;    <span class="comment">// Sub-menus are ChildWindow so that mouse can be hovering across them (otherwise top-most popup menu would steal focus and not allow hovering on parent menu)</span></div>
<div class="line"><a name="l07048"></a><span class="lineno"> 7048</span>&#160;    ImGuiWindowFlags flags = ImGuiWindowFlags_ChildMenu | ImGuiWindowFlags_AlwaysAutoResize | ImGuiWindowFlags_NoMove | ImGuiWindowFlags_NoTitleBar | ImGuiWindowFlags_NoSavedSettings | ImGuiWindowFlags_NoNavFocus;</div>
<div class="line"><a name="l07049"></a><span class="lineno"> 7049</span>&#160;    <span class="keywordflow">if</span> (window-&gt;Flags &amp; (ImGuiWindowFlags_Popup | ImGuiWindowFlags_ChildMenu))</div>
<div class="line"><a name="l07050"></a><span class="lineno"> 7050</span>&#160;        flags |= ImGuiWindowFlags_ChildWindow;</div>
<div class="line"><a name="l07051"></a><span class="lineno"> 7051</span>&#160; </div>
<div class="line"><a name="l07052"></a><span class="lineno"> 7052</span>&#160;    <span class="comment">// If a menu with same the ID was already submitted, we will append to it, matching the behavior of Begin().</span></div>
<div class="line"><a name="l07053"></a><span class="lineno"> 7053</span>&#160;    <span class="comment">// We are relying on a O(N) search - so O(N log N) over the frame - which seems like the most efficient for the expected small amount of BeginMenu() calls per frame.</span></div>
<div class="line"><a name="l07054"></a><span class="lineno"> 7054</span>&#160;    <span class="comment">// If somehow this is ever becoming a problem we can switch to use e.g. ImGuiStorage mapping key to last frame used.</span></div>
<div class="line"><a name="l07055"></a><span class="lineno"> 7055</span>&#160;    <span class="keywordflow">if</span> (g.MenusIdSubmittedThisFrame.contains(<span class="keywordtype">id</span>))</div>
<div class="line"><a name="l07056"></a><span class="lineno"> 7056</span>&#160;    {</div>
<div class="line"><a name="l07057"></a><span class="lineno"> 7057</span>&#160;        <span class="keywordflow">if</span> (menu_is_open)</div>
<div class="line"><a name="l07058"></a><span class="lineno"> 7058</span>&#160;            menu_is_open = BeginPopupEx(<span class="keywordtype">id</span>, flags); <span class="comment">// menu_is_open can be &#39;false&#39; when the popup is completely clipped (e.g. zero size display)</span></div>
<div class="line"><a name="l07059"></a><span class="lineno"> 7059</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l07060"></a><span class="lineno"> 7060</span>&#160;            g.NextWindowData.ClearFlags();          <span class="comment">// we behave like Begin() and need to consume those values</span></div>
<div class="line"><a name="l07061"></a><span class="lineno"> 7061</span>&#160;        <span class="keywordflow">return</span> menu_is_open;</div>
<div class="line"><a name="l07062"></a><span class="lineno"> 7062</span>&#160;    }</div>
<div class="line"><a name="l07063"></a><span class="lineno"> 7063</span>&#160; </div>
<div class="line"><a name="l07064"></a><span class="lineno"> 7064</span>&#160;    <span class="comment">// Tag menu as used. Next time BeginMenu() with same ID is called it will append to existing menu</span></div>
<div class="line"><a name="l07065"></a><span class="lineno"> 7065</span>&#160;    g.MenusIdSubmittedThisFrame.push_back(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l07066"></a><span class="lineno"> 7066</span>&#160; </div>
<div class="line"><a name="l07067"></a><span class="lineno"> 7067</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> label_size = CalcTextSize(label, NULL, <span class="keyword">true</span>);</div>
<div class="line"><a name="l07068"></a><span class="lineno"> 7068</span>&#160;    <span class="keywordtype">bool</span> pressed;</div>
<div class="line"><a name="l07069"></a><span class="lineno"> 7069</span>&#160;    <span class="keywordtype">bool</span> menuset_is_open = !(window-&gt;Flags &amp; ImGuiWindowFlags_Popup) &amp;&amp; (g.OpenPopupStack.Size &gt; g.BeginPopupStack.Size &amp;&amp; g.OpenPopupStack[g.BeginPopupStack.Size].OpenParentId == window-&gt;IDStack.back());</div>
<div class="line"><a name="l07070"></a><span class="lineno"> 7070</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *backed_nav_window = g.NavWindow;</div>
<div class="line"><a name="l07071"></a><span class="lineno"> 7071</span>&#160;    <span class="keywordflow">if</span> (menuset_is_open)</div>
<div class="line"><a name="l07072"></a><span class="lineno"> 7072</span>&#160;        g.NavWindow = window;  <span class="comment">// Odd hack to allow hovering across menus of a same menu-set (otherwise we wouldn&#39;t be able to hover parent)</span></div>
<div class="line"><a name="l07073"></a><span class="lineno"> 7073</span>&#160; </div>
<div class="line"><a name="l07074"></a><span class="lineno"> 7074</span>&#160;    <span class="comment">// The reference position stored in popup_pos will be used by Begin() to find a suitable position for the child menu,</span></div>
<div class="line"><a name="l07075"></a><span class="lineno"> 7075</span>&#160;    <span class="comment">// However the final position is going to be different! It is chosen by FindBestWindowPosForPopup().</span></div>
<div class="line"><a name="l07076"></a><span class="lineno"> 7076</span>&#160;    <span class="comment">// e.g. Menus tend to overlap each other horizontally to amplify relative Z-ordering.</span></div>
<div class="line"><a name="l07077"></a><span class="lineno"> 7077</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> popup_pos, pos = window-&gt;DC.CursorPos;</div>
<div class="line"><a name="l07078"></a><span class="lineno"> 7078</span>&#160;    PushID(label);</div>
<div class="line"><a name="l07079"></a><span class="lineno"> 7079</span>&#160;    <span class="keywordflow">if</span> (!enabled)</div>
<div class="line"><a name="l07080"></a><span class="lineno"> 7080</span>&#160;        BeginDisabled();</div>
<div class="line"><a name="l07081"></a><span class="lineno"> 7081</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_gui_menu_columns.html">ImGuiMenuColumns</a> *offsets = &amp;window-&gt;DC.MenuColumns;</div>
<div class="line"><a name="l07082"></a><span class="lineno"> 7082</span>&#160;    <span class="keywordflow">if</span> (window-&gt;DC.LayoutType == ImGuiLayoutType_Horizontal)</div>
<div class="line"><a name="l07083"></a><span class="lineno"> 7083</span>&#160;    {</div>
<div class="line"><a name="l07084"></a><span class="lineno"> 7084</span>&#160;        <span class="comment">// Menu inside an horizontal menu bar</span></div>
<div class="line"><a name="l07085"></a><span class="lineno"> 7085</span>&#160;        <span class="comment">// Selectable extend their highlight by half ItemSpacing in each direction.</span></div>
<div class="line"><a name="l07086"></a><span class="lineno"> 7086</span>&#160;        <span class="comment">// For ChildMenu, the popup position will be overwritten by the call to FindBestWindowPosForPopup() in Begin()</span></div>
<div class="line"><a name="l07087"></a><span class="lineno"> 7087</span>&#160;        popup_pos = <a class="code" href="struct_im_vec2.html">ImVec2</a>(pos.x - 1.0f - IM_FLOOR(style.ItemSpacing.x * 0.5f), pos.y - style.FramePadding.y + window-&gt;MenuBarHeight());</div>
<div class="line"><a name="l07088"></a><span class="lineno"> 7088</span>&#160;        window-&gt;DC.CursorPos.x += IM_FLOOR(style.ItemSpacing.x * 0.5f);</div>
<div class="line"><a name="l07089"></a><span class="lineno"> 7089</span>&#160;        PushStyleVar(ImGuiStyleVar_ItemSpacing, <a class="code" href="struct_im_vec2.html">ImVec2</a>(style.ItemSpacing.x * 2.0f, style.ItemSpacing.y));</div>
<div class="line"><a name="l07090"></a><span class="lineno"> 7090</span>&#160;        <span class="keywordtype">float</span> w = label_size.x;</div>
<div class="line"><a name="l07091"></a><span class="lineno"> 7091</span>&#160;        <a class="code" href="struct_im_vec2.html">ImVec2</a> text_pos(window-&gt;DC.CursorPos.x + offsets-&gt;OffsetLabel, window-&gt;DC.CursorPos.y + window-&gt;DC.CurrLineTextBaseOffset);</div>
<div class="line"><a name="l07092"></a><span class="lineno"> 7092</span>&#160;        pressed = Selectable(<span class="stringliteral">&quot;&quot;</span>, menu_is_open, ImGuiSelectableFlags_NoHoldingActiveID | ImGuiSelectableFlags_SelectOnClick | ImGuiSelectableFlags_DontClosePopups, <a class="code" href="struct_im_vec2.html">ImVec2</a>(w, 0.0f));</div>
<div class="line"><a name="l07093"></a><span class="lineno"> 7093</span>&#160;        RenderText(text_pos, label);</div>
<div class="line"><a name="l07094"></a><span class="lineno"> 7094</span>&#160;        PopStyleVar();</div>
<div class="line"><a name="l07095"></a><span class="lineno"> 7095</span>&#160;        window-&gt;DC.CursorPos.x += IM_FLOOR(style.ItemSpacing.x * (-1.0f + 0.5f)); <span class="comment">// -1 spacing to compensate the spacing added when Selectable() did a SameLine(). It would also work to call SameLine() ourselves after the PopStyleVar().</span></div>
<div class="line"><a name="l07096"></a><span class="lineno"> 7096</span>&#160;    }</div>
<div class="line"><a name="l07097"></a><span class="lineno"> 7097</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l07098"></a><span class="lineno"> 7098</span>&#160;    {</div>
<div class="line"><a name="l07099"></a><span class="lineno"> 7099</span>&#160;        <span class="comment">// Menu inside a menu</span></div>
<div class="line"><a name="l07100"></a><span class="lineno"> 7100</span>&#160;        <span class="comment">// (In a typical menu window where all items are BeginMenu() or MenuItem() calls, extra_w will always be 0.0f.</span></div>
<div class="line"><a name="l07101"></a><span class="lineno"> 7101</span>&#160;        <span class="comment">//  Only when they are other items sticking out we&#39;re going to add spacing, yet only register minimum width into the layout system.</span></div>
<div class="line"><a name="l07102"></a><span class="lineno"> 7102</span>&#160;        popup_pos = <a class="code" href="struct_im_vec2.html">ImVec2</a>(pos.x, pos.y - style.WindowPadding.y);</div>
<div class="line"><a name="l07103"></a><span class="lineno"> 7103</span>&#160;        <span class="keywordtype">float</span> icon_w = 0.0f; <span class="comment">// FIXME: This not currently exposed for BeginMenu() however you can call window-&gt;DC.MenuColumns.DeclColumns(w, 0, 0, 0) yourself</span></div>
<div class="line"><a name="l07104"></a><span class="lineno"> 7104</span>&#160;        <span class="keywordtype">float</span> checkmark_w = IM_FLOOR(g.FontSize * 1.20f);</div>
<div class="line"><a name="l07105"></a><span class="lineno"> 7105</span>&#160;        <span class="keywordtype">float</span> min_w = window-&gt;DC.MenuColumns.DeclColumns(icon_w, label_size.x, 0.0f, checkmark_w); <span class="comment">// Feedback to next frame</span></div>
<div class="line"><a name="l07106"></a><span class="lineno"> 7106</span>&#160;        <span class="keywordtype">float</span> extra_w = ImMax(0.0f, GetContentRegionAvail().x - min_w);</div>
<div class="line"><a name="l07107"></a><span class="lineno"> 7107</span>&#160;        <a class="code" href="struct_im_vec2.html">ImVec2</a> text_pos(window-&gt;DC.CursorPos.x + offsets-&gt;OffsetLabel, window-&gt;DC.CursorPos.y + window-&gt;DC.CurrLineTextBaseOffset);</div>
<div class="line"><a name="l07108"></a><span class="lineno"> 7108</span>&#160;        pressed = Selectable(<span class="stringliteral">&quot;&quot;</span>, menu_is_open, ImGuiSelectableFlags_NoHoldingActiveID | ImGuiSelectableFlags_SelectOnClick | ImGuiSelectableFlags_DontClosePopups | ImGuiSelectableFlags_SpanAvailWidth, <a class="code" href="struct_im_vec2.html">ImVec2</a>(min_w, 0.0f));</div>
<div class="line"><a name="l07109"></a><span class="lineno"> 7109</span>&#160;        RenderText(text_pos, label);</div>
<div class="line"><a name="l07110"></a><span class="lineno"> 7110</span>&#160;        RenderArrow(window-&gt;DrawList, pos + <a class="code" href="struct_im_vec2.html">ImVec2</a>(offsets-&gt;OffsetMark + extra_w + g.FontSize * 0.30f, 0.0f), GetColorU32(ImGuiCol_Text), ImGuiDir_Right);</div>
<div class="line"><a name="l07111"></a><span class="lineno"> 7111</span>&#160;    }</div>
<div class="line"><a name="l07112"></a><span class="lineno"> 7112</span>&#160;    <span class="keywordflow">if</span> (!enabled)</div>
<div class="line"><a name="l07113"></a><span class="lineno"> 7113</span>&#160;        EndDisabled();</div>
<div class="line"><a name="l07114"></a><span class="lineno"> 7114</span>&#160; </div>
<div class="line"><a name="l07115"></a><span class="lineno"> 7115</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> hovered = (g.HoveredId == id) &amp;&amp; enabled;</div>
<div class="line"><a name="l07116"></a><span class="lineno"> 7116</span>&#160;    <span class="keywordflow">if</span> (menuset_is_open)</div>
<div class="line"><a name="l07117"></a><span class="lineno"> 7117</span>&#160;        g.NavWindow = backed_nav_window;</div>
<div class="line"><a name="l07118"></a><span class="lineno"> 7118</span>&#160; </div>
<div class="line"><a name="l07119"></a><span class="lineno"> 7119</span>&#160;    <span class="keywordtype">bool</span> want_open = <span class="keyword">false</span>;</div>
<div class="line"><a name="l07120"></a><span class="lineno"> 7120</span>&#160;    <span class="keywordtype">bool</span> want_close = <span class="keyword">false</span>;</div>
<div class="line"><a name="l07121"></a><span class="lineno"> 7121</span>&#160;    <span class="keywordflow">if</span> (window-&gt;DC.LayoutType == ImGuiLayoutType_Vertical) <span class="comment">// (window-&gt;Flags &amp; (ImGuiWindowFlags_Popup|ImGuiWindowFlags_ChildMenu))</span></div>
<div class="line"><a name="l07122"></a><span class="lineno"> 7122</span>&#160;    {</div>
<div class="line"><a name="l07123"></a><span class="lineno"> 7123</span>&#160;        <span class="comment">// Close menu when not hovering it anymore unless we are moving roughly in the direction of the menu</span></div>
<div class="line"><a name="l07124"></a><span class="lineno"> 7124</span>&#160;        <span class="comment">// Implement http://bjk5.com/post/44698559168/breaking-down-amazons-mega-dropdown to avoid using timers, so menus feels more reactive.</span></div>
<div class="line"><a name="l07125"></a><span class="lineno"> 7125</span>&#160;        <span class="keywordtype">bool</span> moving_toward_other_child_menu = <span class="keyword">false</span>;</div>
<div class="line"><a name="l07126"></a><span class="lineno"> 7126</span>&#160; </div>
<div class="line"><a name="l07127"></a><span class="lineno"> 7127</span>&#160;        <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *child_menu_window = (g.BeginPopupStack.Size &lt; g.OpenPopupStack.Size &amp;&amp;g.OpenPopupStack[g.BeginPopupStack.Size].SourceWindow == window) ? g.OpenPopupStack[g.BeginPopupStack.Size].Window : NULL;</div>
<div class="line"><a name="l07128"></a><span class="lineno"> 7128</span>&#160;        if (g.HoveredWindow == window &amp;&amp; child_menu_window != NULL &amp;&amp; !(window-&gt;Flags &amp; ImGuiWindowFlags_MenuBar))</div>
<div class="line"><a name="l07129"></a><span class="lineno"> 7129</span>&#160;        {</div>
<div class="line"><a name="l07130"></a><span class="lineno"> 7130</span>&#160;            <span class="comment">// FIXME-DPI: Values should be derived from a master &quot;scale&quot; factor.</span></div>
<div class="line"><a name="l07131"></a><span class="lineno"> 7131</span>&#160;            <a class="code" href="struct_im_rect.html">ImRect</a> next_window_rect = child_menu_window-&gt;Rect();</div>
<div class="line"><a name="l07132"></a><span class="lineno"> 7132</span>&#160;            <a class="code" href="struct_im_vec2.html">ImVec2</a> ta = g.IO.MousePos - g.IO.MouseDelta;</div>
<div class="line"><a name="l07133"></a><span class="lineno"> 7133</span>&#160;            <a class="code" href="struct_im_vec2.html">ImVec2</a> tb = (window-&gt;Pos.x &lt; child_menu_window-&gt;Pos.x) ? next_window_rect.GetTL() : next_window_rect.GetTR();</div>
<div class="line"><a name="l07134"></a><span class="lineno"> 7134</span>&#160;            <a class="code" href="struct_im_vec2.html">ImVec2</a> tc = (window-&gt;Pos.x &lt; child_menu_window-&gt;Pos.x) ? next_window_rect.GetBL() : next_window_rect.GetBR();</div>
<div class="line"><a name="l07135"></a><span class="lineno"> 7135</span>&#160;            <span class="keywordtype">float</span> extra = ImClamp(ImFabs(ta.x - tb.x) * 0.30f, 5.0f, 30.0f);    <span class="comment">// add a bit of extra slack.</span></div>
<div class="line"><a name="l07136"></a><span class="lineno"> 7136</span>&#160;            ta.x += (window-&gt;Pos.x &lt; child_menu_window-&gt;Pos.x) ? -0.5f : +0.5f; <span class="comment">// to avoid numerical issues</span></div>
<div class="line"><a name="l07137"></a><span class="lineno"> 7137</span>&#160;            tb.y = ta.y + ImMax((tb.y - extra) - ta.y, -100.0f);                <span class="comment">// triangle is maximum 200 high to limit the slope and the bias toward large sub-menus // FIXME: Multiply by fb_scale?</span></div>
<div class="line"><a name="l07138"></a><span class="lineno"> 7138</span>&#160;            tc.y = ta.y + ImMin((tc.y + extra) - ta.y, +100.0f);</div>
<div class="line"><a name="l07139"></a><span class="lineno"> 7139</span>&#160;            moving_toward_other_child_menu = ImTriangleContainsPoint(ta, tb, tc, g.IO.MousePos);</div>
<div class="line"><a name="l07140"></a><span class="lineno"> 7140</span>&#160;            <span class="comment">//GetForegroundDrawList()-&gt;AddTriangleFilled(ta, tb, tc, moving_within_opened_triangle ? IM_COL32(0,128,0,128) : IM_COL32(128,0,0,128)); // [DEBUG]</span></div>
<div class="line"><a name="l07141"></a><span class="lineno"> 7141</span>&#160;        }</div>
<div class="line"><a name="l07142"></a><span class="lineno"> 7142</span>&#160; </div>
<div class="line"><a name="l07143"></a><span class="lineno"> 7143</span>&#160;        <span class="comment">// FIXME: Hovering a disabled BeginMenu or MenuItem won&#39;t close us</span></div>
<div class="line"><a name="l07144"></a><span class="lineno"> 7144</span>&#160;        <span class="keywordflow">if</span> (menu_is_open &amp;&amp; !hovered &amp;&amp; g.HoveredWindow == window &amp;&amp; g.HoveredIdPreviousFrame != 0 &amp;&amp; g.HoveredIdPreviousFrame != <span class="keywordtype">id</span> &amp;&amp; !moving_toward_other_child_menu)</div>
<div class="line"><a name="l07145"></a><span class="lineno"> 7145</span>&#160;            want_close = <span class="keyword">true</span>;</div>
<div class="line"><a name="l07146"></a><span class="lineno"> 7146</span>&#160; </div>
<div class="line"><a name="l07147"></a><span class="lineno"> 7147</span>&#160;        <span class="keywordflow">if</span> (!menu_is_open &amp;&amp; hovered &amp;&amp; pressed) <span class="comment">// Click to open</span></div>
<div class="line"><a name="l07148"></a><span class="lineno"> 7148</span>&#160;            want_open = <span class="keyword">true</span>;</div>
<div class="line"><a name="l07149"></a><span class="lineno"> 7149</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!menu_is_open &amp;&amp; hovered &amp;&amp; !moving_toward_other_child_menu) <span class="comment">// Hover to open</span></div>
<div class="line"><a name="l07150"></a><span class="lineno"> 7150</span>&#160;            want_open = <span class="keyword">true</span>;</div>
<div class="line"><a name="l07151"></a><span class="lineno"> 7151</span>&#160; </div>
<div class="line"><a name="l07152"></a><span class="lineno"> 7152</span>&#160;        <span class="keywordflow">if</span> (g.NavActivateId == <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l07153"></a><span class="lineno"> 7153</span>&#160;        {</div>
<div class="line"><a name="l07154"></a><span class="lineno"> 7154</span>&#160;            want_close = menu_is_open;</div>
<div class="line"><a name="l07155"></a><span class="lineno"> 7155</span>&#160;            want_open = !menu_is_open;</div>
<div class="line"><a name="l07156"></a><span class="lineno"> 7156</span>&#160;        }</div>
<div class="line"><a name="l07157"></a><span class="lineno"> 7157</span>&#160;        <span class="keywordflow">if</span> (g.NavId == <span class="keywordtype">id</span> &amp;&amp; g.NavMoveRequest &amp;&amp; g.NavMoveDir == ImGuiDir_Right) <span class="comment">// Nav-Right to open</span></div>
<div class="line"><a name="l07158"></a><span class="lineno"> 7158</span>&#160;        {</div>
<div class="line"><a name="l07159"></a><span class="lineno"> 7159</span>&#160;            want_open = <span class="keyword">true</span>;</div>
<div class="line"><a name="l07160"></a><span class="lineno"> 7160</span>&#160;            NavMoveRequestCancel();</div>
<div class="line"><a name="l07161"></a><span class="lineno"> 7161</span>&#160;        }</div>
<div class="line"><a name="l07162"></a><span class="lineno"> 7162</span>&#160;    }</div>
<div class="line"><a name="l07163"></a><span class="lineno"> 7163</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l07164"></a><span class="lineno"> 7164</span>&#160;    {</div>
<div class="line"><a name="l07165"></a><span class="lineno"> 7165</span>&#160;        <span class="comment">// Menu bar</span></div>
<div class="line"><a name="l07166"></a><span class="lineno"> 7166</span>&#160;        <span class="keywordflow">if</span> (menu_is_open &amp;&amp; pressed &amp;&amp; menuset_is_open) <span class="comment">// Click an open menu again to close it</span></div>
<div class="line"><a name="l07167"></a><span class="lineno"> 7167</span>&#160;        {</div>
<div class="line"><a name="l07168"></a><span class="lineno"> 7168</span>&#160;            want_close = <span class="keyword">true</span>;</div>
<div class="line"><a name="l07169"></a><span class="lineno"> 7169</span>&#160;            want_open = menu_is_open = <span class="keyword">false</span>;</div>
<div class="line"><a name="l07170"></a><span class="lineno"> 7170</span>&#160;        }</div>
<div class="line"><a name="l07171"></a><span class="lineno"> 7171</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pressed || (hovered &amp;&amp; menuset_is_open &amp;&amp; !menu_is_open)) <span class="comment">// First click to open, then hover to open others</span></div>
<div class="line"><a name="l07172"></a><span class="lineno"> 7172</span>&#160;        {</div>
<div class="line"><a name="l07173"></a><span class="lineno"> 7173</span>&#160;            want_open = <span class="keyword">true</span>;</div>
<div class="line"><a name="l07174"></a><span class="lineno"> 7174</span>&#160;        }</div>
<div class="line"><a name="l07175"></a><span class="lineno"> 7175</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (g.NavId == <span class="keywordtype">id</span> &amp;&amp; g.NavMoveRequest &amp;&amp; g.NavMoveDir == ImGuiDir_Down) <span class="comment">// Nav-Down to open</span></div>
<div class="line"><a name="l07176"></a><span class="lineno"> 7176</span>&#160;        {</div>
<div class="line"><a name="l07177"></a><span class="lineno"> 7177</span>&#160;            want_open = <span class="keyword">true</span>;</div>
<div class="line"><a name="l07178"></a><span class="lineno"> 7178</span>&#160;            NavMoveRequestCancel();</div>
<div class="line"><a name="l07179"></a><span class="lineno"> 7179</span>&#160;        }</div>
<div class="line"><a name="l07180"></a><span class="lineno"> 7180</span>&#160;    }</div>
<div class="line"><a name="l07181"></a><span class="lineno"> 7181</span>&#160; </div>
<div class="line"><a name="l07182"></a><span class="lineno"> 7182</span>&#160;    <span class="keywordflow">if</span> (!enabled) <span class="comment">// explicitly close if an open menu becomes disabled, facilitate users code a lot in pattern such as &#39;if (BeginMenu(&quot;options&quot;, has_object)) { ..use object.. }&#39;</span></div>
<div class="line"><a name="l07183"></a><span class="lineno"> 7183</span>&#160;        want_close = <span class="keyword">true</span>;</div>
<div class="line"><a name="l07184"></a><span class="lineno"> 7184</span>&#160;    <span class="keywordflow">if</span> (want_close &amp;&amp; IsPopupOpen(<span class="keywordtype">id</span>, ImGuiPopupFlags_None))</div>
<div class="line"><a name="l07185"></a><span class="lineno"> 7185</span>&#160;        ClosePopupToLevel(g.BeginPopupStack.Size, <span class="keyword">true</span>);</div>
<div class="line"><a name="l07186"></a><span class="lineno"> 7186</span>&#160; </div>
<div class="line"><a name="l07187"></a><span class="lineno"> 7187</span>&#160;    IMGUI_TEST_ENGINE_ITEM_INFO(<span class="keywordtype">id</span>, label, g.LastItemData.StatusFlags | ImGuiItemStatusFlags_Openable | (menu_is_open ? ImGuiItemStatusFlags_Opened : 0));</div>
<div class="line"><a name="l07188"></a><span class="lineno"> 7188</span>&#160;    PopID();</div>
<div class="line"><a name="l07189"></a><span class="lineno"> 7189</span>&#160; </div>
<div class="line"><a name="l07190"></a><span class="lineno"> 7190</span>&#160;    <span class="keywordflow">if</span> (!menu_is_open &amp;&amp; want_open &amp;&amp; g.OpenPopupStack.Size &gt; g.BeginPopupStack.Size)</div>
<div class="line"><a name="l07191"></a><span class="lineno"> 7191</span>&#160;    {</div>
<div class="line"><a name="l07192"></a><span class="lineno"> 7192</span>&#160;        <span class="comment">// Don&#39;t recycle same menu level in the same frame, first close the other menu and yield for a frame.</span></div>
<div class="line"><a name="l07193"></a><span class="lineno"> 7193</span>&#160;        OpenPopup(label);</div>
<div class="line"><a name="l07194"></a><span class="lineno"> 7194</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07195"></a><span class="lineno"> 7195</span>&#160;    }</div>
<div class="line"><a name="l07196"></a><span class="lineno"> 7196</span>&#160; </div>
<div class="line"><a name="l07197"></a><span class="lineno"> 7197</span>&#160;    menu_is_open |= want_open;</div>
<div class="line"><a name="l07198"></a><span class="lineno"> 7198</span>&#160;    <span class="keywordflow">if</span> (want_open)</div>
<div class="line"><a name="l07199"></a><span class="lineno"> 7199</span>&#160;        OpenPopup(label);</div>
<div class="line"><a name="l07200"></a><span class="lineno"> 7200</span>&#160; </div>
<div class="line"><a name="l07201"></a><span class="lineno"> 7201</span>&#160;    <span class="keywordflow">if</span> (menu_is_open)</div>
<div class="line"><a name="l07202"></a><span class="lineno"> 7202</span>&#160;    {</div>
<div class="line"><a name="l07203"></a><span class="lineno"> 7203</span>&#160;        SetNextWindowPos(popup_pos, ImGuiCond_Always); <span class="comment">// Note: this is super misleading! The value will serve as reference for FindBestWindowPosForPopup(), not actual pos.</span></div>
<div class="line"><a name="l07204"></a><span class="lineno"> 7204</span>&#160;        menu_is_open = BeginPopupEx(<span class="keywordtype">id</span>, flags); <span class="comment">// menu_is_open can be &#39;false&#39; when the popup is completely clipped (e.g. zero size display)</span></div>
<div class="line"><a name="l07205"></a><span class="lineno"> 7205</span>&#160;    }</div>
<div class="line"><a name="l07206"></a><span class="lineno"> 7206</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l07207"></a><span class="lineno"> 7207</span>&#160;    {</div>
<div class="line"><a name="l07208"></a><span class="lineno"> 7208</span>&#160;        g.NextWindowData.ClearFlags(); <span class="comment">// We behave like Begin() and need to consume those values</span></div>
<div class="line"><a name="l07209"></a><span class="lineno"> 7209</span>&#160;    }</div>
<div class="line"><a name="l07210"></a><span class="lineno"> 7210</span>&#160; </div>
<div class="line"><a name="l07211"></a><span class="lineno"> 7211</span>&#160;    <span class="keywordflow">return</span> menu_is_open;</div>
<div class="line"><a name="l07212"></a><span class="lineno"> 7212</span>&#160;}</div>
<div class="line"><a name="l07213"></a><span class="lineno"> 7213</span>&#160; </div>
<div class="line"><a name="l07214"></a><span class="lineno"> 7214</span>&#160;<span class="keywordtype">void</span> ImGui::EndMenu()</div>
<div class="line"><a name="l07215"></a><span class="lineno"> 7215</span>&#160;{</div>
<div class="line"><a name="l07216"></a><span class="lineno"> 7216</span>&#160;    <span class="comment">// Nav: When a left move request _within our child menu_ failed, close ourselves (the _parent_ menu).</span></div>
<div class="line"><a name="l07217"></a><span class="lineno"> 7217</span>&#160;    <span class="comment">// A menu doesn&#39;t close itself because EndMenuBar() wants the catch the last Left&lt;&gt;Right inputs.</span></div>
<div class="line"><a name="l07218"></a><span class="lineno"> 7218</span>&#160;    <span class="comment">// However, it means that with the current code, a BeginMenu() from outside another menu or a menu-bar won&#39;t be closable with the Left direction.</span></div>
<div class="line"><a name="l07219"></a><span class="lineno"> 7219</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l07220"></a><span class="lineno"> 7220</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = g.CurrentWindow;</div>
<div class="line"><a name="l07221"></a><span class="lineno"> 7221</span>&#160;    <span class="keywordflow">if</span> (g.NavWindow &amp;&amp; g.NavWindow-&gt;ParentWindow == window &amp;&amp; g.NavMoveDir == ImGuiDir_Left &amp;&amp; NavMoveRequestButNoResultYet() &amp;&amp; window-&gt;DC.LayoutType == ImGuiLayoutType_Vertical)</div>
<div class="line"><a name="l07222"></a><span class="lineno"> 7222</span>&#160;    {</div>
<div class="line"><a name="l07223"></a><span class="lineno"> 7223</span>&#160;        ClosePopupToLevel(g.BeginPopupStack.Size, <span class="keyword">true</span>);</div>
<div class="line"><a name="l07224"></a><span class="lineno"> 7224</span>&#160;        NavMoveRequestCancel();</div>
<div class="line"><a name="l07225"></a><span class="lineno"> 7225</span>&#160;    }</div>
<div class="line"><a name="l07226"></a><span class="lineno"> 7226</span>&#160; </div>
<div class="line"><a name="l07227"></a><span class="lineno"> 7227</span>&#160;    EndPopup();</div>
<div class="line"><a name="l07228"></a><span class="lineno"> 7228</span>&#160;}</div>
<div class="line"><a name="l07229"></a><span class="lineno"> 7229</span>&#160; </div>
<div class="line"><a name="l07230"></a><span class="lineno"> 7230</span>&#160;<span class="keywordtype">bool</span> ImGui::MenuItemEx(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keyword">const</span> <span class="keywordtype">char</span> *icon, <span class="keyword">const</span> <span class="keywordtype">char</span> *shortcut, <span class="keywordtype">bool</span> selected, <span class="keywordtype">bool</span> enabled)</div>
<div class="line"><a name="l07231"></a><span class="lineno"> 7231</span>&#160;{</div>
<div class="line"><a name="l07232"></a><span class="lineno"> 7232</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GetCurrentWindow();</div>
<div class="line"><a name="l07233"></a><span class="lineno"> 7233</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l07234"></a><span class="lineno"> 7234</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07235"></a><span class="lineno"> 7235</span>&#160; </div>
<div class="line"><a name="l07236"></a><span class="lineno"> 7236</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l07237"></a><span class="lineno"> 7237</span>&#160;    <a class="code" href="struct_im_gui_style.html">ImGuiStyle</a> &amp;style = g.Style;</div>
<div class="line"><a name="l07238"></a><span class="lineno"> 7238</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> pos = window-&gt;DC.CursorPos;</div>
<div class="line"><a name="l07239"></a><span class="lineno"> 7239</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> label_size = CalcTextSize(label, NULL, <span class="keyword">true</span>);</div>
<div class="line"><a name="l07240"></a><span class="lineno"> 7240</span>&#160; </div>
<div class="line"><a name="l07241"></a><span class="lineno"> 7241</span>&#160;    <span class="comment">// We&#39;ve been using the equivalent of ImGuiSelectableFlags_SetNavIdOnHover on all Selectable() since early Nav system days (commit 43ee5d73),</span></div>
<div class="line"><a name="l07242"></a><span class="lineno"> 7242</span>&#160;    <span class="comment">// but I am unsure whether this should be kept at all. For now moved it to be an opt-in feature used by menus only.</span></div>
<div class="line"><a name="l07243"></a><span class="lineno"> 7243</span>&#160;    <span class="keywordtype">bool</span> pressed;</div>
<div class="line"><a name="l07244"></a><span class="lineno"> 7244</span>&#160;    PushID(label);</div>
<div class="line"><a name="l07245"></a><span class="lineno"> 7245</span>&#160;    <span class="keywordflow">if</span> (!enabled)</div>
<div class="line"><a name="l07246"></a><span class="lineno"> 7246</span>&#160;        BeginDisabled(<span class="keyword">true</span>);</div>
<div class="line"><a name="l07247"></a><span class="lineno"> 7247</span>&#160;    <span class="keyword">const</span> ImGuiSelectableFlags flags = ImGuiSelectableFlags_SelectOnRelease | ImGuiSelectableFlags_SetNavIdOnHover;</div>
<div class="line"><a name="l07248"></a><span class="lineno"> 7248</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_gui_menu_columns.html">ImGuiMenuColumns</a> *offsets = &amp;window-&gt;DC.MenuColumns;</div>
<div class="line"><a name="l07249"></a><span class="lineno"> 7249</span>&#160;    <span class="keywordflow">if</span> (window-&gt;DC.LayoutType == ImGuiLayoutType_Horizontal)</div>
<div class="line"><a name="l07250"></a><span class="lineno"> 7250</span>&#160;    {</div>
<div class="line"><a name="l07251"></a><span class="lineno"> 7251</span>&#160;        <span class="comment">// Mimic the exact layout spacing of BeginMenu() to allow MenuItem() inside a menu bar, which is a little misleading but may be useful</span></div>
<div class="line"><a name="l07252"></a><span class="lineno"> 7252</span>&#160;        <span class="comment">// Note that in this situation: we don&#39;t render the shortcut, we render a highlight instead of the selected tick mark.</span></div>
<div class="line"><a name="l07253"></a><span class="lineno"> 7253</span>&#160;        <span class="keywordtype">float</span> w = label_size.x;</div>
<div class="line"><a name="l07254"></a><span class="lineno"> 7254</span>&#160;        window-&gt;DC.CursorPos.x += IM_FLOOR(style.ItemSpacing.x * 0.5f);</div>
<div class="line"><a name="l07255"></a><span class="lineno"> 7255</span>&#160;        PushStyleVar(ImGuiStyleVar_ItemSpacing, <a class="code" href="struct_im_vec2.html">ImVec2</a>(style.ItemSpacing.x * 2.0f, style.ItemSpacing.y));</div>
<div class="line"><a name="l07256"></a><span class="lineno"> 7256</span>&#160;        pressed = Selectable(<span class="stringliteral">&quot;&quot;</span>, selected, flags, <a class="code" href="struct_im_vec2.html">ImVec2</a>(w, 0.0f));</div>
<div class="line"><a name="l07257"></a><span class="lineno"> 7257</span>&#160;        PopStyleVar();</div>
<div class="line"><a name="l07258"></a><span class="lineno"> 7258</span>&#160;        RenderText(pos + <a class="code" href="struct_im_vec2.html">ImVec2</a>(offsets-&gt;OffsetLabel, 0.0f), label);</div>
<div class="line"><a name="l07259"></a><span class="lineno"> 7259</span>&#160;        window-&gt;DC.CursorPos.x += IM_FLOOR(style.ItemSpacing.x * (-1.0f + 0.5f)); <span class="comment">// -1 spacing to compensate the spacing added when Selectable() did a SameLine(). It would also work to call SameLine() ourselves after the PopStyleVar().</span></div>
<div class="line"><a name="l07260"></a><span class="lineno"> 7260</span>&#160;    }</div>
<div class="line"><a name="l07261"></a><span class="lineno"> 7261</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l07262"></a><span class="lineno"> 7262</span>&#160;    {</div>
<div class="line"><a name="l07263"></a><span class="lineno"> 7263</span>&#160;        <span class="comment">// Menu item inside a vertical menu</span></div>
<div class="line"><a name="l07264"></a><span class="lineno"> 7264</span>&#160;        <span class="comment">// (In a typical menu window where all items are BeginMenu() or MenuItem() calls, extra_w will always be 0.0f.</span></div>
<div class="line"><a name="l07265"></a><span class="lineno"> 7265</span>&#160;        <span class="comment">//  Only when they are other items sticking out we&#39;re going to add spacing, yet only register minimum width into the layout system.</span></div>
<div class="line"><a name="l07266"></a><span class="lineno"> 7266</span>&#160;        <span class="keywordtype">float</span> icon_w = (icon &amp;&amp; icon[0]) ? CalcTextSize(icon, NULL).x : 0.0f;</div>
<div class="line"><a name="l07267"></a><span class="lineno"> 7267</span>&#160;        <span class="keywordtype">float</span> shortcut_w = (shortcut &amp;&amp; shortcut[0]) ? CalcTextSize(shortcut, NULL).x : 0.0f;</div>
<div class="line"><a name="l07268"></a><span class="lineno"> 7268</span>&#160;        <span class="keywordtype">float</span> checkmark_w = IM_FLOOR(g.FontSize * 1.20f);</div>
<div class="line"><a name="l07269"></a><span class="lineno"> 7269</span>&#160;        <span class="keywordtype">float</span> min_w = window-&gt;DC.MenuColumns.DeclColumns(icon_w, label_size.x, shortcut_w, checkmark_w); <span class="comment">// Feedback for next frame</span></div>
<div class="line"><a name="l07270"></a><span class="lineno"> 7270</span>&#160;        <span class="keywordtype">float</span> stretch_w = ImMax(0.0f, GetContentRegionAvail().x - min_w);</div>
<div class="line"><a name="l07271"></a><span class="lineno"> 7271</span>&#160;        pressed = Selectable(<span class="stringliteral">&quot;&quot;</span>, <span class="keyword">false</span>, flags | ImGuiSelectableFlags_SpanAvailWidth, <a class="code" href="struct_im_vec2.html">ImVec2</a>(min_w, 0.0f));</div>
<div class="line"><a name="l07272"></a><span class="lineno"> 7272</span>&#160;        RenderText(pos + <a class="code" href="struct_im_vec2.html">ImVec2</a>(offsets-&gt;OffsetLabel, 0.0f), label);</div>
<div class="line"><a name="l07273"></a><span class="lineno"> 7273</span>&#160;        <span class="keywordflow">if</span> (icon_w &gt; 0.0f)</div>
<div class="line"><a name="l07274"></a><span class="lineno"> 7274</span>&#160;            RenderText(pos + <a class="code" href="struct_im_vec2.html">ImVec2</a>(offsets-&gt;OffsetIcon, 0.0f), icon);</div>
<div class="line"><a name="l07275"></a><span class="lineno"> 7275</span>&#160;        <span class="keywordflow">if</span> (shortcut_w &gt; 0.0f)</div>
<div class="line"><a name="l07276"></a><span class="lineno"> 7276</span>&#160;        {</div>
<div class="line"><a name="l07277"></a><span class="lineno"> 7277</span>&#160;            PushStyleColor(ImGuiCol_Text, style.Colors[ImGuiCol_TextDisabled]);</div>
<div class="line"><a name="l07278"></a><span class="lineno"> 7278</span>&#160;            RenderText(pos + <a class="code" href="struct_im_vec2.html">ImVec2</a>(offsets-&gt;OffsetShortcut + stretch_w, 0.0f), shortcut, NULL, <span class="keyword">false</span>);</div>
<div class="line"><a name="l07279"></a><span class="lineno"> 7279</span>&#160;            PopStyleColor();</div>
<div class="line"><a name="l07280"></a><span class="lineno"> 7280</span>&#160;        }</div>
<div class="line"><a name="l07281"></a><span class="lineno"> 7281</span>&#160;        <span class="keywordflow">if</span> (selected)</div>
<div class="line"><a name="l07282"></a><span class="lineno"> 7282</span>&#160;            RenderCheckMark(window-&gt;DrawList, pos + <a class="code" href="struct_im_vec2.html">ImVec2</a>(offsets-&gt;OffsetMark + stretch_w + g.FontSize * 0.40f, g.FontSize * 0.134f * 0.5f), GetColorU32(ImGuiCol_Text), g.FontSize * 0.866f);</div>
<div class="line"><a name="l07283"></a><span class="lineno"> 7283</span>&#160;    }</div>
<div class="line"><a name="l07284"></a><span class="lineno"> 7284</span>&#160;    IMGUI_TEST_ENGINE_ITEM_INFO(g.LastItemData.ID, label, g.LastItemData.StatusFlags | ImGuiItemStatusFlags_Checkable | (selected ? ImGuiItemStatusFlags_Checked : 0));</div>
<div class="line"><a name="l07285"></a><span class="lineno"> 7285</span>&#160;    <span class="keywordflow">if</span> (!enabled)</div>
<div class="line"><a name="l07286"></a><span class="lineno"> 7286</span>&#160;        EndDisabled();</div>
<div class="line"><a name="l07287"></a><span class="lineno"> 7287</span>&#160;    PopID();</div>
<div class="line"><a name="l07288"></a><span class="lineno"> 7288</span>&#160; </div>
<div class="line"><a name="l07289"></a><span class="lineno"> 7289</span>&#160;    <span class="keywordflow">return</span> pressed;</div>
<div class="line"><a name="l07290"></a><span class="lineno"> 7290</span>&#160;}</div>
<div class="line"><a name="l07291"></a><span class="lineno"> 7291</span>&#160; </div>
<div class="line"><a name="l07292"></a><span class="lineno"> 7292</span>&#160;<span class="keywordtype">bool</span> ImGui::MenuItem(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keyword">const</span> <span class="keywordtype">char</span> *shortcut, <span class="keywordtype">bool</span> selected, <span class="keywordtype">bool</span> enabled)</div>
<div class="line"><a name="l07293"></a><span class="lineno"> 7293</span>&#160;{</div>
<div class="line"><a name="l07294"></a><span class="lineno"> 7294</span>&#160;    <span class="keywordflow">return</span> MenuItemEx(label, NULL, shortcut, selected, enabled);</div>
<div class="line"><a name="l07295"></a><span class="lineno"> 7295</span>&#160;}</div>
<div class="line"><a name="l07296"></a><span class="lineno"> 7296</span>&#160; </div>
<div class="line"><a name="l07297"></a><span class="lineno"> 7297</span>&#160;<span class="keywordtype">bool</span> ImGui::MenuItem(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keyword">const</span> <span class="keywordtype">char</span> *shortcut, <span class="keywordtype">bool</span> *p_selected, <span class="keywordtype">bool</span> enabled)</div>
<div class="line"><a name="l07298"></a><span class="lineno"> 7298</span>&#160;{</div>
<div class="line"><a name="l07299"></a><span class="lineno"> 7299</span>&#160;    <span class="keywordflow">if</span> (MenuItemEx(label, NULL, shortcut, p_selected ? *p_selected : <span class="keyword">false</span>, enabled))</div>
<div class="line"><a name="l07300"></a><span class="lineno"> 7300</span>&#160;    {</div>
<div class="line"><a name="l07301"></a><span class="lineno"> 7301</span>&#160;        <span class="keywordflow">if</span> (p_selected)</div>
<div class="line"><a name="l07302"></a><span class="lineno"> 7302</span>&#160;            *p_selected = !*p_selected;</div>
<div class="line"><a name="l07303"></a><span class="lineno"> 7303</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07304"></a><span class="lineno"> 7304</span>&#160;    }</div>
<div class="line"><a name="l07305"></a><span class="lineno"> 7305</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07306"></a><span class="lineno"> 7306</span>&#160;}</div>
<div class="line"><a name="l07307"></a><span class="lineno"> 7307</span>&#160; </div>
<div class="line"><a name="l07308"></a><span class="lineno"> 7308</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l07309"></a><span class="lineno"> 7309</span>&#160;<span class="comment">// [SECTION] Widgets: BeginTabBar, EndTabBar, etc.</span></div>
<div class="line"><a name="l07310"></a><span class="lineno"> 7310</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l07311"></a><span class="lineno"> 7311</span>&#160;<span class="comment">// - BeginTabBar()</span></div>
<div class="line"><a name="l07312"></a><span class="lineno"> 7312</span>&#160;<span class="comment">// - BeginTabBarEx() [Internal]</span></div>
<div class="line"><a name="l07313"></a><span class="lineno"> 7313</span>&#160;<span class="comment">// - EndTabBar()</span></div>
<div class="line"><a name="l07314"></a><span class="lineno"> 7314</span>&#160;<span class="comment">// - TabBarLayout() [Internal]</span></div>
<div class="line"><a name="l07315"></a><span class="lineno"> 7315</span>&#160;<span class="comment">// - TabBarCalcTabID() [Internal]</span></div>
<div class="line"><a name="l07316"></a><span class="lineno"> 7316</span>&#160;<span class="comment">// - TabBarCalcMaxTabWidth() [Internal]</span></div>
<div class="line"><a name="l07317"></a><span class="lineno"> 7317</span>&#160;<span class="comment">// - TabBarFindTabById() [Internal]</span></div>
<div class="line"><a name="l07318"></a><span class="lineno"> 7318</span>&#160;<span class="comment">// - TabBarRemoveTab() [Internal]</span></div>
<div class="line"><a name="l07319"></a><span class="lineno"> 7319</span>&#160;<span class="comment">// - TabBarCloseTab() [Internal]</span></div>
<div class="line"><a name="l07320"></a><span class="lineno"> 7320</span>&#160;<span class="comment">// - TabBarScrollClamp() [Internal]</span></div>
<div class="line"><a name="l07321"></a><span class="lineno"> 7321</span>&#160;<span class="comment">// - TabBarScrollToTab() [Internal]</span></div>
<div class="line"><a name="l07322"></a><span class="lineno"> 7322</span>&#160;<span class="comment">// - TabBarQueueChangeTabOrder() [Internal]</span></div>
<div class="line"><a name="l07323"></a><span class="lineno"> 7323</span>&#160;<span class="comment">// - TabBarScrollingButtons() [Internal]</span></div>
<div class="line"><a name="l07324"></a><span class="lineno"> 7324</span>&#160;<span class="comment">// - TabBarTabListPopupButton() [Internal]</span></div>
<div class="line"><a name="l07325"></a><span class="lineno"> 7325</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l07326"></a><span class="lineno"> 7326</span>&#160; </div>
<div class="line"><a name="l07327"></a><span class="lineno"><a class="line" href="struct_im_gui_tab_bar_section.html"> 7327</a></span>&#160;<span class="keyword">struct </span><a class="code" href="struct_im_gui_tab_bar_section.html">ImGuiTabBarSection</a></div>
<div class="line"><a name="l07328"></a><span class="lineno"> 7328</span>&#160;{</div>
<div class="line"><a name="l07329"></a><span class="lineno"> 7329</span>&#160;    <span class="keywordtype">int</span>                 TabCount;               <span class="comment">// Number of tabs in this section.</span></div>
<div class="line"><a name="l07330"></a><span class="lineno"> 7330</span>&#160;    <span class="keywordtype">float</span>               Width;                  <span class="comment">// Sum of width of tabs in this section (after shrinking down)</span></div>
<div class="line"><a name="l07331"></a><span class="lineno"> 7331</span>&#160;    <span class="keywordtype">float</span>               Spacing;                <span class="comment">// Horizontal spacing at the end of the section.</span></div>
<div class="line"><a name="l07332"></a><span class="lineno"> 7332</span>&#160; </div>
<div class="line"><a name="l07333"></a><span class="lineno"> 7333</span>&#160;    <a class="code" href="struct_im_gui_tab_bar_section.html">ImGuiTabBarSection</a>()</div>
<div class="line"><a name="l07334"></a><span class="lineno"> 7334</span>&#160;    {</div>
<div class="line"><a name="l07335"></a><span class="lineno"> 7335</span>&#160;        memset(<span class="keyword">this</span>, 0, <span class="keyword">sizeof</span>(*<span class="keyword">this</span>));</div>
<div class="line"><a name="l07336"></a><span class="lineno"> 7336</span>&#160;    }</div>
<div class="line"><a name="l07337"></a><span class="lineno"> 7337</span>&#160;};</div>
<div class="line"><a name="l07338"></a><span class="lineno"> 7338</span>&#160; </div>
<div class="line"><a name="l07339"></a><span class="lineno"> 7339</span>&#160;<span class="keyword">namespace </span>ImGui</div>
<div class="line"><a name="l07340"></a><span class="lineno"> 7340</span>&#160;{</div>
<div class="line"><a name="l07341"></a><span class="lineno"> 7341</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span>             TabBarLayout(<a class="code" href="struct_im_gui_tab_bar.html">ImGuiTabBar</a> *tab_bar);</div>
<div class="line"><a name="l07342"></a><span class="lineno"> 7342</span>&#160;    <span class="keyword">static</span> ImU32            TabBarCalcTabID(<a class="code" href="struct_im_gui_tab_bar.html">ImGuiTabBar</a> *tab_bar, <span class="keyword">const</span> <span class="keywordtype">char</span> *label);</div>
<div class="line"><a name="l07343"></a><span class="lineno"> 7343</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">float</span>            TabBarCalcMaxTabWidth();</div>
<div class="line"><a name="l07344"></a><span class="lineno"> 7344</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">float</span>            TabBarScrollClamp(<a class="code" href="struct_im_gui_tab_bar.html">ImGuiTabBar</a> *tab_bar, <span class="keywordtype">float</span> scrolling);</div>
<div class="line"><a name="l07345"></a><span class="lineno"> 7345</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span>             TabBarScrollToTab(<a class="code" href="struct_im_gui_tab_bar.html">ImGuiTabBar</a> *tab_bar, ImGuiID tab_id, <a class="code" href="struct_im_gui_tab_bar_section.html">ImGuiTabBarSection</a> *sections);</div>
<div class="line"><a name="l07346"></a><span class="lineno"> 7346</span>&#160;    <span class="keyword">static</span> <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *TabBarScrollingButtons(<a class="code" href="struct_im_gui_tab_bar.html">ImGuiTabBar</a> *tab_bar);</div>
<div class="line"><a name="l07347"></a><span class="lineno"> 7347</span>&#160;    <span class="keyword">static</span> <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *TabBarTabListPopupButton(<a class="code" href="struct_im_gui_tab_bar.html">ImGuiTabBar</a> *tab_bar);</div>
<div class="line"><a name="l07348"></a><span class="lineno"> 7348</span>&#160;}</div>
<div class="line"><a name="l07349"></a><span class="lineno"> 7349</span>&#160; </div>
<div class="line"><a name="l07350"></a><span class="lineno"> 7350</span>&#160;ImGuiTabBar::ImGuiTabBar()</div>
<div class="line"><a name="l07351"></a><span class="lineno"> 7351</span>&#160;{</div>
<div class="line"><a name="l07352"></a><span class="lineno"> 7352</span>&#160;    memset(<span class="keyword">this</span>, 0, <span class="keyword">sizeof</span>(*<span class="keyword">this</span>));</div>
<div class="line"><a name="l07353"></a><span class="lineno"> 7353</span>&#160;    CurrFrameVisible = PrevFrameVisible = -1;</div>
<div class="line"><a name="l07354"></a><span class="lineno"> 7354</span>&#160;    LastTabItemIdx = -1;</div>
<div class="line"><a name="l07355"></a><span class="lineno"> 7355</span>&#160;}</div>
<div class="line"><a name="l07356"></a><span class="lineno"> 7356</span>&#160; </div>
<div class="line"><a name="l07357"></a><span class="lineno"> 7357</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> TabItemGetSectionIdx(<span class="keyword">const</span> <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *tab)</div>
<div class="line"><a name="l07358"></a><span class="lineno"> 7358</span>&#160;{</div>
<div class="line"><a name="l07359"></a><span class="lineno"> 7359</span>&#160;    <span class="keywordflow">return</span> (tab-&gt;Flags &amp; ImGuiTabItemFlags_Leading) ? 0 : (tab-&gt;Flags &amp; ImGuiTabItemFlags_Trailing) ? 2 : 1;</div>
<div class="line"><a name="l07360"></a><span class="lineno"> 7360</span>&#160;}</div>
<div class="line"><a name="l07361"></a><span class="lineno"> 7361</span>&#160; </div>
<div class="line"><a name="l07362"></a><span class="lineno"> 7362</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> IMGUI_CDECL TabItemComparerBySection(<span class="keyword">const</span> <span class="keywordtype">void</span> *lhs, <span class="keyword">const</span> <span class="keywordtype">void</span> *rhs)</div>
<div class="line"><a name="l07363"></a><span class="lineno"> 7363</span>&#160;{</div>
<div class="line"><a name="l07364"></a><span class="lineno"> 7364</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *a = (<span class="keyword">const</span> <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *)lhs;</div>
<div class="line"><a name="l07365"></a><span class="lineno"> 7365</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *b = (<span class="keyword">const</span> <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *)rhs;</div>
<div class="line"><a name="l07366"></a><span class="lineno"> 7366</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> a_section = TabItemGetSectionIdx(a);</div>
<div class="line"><a name="l07367"></a><span class="lineno"> 7367</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> b_section = TabItemGetSectionIdx(b);</div>
<div class="line"><a name="l07368"></a><span class="lineno"> 7368</span>&#160;    <span class="keywordflow">if</span> (a_section != b_section)</div>
<div class="line"><a name="l07369"></a><span class="lineno"> 7369</span>&#160;        <span class="keywordflow">return</span> a_section - b_section;</div>
<div class="line"><a name="l07370"></a><span class="lineno"> 7370</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)(a-&gt;IndexDuringLayout - b-&gt;IndexDuringLayout);</div>
<div class="line"><a name="l07371"></a><span class="lineno"> 7371</span>&#160;}</div>
<div class="line"><a name="l07372"></a><span class="lineno"> 7372</span>&#160; </div>
<div class="line"><a name="l07373"></a><span class="lineno"> 7373</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> IMGUI_CDECL TabItemComparerByBeginOrder(<span class="keyword">const</span> <span class="keywordtype">void</span> *lhs, <span class="keyword">const</span> <span class="keywordtype">void</span> *rhs)</div>
<div class="line"><a name="l07374"></a><span class="lineno"> 7374</span>&#160;{</div>
<div class="line"><a name="l07375"></a><span class="lineno"> 7375</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *a = (<span class="keyword">const</span> <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *)lhs;</div>
<div class="line"><a name="l07376"></a><span class="lineno"> 7376</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *b = (<span class="keyword">const</span> <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *)rhs;</div>
<div class="line"><a name="l07377"></a><span class="lineno"> 7377</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)(a-&gt;BeginOrder - b-&gt;BeginOrder);</div>
<div class="line"><a name="l07378"></a><span class="lineno"> 7378</span>&#160;}</div>
<div class="line"><a name="l07379"></a><span class="lineno"> 7379</span>&#160; </div>
<div class="line"><a name="l07380"></a><span class="lineno"> 7380</span>&#160;<span class="keyword">static</span> <a class="code" href="struct_im_gui_tab_bar.html">ImGuiTabBar</a> *GetTabBarFromTabBarRef(<span class="keyword">const</span> <a class="code" href="struct_im_gui_ptr_or_index.html">ImGuiPtrOrIndex</a> &amp;ref)</div>
<div class="line"><a name="l07381"></a><span class="lineno"> 7381</span>&#160;{</div>
<div class="line"><a name="l07382"></a><span class="lineno"> 7382</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l07383"></a><span class="lineno"> 7383</span>&#160;    <span class="keywordflow">return</span> ref.Ptr ? (<a class="code" href="struct_im_gui_tab_bar.html">ImGuiTabBar</a> *)ref.Ptr : g.TabBars.GetByIndex(ref.Index);</div>
<div class="line"><a name="l07384"></a><span class="lineno"> 7384</span>&#160;}</div>
<div class="line"><a name="l07385"></a><span class="lineno"> 7385</span>&#160; </div>
<div class="line"><a name="l07386"></a><span class="lineno"> 7386</span>&#160;<span class="keyword">static</span> <a class="code" href="struct_im_gui_ptr_or_index.html">ImGuiPtrOrIndex</a> GetTabBarRefFromTabBar(<a class="code" href="struct_im_gui_tab_bar.html">ImGuiTabBar</a> *tab_bar)</div>
<div class="line"><a name="l07387"></a><span class="lineno"> 7387</span>&#160;{</div>
<div class="line"><a name="l07388"></a><span class="lineno"> 7388</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l07389"></a><span class="lineno"> 7389</span>&#160;    <span class="keywordflow">if</span> (g.TabBars.Contains(tab_bar))</div>
<div class="line"><a name="l07390"></a><span class="lineno"> 7390</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="struct_im_gui_ptr_or_index.html">ImGuiPtrOrIndex</a>(g.TabBars.GetIndex(tab_bar));</div>
<div class="line"><a name="l07391"></a><span class="lineno"> 7391</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="struct_im_gui_ptr_or_index.html">ImGuiPtrOrIndex</a>(tab_bar);</div>
<div class="line"><a name="l07392"></a><span class="lineno"> 7392</span>&#160;}</div>
<div class="line"><a name="l07393"></a><span class="lineno"> 7393</span>&#160; </div>
<div class="line"><a name="l07394"></a><span class="lineno"> 7394</span>&#160;<span class="keywordtype">bool</span>    ImGui::BeginTabBar(<span class="keyword">const</span> <span class="keywordtype">char</span> *str_id, ImGuiTabBarFlags flags)</div>
<div class="line"><a name="l07395"></a><span class="lineno"> 7395</span>&#160;{</div>
<div class="line"><a name="l07396"></a><span class="lineno"> 7396</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l07397"></a><span class="lineno"> 7397</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = g.CurrentWindow;</div>
<div class="line"><a name="l07398"></a><span class="lineno"> 7398</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l07399"></a><span class="lineno"> 7399</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07400"></a><span class="lineno"> 7400</span>&#160; </div>
<div class="line"><a name="l07401"></a><span class="lineno"> 7401</span>&#160;    ImGuiID <span class="keywordtype">id</span> = window-&gt;GetID(str_id);</div>
<div class="line"><a name="l07402"></a><span class="lineno"> 7402</span>&#160;    <a class="code" href="struct_im_gui_tab_bar.html">ImGuiTabBar</a> *tab_bar = g.TabBars.GetOrAddByKey(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l07403"></a><span class="lineno"> 7403</span>&#160;    <a class="code" href="struct_im_rect.html">ImRect</a> tab_bar_bb = <a class="code" href="struct_im_rect.html">ImRect</a>(window-&gt;DC.CursorPos.x, window-&gt;DC.CursorPos.y, window-&gt;WorkRect.Max.x, window-&gt;DC.CursorPos.y + g.FontSize + g.Style.FramePadding.y * 2);</div>
<div class="line"><a name="l07404"></a><span class="lineno"> 7404</span>&#160;    tab_bar-&gt;ID = id;</div>
<div class="line"><a name="l07405"></a><span class="lineno"> 7405</span>&#160;    <span class="keywordflow">return</span> BeginTabBarEx(tab_bar, tab_bar_bb, flags | ImGuiTabBarFlags_IsFocused);</div>
<div class="line"><a name="l07406"></a><span class="lineno"> 7406</span>&#160;}</div>
<div class="line"><a name="l07407"></a><span class="lineno"> 7407</span>&#160; </div>
<div class="line"><a name="l07408"></a><span class="lineno"> 7408</span>&#160;<span class="keywordtype">bool</span>    ImGui::BeginTabBarEx(<a class="code" href="struct_im_gui_tab_bar.html">ImGuiTabBar</a> *tab_bar, <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> &amp;tab_bar_bb, ImGuiTabBarFlags flags)</div>
<div class="line"><a name="l07409"></a><span class="lineno"> 7409</span>&#160;{</div>
<div class="line"><a name="l07410"></a><span class="lineno"> 7410</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l07411"></a><span class="lineno"> 7411</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = g.CurrentWindow;</div>
<div class="line"><a name="l07412"></a><span class="lineno"> 7412</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l07413"></a><span class="lineno"> 7413</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07414"></a><span class="lineno"> 7414</span>&#160; </div>
<div class="line"><a name="l07415"></a><span class="lineno"> 7415</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; ImGuiTabBarFlags_DockNode) == 0)</div>
<div class="line"><a name="l07416"></a><span class="lineno"> 7416</span>&#160;        PushOverrideID(tab_bar-&gt;ID);</div>
<div class="line"><a name="l07417"></a><span class="lineno"> 7417</span>&#160; </div>
<div class="line"><a name="l07418"></a><span class="lineno"> 7418</span>&#160;    <span class="comment">// Add to stack</span></div>
<div class="line"><a name="l07419"></a><span class="lineno"> 7419</span>&#160;    g.CurrentTabBarStack.push_back(GetTabBarRefFromTabBar(tab_bar));</div>
<div class="line"><a name="l07420"></a><span class="lineno"> 7420</span>&#160;    g.CurrentTabBar = tab_bar;</div>
<div class="line"><a name="l07421"></a><span class="lineno"> 7421</span>&#160; </div>
<div class="line"><a name="l07422"></a><span class="lineno"> 7422</span>&#160;    <span class="comment">// Append with multiple BeginTabBar()/EndTabBar() pairs.</span></div>
<div class="line"><a name="l07423"></a><span class="lineno"> 7423</span>&#160;    tab_bar-&gt;BackupCursorPos = window-&gt;DC.CursorPos;</div>
<div class="line"><a name="l07424"></a><span class="lineno"> 7424</span>&#160;    <span class="keywordflow">if</span> (tab_bar-&gt;CurrFrameVisible == g.FrameCount)</div>
<div class="line"><a name="l07425"></a><span class="lineno"> 7425</span>&#160;    {</div>
<div class="line"><a name="l07426"></a><span class="lineno"> 7426</span>&#160;        window-&gt;DC.CursorPos = <a class="code" href="struct_im_vec2.html">ImVec2</a>(tab_bar-&gt;BarRect.Min.x, tab_bar-&gt;BarRect.Max.y + tab_bar-&gt;ItemSpacingY);</div>
<div class="line"><a name="l07427"></a><span class="lineno"> 7427</span>&#160;        tab_bar-&gt;BeginCount++;</div>
<div class="line"><a name="l07428"></a><span class="lineno"> 7428</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07429"></a><span class="lineno"> 7429</span>&#160;    }</div>
<div class="line"><a name="l07430"></a><span class="lineno"> 7430</span>&#160; </div>
<div class="line"><a name="l07431"></a><span class="lineno"> 7431</span>&#160;    <span class="comment">// Ensure correct ordering when toggling ImGuiTabBarFlags_Reorderable flag, or when a new tab was added while being not reorderable</span></div>
<div class="line"><a name="l07432"></a><span class="lineno"> 7432</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; ImGuiTabBarFlags_Reorderable) != (tab_bar-&gt;Flags &amp; ImGuiTabBarFlags_Reorderable) || (tab_bar-&gt;TabsAddedNew &amp;&amp; !(flags &amp; ImGuiTabBarFlags_Reorderable)))</div>
<div class="line"><a name="l07433"></a><span class="lineno"> 7433</span>&#160;        <span class="keywordflow">if</span> (tab_bar-&gt;Tabs.Size &gt; 1)</div>
<div class="line"><a name="l07434"></a><span class="lineno"> 7434</span>&#160;            ImQsort(tab_bar-&gt;Tabs.Data, tab_bar-&gt;Tabs.Size, <span class="keyword">sizeof</span>(<a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a>), TabItemComparerByBeginOrder);</div>
<div class="line"><a name="l07435"></a><span class="lineno"> 7435</span>&#160;    tab_bar-&gt;TabsAddedNew = <span class="keyword">false</span>;</div>
<div class="line"><a name="l07436"></a><span class="lineno"> 7436</span>&#160; </div>
<div class="line"><a name="l07437"></a><span class="lineno"> 7437</span>&#160;    <span class="comment">// Flags</span></div>
<div class="line"><a name="l07438"></a><span class="lineno"> 7438</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; ImGuiTabBarFlags_FittingPolicyMask_) == 0)</div>
<div class="line"><a name="l07439"></a><span class="lineno"> 7439</span>&#160;        flags |= ImGuiTabBarFlags_FittingPolicyDefault_;</div>
<div class="line"><a name="l07440"></a><span class="lineno"> 7440</span>&#160; </div>
<div class="line"><a name="l07441"></a><span class="lineno"> 7441</span>&#160;    tab_bar-&gt;Flags = flags;</div>
<div class="line"><a name="l07442"></a><span class="lineno"> 7442</span>&#160;    tab_bar-&gt;BarRect = tab_bar_bb;</div>
<div class="line"><a name="l07443"></a><span class="lineno"> 7443</span>&#160;    tab_bar-&gt;WantLayout = <span class="keyword">true</span>; <span class="comment">// Layout will be done on the first call to ItemTab()</span></div>
<div class="line"><a name="l07444"></a><span class="lineno"> 7444</span>&#160;    tab_bar-&gt;PrevFrameVisible = tab_bar-&gt;CurrFrameVisible;</div>
<div class="line"><a name="l07445"></a><span class="lineno"> 7445</span>&#160;    tab_bar-&gt;CurrFrameVisible = g.FrameCount;</div>
<div class="line"><a name="l07446"></a><span class="lineno"> 7446</span>&#160;    tab_bar-&gt;PrevTabsContentsHeight = tab_bar-&gt;CurrTabsContentsHeight;</div>
<div class="line"><a name="l07447"></a><span class="lineno"> 7447</span>&#160;    tab_bar-&gt;CurrTabsContentsHeight = 0.0f;</div>
<div class="line"><a name="l07448"></a><span class="lineno"> 7448</span>&#160;    tab_bar-&gt;ItemSpacingY = g.Style.ItemSpacing.y;</div>
<div class="line"><a name="l07449"></a><span class="lineno"> 7449</span>&#160;    tab_bar-&gt;FramePadding = g.Style.FramePadding;</div>
<div class="line"><a name="l07450"></a><span class="lineno"> 7450</span>&#160;    tab_bar-&gt;TabsActiveCount = 0;</div>
<div class="line"><a name="l07451"></a><span class="lineno"> 7451</span>&#160;    tab_bar-&gt;BeginCount = 1;</div>
<div class="line"><a name="l07452"></a><span class="lineno"> 7452</span>&#160; </div>
<div class="line"><a name="l07453"></a><span class="lineno"> 7453</span>&#160;    <span class="comment">// Set cursor pos in a way which only be used in the off-chance the user erroneously submits item before BeginTabItem(): items will overlap</span></div>
<div class="line"><a name="l07454"></a><span class="lineno"> 7454</span>&#160;    window-&gt;DC.CursorPos = <a class="code" href="struct_im_vec2.html">ImVec2</a>(tab_bar-&gt;BarRect.Min.x, tab_bar-&gt;BarRect.Max.y + tab_bar-&gt;ItemSpacingY);</div>
<div class="line"><a name="l07455"></a><span class="lineno"> 7455</span>&#160; </div>
<div class="line"><a name="l07456"></a><span class="lineno"> 7456</span>&#160;    <span class="comment">// Draw separator</span></div>
<div class="line"><a name="l07457"></a><span class="lineno"> 7457</span>&#160;    <span class="keyword">const</span> ImU32 col = GetColorU32((flags &amp; ImGuiTabBarFlags_IsFocused) ? ImGuiCol_TabActive : ImGuiCol_TabUnfocusedActive);</div>
<div class="line"><a name="l07458"></a><span class="lineno"> 7458</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> y = tab_bar-&gt;BarRect.Max.y - 1.0f;</div>
<div class="line"><a name="l07459"></a><span class="lineno"> 7459</span>&#160;    {</div>
<div class="line"><a name="l07460"></a><span class="lineno"> 7460</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> separator_min_x = tab_bar-&gt;BarRect.Min.x - IM_FLOOR(window-&gt;WindowPadding.x * 0.5f);</div>
<div class="line"><a name="l07461"></a><span class="lineno"> 7461</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> separator_max_x = tab_bar-&gt;BarRect.Max.x + IM_FLOOR(window-&gt;WindowPadding.x * 0.5f);</div>
<div class="line"><a name="l07462"></a><span class="lineno"> 7462</span>&#160;        window-&gt;DrawList-&gt;AddLine(<a class="code" href="struct_im_vec2.html">ImVec2</a>(separator_min_x, y), <a class="code" href="struct_im_vec2.html">ImVec2</a>(separator_max_x, y), col, 1.0f);</div>
<div class="line"><a name="l07463"></a><span class="lineno"> 7463</span>&#160;    }</div>
<div class="line"><a name="l07464"></a><span class="lineno"> 7464</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07465"></a><span class="lineno"> 7465</span>&#160;}</div>
<div class="line"><a name="l07466"></a><span class="lineno"> 7466</span>&#160; </div>
<div class="line"><a name="l07467"></a><span class="lineno"> 7467</span>&#160;<span class="keywordtype">void</span>    ImGui::EndTabBar()</div>
<div class="line"><a name="l07468"></a><span class="lineno"> 7468</span>&#160;{</div>
<div class="line"><a name="l07469"></a><span class="lineno"> 7469</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l07470"></a><span class="lineno"> 7470</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = g.CurrentWindow;</div>
<div class="line"><a name="l07471"></a><span class="lineno"> 7471</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l07472"></a><span class="lineno"> 7472</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07473"></a><span class="lineno"> 7473</span>&#160; </div>
<div class="line"><a name="l07474"></a><span class="lineno"> 7474</span>&#160;    <a class="code" href="struct_im_gui_tab_bar.html">ImGuiTabBar</a> *tab_bar = g.CurrentTabBar;</div>
<div class="line"><a name="l07475"></a><span class="lineno"> 7475</span>&#160;    <span class="keywordflow">if</span> (tab_bar == NULL)</div>
<div class="line"><a name="l07476"></a><span class="lineno"> 7476</span>&#160;    {</div>
<div class="line"><a name="l07477"></a><span class="lineno"> 7477</span>&#160;        IM_ASSERT_USER_ERROR(tab_bar != NULL, <span class="stringliteral">&quot;Mismatched BeginTabBar()/EndTabBar()!&quot;</span>);</div>
<div class="line"><a name="l07478"></a><span class="lineno"> 7478</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07479"></a><span class="lineno"> 7479</span>&#160;    }</div>
<div class="line"><a name="l07480"></a><span class="lineno"> 7480</span>&#160; </div>
<div class="line"><a name="l07481"></a><span class="lineno"> 7481</span>&#160;    <span class="comment">// Fallback in case no TabItem have been submitted</span></div>
<div class="line"><a name="l07482"></a><span class="lineno"> 7482</span>&#160;    <span class="keywordflow">if</span> (tab_bar-&gt;WantLayout)</div>
<div class="line"><a name="l07483"></a><span class="lineno"> 7483</span>&#160;        TabBarLayout(tab_bar);</div>
<div class="line"><a name="l07484"></a><span class="lineno"> 7484</span>&#160; </div>
<div class="line"><a name="l07485"></a><span class="lineno"> 7485</span>&#160;    <span class="comment">// Restore the last visible height if no tab is visible, this reduce vertical flicker/movement when a tabs gets removed without calling SetTabItemClosed().</span></div>
<div class="line"><a name="l07486"></a><span class="lineno"> 7486</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> tab_bar_appearing = (tab_bar-&gt;PrevFrameVisible + 1 &lt; g.FrameCount);</div>
<div class="line"><a name="l07487"></a><span class="lineno"> 7487</span>&#160;    <span class="keywordflow">if</span> (tab_bar-&gt;VisibleTabWasSubmitted || tab_bar-&gt;VisibleTabId == 0 || tab_bar_appearing)</div>
<div class="line"><a name="l07488"></a><span class="lineno"> 7488</span>&#160;    {</div>
<div class="line"><a name="l07489"></a><span class="lineno"> 7489</span>&#160;        tab_bar-&gt;CurrTabsContentsHeight = ImMax(window-&gt;DC.CursorPos.y - tab_bar-&gt;BarRect.Max.y, tab_bar-&gt;CurrTabsContentsHeight);</div>
<div class="line"><a name="l07490"></a><span class="lineno"> 7490</span>&#160;        window-&gt;DC.CursorPos.y = tab_bar-&gt;BarRect.Max.y + tab_bar-&gt;CurrTabsContentsHeight;</div>
<div class="line"><a name="l07491"></a><span class="lineno"> 7491</span>&#160;    }</div>
<div class="line"><a name="l07492"></a><span class="lineno"> 7492</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l07493"></a><span class="lineno"> 7493</span>&#160;    {</div>
<div class="line"><a name="l07494"></a><span class="lineno"> 7494</span>&#160;        window-&gt;DC.CursorPos.y = tab_bar-&gt;BarRect.Max.y + tab_bar-&gt;PrevTabsContentsHeight;</div>
<div class="line"><a name="l07495"></a><span class="lineno"> 7495</span>&#160;    }</div>
<div class="line"><a name="l07496"></a><span class="lineno"> 7496</span>&#160;    <span class="keywordflow">if</span> (tab_bar-&gt;BeginCount &gt; 1)</div>
<div class="line"><a name="l07497"></a><span class="lineno"> 7497</span>&#160;        window-&gt;DC.CursorPos = tab_bar-&gt;BackupCursorPos;</div>
<div class="line"><a name="l07498"></a><span class="lineno"> 7498</span>&#160; </div>
<div class="line"><a name="l07499"></a><span class="lineno"> 7499</span>&#160;    <span class="keywordflow">if</span> ((tab_bar-&gt;Flags &amp; ImGuiTabBarFlags_DockNode) == 0)</div>
<div class="line"><a name="l07500"></a><span class="lineno"> 7500</span>&#160;        PopID();</div>
<div class="line"><a name="l07501"></a><span class="lineno"> 7501</span>&#160; </div>
<div class="line"><a name="l07502"></a><span class="lineno"> 7502</span>&#160;    g.CurrentTabBarStack.pop_back();</div>
<div class="line"><a name="l07503"></a><span class="lineno"> 7503</span>&#160;    g.CurrentTabBar = g.CurrentTabBarStack.empty() ? NULL : GetTabBarFromTabBarRef(g.CurrentTabBarStack.back());</div>
<div class="line"><a name="l07504"></a><span class="lineno"> 7504</span>&#160;}</div>
<div class="line"><a name="l07505"></a><span class="lineno"> 7505</span>&#160; </div>
<div class="line"><a name="l07506"></a><span class="lineno"> 7506</span>&#160;<span class="comment">// This is called only once a frame before by the first call to ItemTab()</span></div>
<div class="line"><a name="l07507"></a><span class="lineno"> 7507</span>&#160;<span class="comment">// The reason we&#39;re not calling it in BeginTabBar() is to leave a chance to the user to call the SetTabItemClosed() functions.</span></div>
<div class="line"><a name="l07508"></a><span class="lineno"> 7508</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::TabBarLayout(<a class="code" href="struct_im_gui_tab_bar.html">ImGuiTabBar</a> *tab_bar)</div>
<div class="line"><a name="l07509"></a><span class="lineno"> 7509</span>&#160;{</div>
<div class="line"><a name="l07510"></a><span class="lineno"> 7510</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l07511"></a><span class="lineno"> 7511</span>&#160;    tab_bar-&gt;WantLayout = <span class="keyword">false</span>;</div>
<div class="line"><a name="l07512"></a><span class="lineno"> 7512</span>&#160; </div>
<div class="line"><a name="l07513"></a><span class="lineno"> 7513</span>&#160;    <span class="comment">// Garbage collect by compacting list</span></div>
<div class="line"><a name="l07514"></a><span class="lineno"> 7514</span>&#160;    <span class="comment">// Detect if we need to sort out tab list (e.g. in rare case where a tab changed section)</span></div>
<div class="line"><a name="l07515"></a><span class="lineno"> 7515</span>&#160;    <span class="keywordtype">int</span> tab_dst_n = 0;</div>
<div class="line"><a name="l07516"></a><span class="lineno"> 7516</span>&#160;    <span class="keywordtype">bool</span> need_sort_by_section = <span class="keyword">false</span>;</div>
<div class="line"><a name="l07517"></a><span class="lineno"> 7517</span>&#160;    <a class="code" href="struct_im_gui_tab_bar_section.html">ImGuiTabBarSection</a> sections[3]; <span class="comment">// Layout sections: Leading, Central, Trailing</span></div>
<div class="line"><a name="l07518"></a><span class="lineno"> 7518</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> tab_src_n = 0; tab_src_n &lt; tab_bar-&gt;Tabs.Size; tab_src_n++)</div>
<div class="line"><a name="l07519"></a><span class="lineno"> 7519</span>&#160;    {</div>
<div class="line"><a name="l07520"></a><span class="lineno"> 7520</span>&#160;        <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *tab = &amp;tab_bar-&gt;Tabs[tab_src_n];</div>
<div class="line"><a name="l07521"></a><span class="lineno"> 7521</span>&#160;        <span class="keywordflow">if</span> (tab-&gt;LastFrameVisible &lt; tab_bar-&gt;PrevFrameVisible || tab-&gt;WantClose)</div>
<div class="line"><a name="l07522"></a><span class="lineno"> 7522</span>&#160;        {</div>
<div class="line"><a name="l07523"></a><span class="lineno"> 7523</span>&#160;            <span class="comment">// Remove tab</span></div>
<div class="line"><a name="l07524"></a><span class="lineno"> 7524</span>&#160;            <span class="keywordflow">if</span> (tab_bar-&gt;VisibleTabId == tab-&gt;ID)</div>
<div class="line"><a name="l07525"></a><span class="lineno"> 7525</span>&#160;            {</div>
<div class="line"><a name="l07526"></a><span class="lineno"> 7526</span>&#160;                tab_bar-&gt;VisibleTabId = 0;</div>
<div class="line"><a name="l07527"></a><span class="lineno"> 7527</span>&#160;            }</div>
<div class="line"><a name="l07528"></a><span class="lineno"> 7528</span>&#160;            <span class="keywordflow">if</span> (tab_bar-&gt;SelectedTabId == tab-&gt;ID)</div>
<div class="line"><a name="l07529"></a><span class="lineno"> 7529</span>&#160;            {</div>
<div class="line"><a name="l07530"></a><span class="lineno"> 7530</span>&#160;                tab_bar-&gt;SelectedTabId = 0;</div>
<div class="line"><a name="l07531"></a><span class="lineno"> 7531</span>&#160;            }</div>
<div class="line"><a name="l07532"></a><span class="lineno"> 7532</span>&#160;            <span class="keywordflow">if</span> (tab_bar-&gt;NextSelectedTabId == tab-&gt;ID)</div>
<div class="line"><a name="l07533"></a><span class="lineno"> 7533</span>&#160;            {</div>
<div class="line"><a name="l07534"></a><span class="lineno"> 7534</span>&#160;                tab_bar-&gt;NextSelectedTabId = 0;</div>
<div class="line"><a name="l07535"></a><span class="lineno"> 7535</span>&#160;            }</div>
<div class="line"><a name="l07536"></a><span class="lineno"> 7536</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l07537"></a><span class="lineno"> 7537</span>&#160;        }</div>
<div class="line"><a name="l07538"></a><span class="lineno"> 7538</span>&#160;        <span class="keywordflow">if</span> (tab_dst_n != tab_src_n)</div>
<div class="line"><a name="l07539"></a><span class="lineno"> 7539</span>&#160;            tab_bar-&gt;Tabs[tab_dst_n] = tab_bar-&gt;Tabs[tab_src_n];</div>
<div class="line"><a name="l07540"></a><span class="lineno"> 7540</span>&#160; </div>
<div class="line"><a name="l07541"></a><span class="lineno"> 7541</span>&#160;        tab = &amp;tab_bar-&gt;Tabs[tab_dst_n];</div>
<div class="line"><a name="l07542"></a><span class="lineno"> 7542</span>&#160;        tab-&gt;IndexDuringLayout = (ImS16)tab_dst_n;</div>
<div class="line"><a name="l07543"></a><span class="lineno"> 7543</span>&#160; </div>
<div class="line"><a name="l07544"></a><span class="lineno"> 7544</span>&#160;        <span class="comment">// We will need sorting if tabs have changed section (e.g. moved from one of Leading/Central/Trailing to another)</span></div>
<div class="line"><a name="l07545"></a><span class="lineno"> 7545</span>&#160;        <span class="keywordtype">int</span> curr_tab_section_n = TabItemGetSectionIdx(tab);</div>
<div class="line"><a name="l07546"></a><span class="lineno"> 7546</span>&#160;        <span class="keywordflow">if</span> (tab_dst_n &gt; 0)</div>
<div class="line"><a name="l07547"></a><span class="lineno"> 7547</span>&#160;        {</div>
<div class="line"><a name="l07548"></a><span class="lineno"> 7548</span>&#160;            <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *prev_tab = &amp;tab_bar-&gt;Tabs[tab_dst_n - 1];</div>
<div class="line"><a name="l07549"></a><span class="lineno"> 7549</span>&#160;            <span class="keywordtype">int</span> prev_tab_section_n = TabItemGetSectionIdx(prev_tab);</div>
<div class="line"><a name="l07550"></a><span class="lineno"> 7550</span>&#160;            <span class="keywordflow">if</span> (curr_tab_section_n == 0 &amp;&amp; prev_tab_section_n != 0)</div>
<div class="line"><a name="l07551"></a><span class="lineno"> 7551</span>&#160;                need_sort_by_section = <span class="keyword">true</span>;</div>
<div class="line"><a name="l07552"></a><span class="lineno"> 7552</span>&#160;            <span class="keywordflow">if</span> (prev_tab_section_n == 2 &amp;&amp; curr_tab_section_n != 2)</div>
<div class="line"><a name="l07553"></a><span class="lineno"> 7553</span>&#160;                need_sort_by_section = <span class="keyword">true</span>;</div>
<div class="line"><a name="l07554"></a><span class="lineno"> 7554</span>&#160;        }</div>
<div class="line"><a name="l07555"></a><span class="lineno"> 7555</span>&#160; </div>
<div class="line"><a name="l07556"></a><span class="lineno"> 7556</span>&#160;        sections[curr_tab_section_n].TabCount++;</div>
<div class="line"><a name="l07557"></a><span class="lineno"> 7557</span>&#160;        tab_dst_n++;</div>
<div class="line"><a name="l07558"></a><span class="lineno"> 7558</span>&#160;    }</div>
<div class="line"><a name="l07559"></a><span class="lineno"> 7559</span>&#160;    <span class="keywordflow">if</span> (tab_bar-&gt;Tabs.Size != tab_dst_n)</div>
<div class="line"><a name="l07560"></a><span class="lineno"> 7560</span>&#160;        tab_bar-&gt;Tabs.resize(tab_dst_n);</div>
<div class="line"><a name="l07561"></a><span class="lineno"> 7561</span>&#160; </div>
<div class="line"><a name="l07562"></a><span class="lineno"> 7562</span>&#160;    <span class="keywordflow">if</span> (need_sort_by_section)</div>
<div class="line"><a name="l07563"></a><span class="lineno"> 7563</span>&#160;        ImQsort(tab_bar-&gt;Tabs.Data, tab_bar-&gt;Tabs.Size, <span class="keyword">sizeof</span>(<a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a>), TabItemComparerBySection);</div>
<div class="line"><a name="l07564"></a><span class="lineno"> 7564</span>&#160; </div>
<div class="line"><a name="l07565"></a><span class="lineno"> 7565</span>&#160;    <span class="comment">// Calculate spacing between sections</span></div>
<div class="line"><a name="l07566"></a><span class="lineno"> 7566</span>&#160;    sections[0].Spacing = sections[0].TabCount &gt; 0 &amp;&amp; (sections[1].TabCount + sections[2].TabCount) &gt; 0 ? g.Style.ItemInnerSpacing.x : 0.0f;</div>
<div class="line"><a name="l07567"></a><span class="lineno"> 7567</span>&#160;    sections[1].Spacing = sections[1].TabCount &gt; 0 &amp;&amp; sections[2].TabCount &gt; 0 ? g.Style.ItemInnerSpacing.x : 0.0f;</div>
<div class="line"><a name="l07568"></a><span class="lineno"> 7568</span>&#160; </div>
<div class="line"><a name="l07569"></a><span class="lineno"> 7569</span>&#160;    <span class="comment">// Setup next selected tab</span></div>
<div class="line"><a name="l07570"></a><span class="lineno"> 7570</span>&#160;    ImGuiID scroll_to_tab_id = 0;</div>
<div class="line"><a name="l07571"></a><span class="lineno"> 7571</span>&#160;    if (tab_bar-&gt;NextSelectedTabId)</div>
<div class="line"><a name="l07572"></a><span class="lineno"> 7572</span>&#160;    {</div>
<div class="line"><a name="l07573"></a><span class="lineno"> 7573</span>&#160;        tab_bar-&gt;SelectedTabId = tab_bar-&gt;NextSelectedTabId;</div>
<div class="line"><a name="l07574"></a><span class="lineno"> 7574</span>&#160;        tab_bar-&gt;NextSelectedTabId = 0;</div>
<div class="line"><a name="l07575"></a><span class="lineno"> 7575</span>&#160;        scroll_to_tab_id = tab_bar-&gt;SelectedTabId;</div>
<div class="line"><a name="l07576"></a><span class="lineno"> 7576</span>&#160;    }</div>
<div class="line"><a name="l07577"></a><span class="lineno"> 7577</span>&#160; </div>
<div class="line"><a name="l07578"></a><span class="lineno"> 7578</span>&#160;    <span class="comment">// Process order change request (we could probably process it when requested but it&#39;s just saner to do it in a single spot).</span></div>
<div class="line"><a name="l07579"></a><span class="lineno"> 7579</span>&#160;    <span class="keywordflow">if</span> (tab_bar-&gt;ReorderRequestTabId != 0)</div>
<div class="line"><a name="l07580"></a><span class="lineno"> 7580</span>&#160;    {</div>
<div class="line"><a name="l07581"></a><span class="lineno"> 7581</span>&#160;        <span class="keywordflow">if</span> (TabBarProcessReorder(tab_bar))</div>
<div class="line"><a name="l07582"></a><span class="lineno"> 7582</span>&#160;            <span class="keywordflow">if</span> (tab_bar-&gt;ReorderRequestTabId == tab_bar-&gt;SelectedTabId)</div>
<div class="line"><a name="l07583"></a><span class="lineno"> 7583</span>&#160;                scroll_to_tab_id = tab_bar-&gt;ReorderRequestTabId;</div>
<div class="line"><a name="l07584"></a><span class="lineno"> 7584</span>&#160;        tab_bar-&gt;ReorderRequestTabId = 0;</div>
<div class="line"><a name="l07585"></a><span class="lineno"> 7585</span>&#160;    }</div>
<div class="line"><a name="l07586"></a><span class="lineno"> 7586</span>&#160; </div>
<div class="line"><a name="l07587"></a><span class="lineno"> 7587</span>&#160;    <span class="comment">// Tab List Popup (will alter tab_bar-&gt;BarRect and therefore the available width!)</span></div>
<div class="line"><a name="l07588"></a><span class="lineno"> 7588</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> tab_list_popup_button = (tab_bar-&gt;Flags &amp; ImGuiTabBarFlags_TabListPopupButton) != 0;</div>
<div class="line"><a name="l07589"></a><span class="lineno"> 7589</span>&#160;    <span class="keywordflow">if</span> (tab_list_popup_button)</div>
<div class="line"><a name="l07590"></a><span class="lineno"> 7590</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *tab_to_select = TabBarTabListPopupButton(tab_bar)) <span class="comment">// NB: Will alter BarRect.Min.x!</span></div>
<div class="line"><a name="l07591"></a><span class="lineno"> 7591</span>&#160;            scroll_to_tab_id = tab_bar-&gt;SelectedTabId = tab_to_select-&gt;ID;</div>
<div class="line"><a name="l07592"></a><span class="lineno"> 7592</span>&#160; </div>
<div class="line"><a name="l07593"></a><span class="lineno"> 7593</span>&#160;    <span class="comment">// Leading/Trailing tabs will be shrink only if central one aren&#39;t visible anymore, so layout the shrink data as: leading, trailing, central</span></div>
<div class="line"><a name="l07594"></a><span class="lineno"> 7594</span>&#160;    <span class="comment">// (whereas our tabs are stored as: leading, central, trailing)</span></div>
<div class="line"><a name="l07595"></a><span class="lineno"> 7595</span>&#160;    <span class="keywordtype">int</span> shrink_buffer_indexes[3] = { 0, sections[0].TabCount + sections[2].TabCount, sections[0].TabCount };</div>
<div class="line"><a name="l07596"></a><span class="lineno"> 7596</span>&#160;    g.ShrinkWidthBuffer.resize(tab_bar-&gt;Tabs.Size);</div>
<div class="line"><a name="l07597"></a><span class="lineno"> 7597</span>&#160; </div>
<div class="line"><a name="l07598"></a><span class="lineno"> 7598</span>&#160;    <span class="comment">// Compute ideal tabs widths + store them into shrink buffer</span></div>
<div class="line"><a name="l07599"></a><span class="lineno"> 7599</span>&#160;    <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *most_recently_selected_tab = NULL;</div>
<div class="line"><a name="l07600"></a><span class="lineno"> 7600</span>&#160;    <span class="keywordtype">int</span> curr_section_n = -1;</div>
<div class="line"><a name="l07601"></a><span class="lineno"> 7601</span>&#160;    <span class="keywordtype">bool</span> found_selected_tab_id = <span class="keyword">false</span>;</div>
<div class="line"><a name="l07602"></a><span class="lineno"> 7602</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> tab_n = 0; tab_n &lt; tab_bar-&gt;Tabs.Size; tab_n++)</div>
<div class="line"><a name="l07603"></a><span class="lineno"> 7603</span>&#160;    {</div>
<div class="line"><a name="l07604"></a><span class="lineno"> 7604</span>&#160;        <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *tab = &amp;tab_bar-&gt;Tabs[tab_n];</div>
<div class="line"><a name="l07605"></a><span class="lineno"> 7605</span>&#160;        IM_ASSERT(tab-&gt;LastFrameVisible &gt;= tab_bar-&gt;PrevFrameVisible);</div>
<div class="line"><a name="l07606"></a><span class="lineno"> 7606</span>&#160; </div>
<div class="line"><a name="l07607"></a><span class="lineno"> 7607</span>&#160;        <span class="keywordflow">if</span> ((most_recently_selected_tab == NULL || most_recently_selected_tab-&gt;LastFrameSelected &lt; tab-&gt;LastFrameSelected) &amp;&amp; !(tab-&gt;Flags &amp; ImGuiTabItemFlags_Button))</div>
<div class="line"><a name="l07608"></a><span class="lineno"> 7608</span>&#160;            most_recently_selected_tab = tab;</div>
<div class="line"><a name="l07609"></a><span class="lineno"> 7609</span>&#160;        <span class="keywordflow">if</span> (tab-&gt;ID == tab_bar-&gt;SelectedTabId)</div>
<div class="line"><a name="l07610"></a><span class="lineno"> 7610</span>&#160;            found_selected_tab_id = <span class="keyword">true</span>;</div>
<div class="line"><a name="l07611"></a><span class="lineno"> 7611</span>&#160;        <span class="keywordflow">if</span> (scroll_to_tab_id == 0 &amp;&amp; g.NavJustMovedToId == tab-&gt;ID)</div>
<div class="line"><a name="l07612"></a><span class="lineno"> 7612</span>&#160;            scroll_to_tab_id = tab-&gt;ID;</div>
<div class="line"><a name="l07613"></a><span class="lineno"> 7613</span>&#160; </div>
<div class="line"><a name="l07614"></a><span class="lineno"> 7614</span>&#160;        <span class="comment">// Refresh tab width immediately, otherwise changes of style e.g. style.FramePadding.x would noticeably lag in the tab bar.</span></div>
<div class="line"><a name="l07615"></a><span class="lineno"> 7615</span>&#160;        <span class="comment">// Additionally, when using TabBarAddTab() to manipulate tab bar order we occasionally insert new tabs that don&#39;t have a width yet,</span></div>
<div class="line"><a name="l07616"></a><span class="lineno"> 7616</span>&#160;        <span class="comment">// and we cannot wait for the next BeginTabItem() call. We cannot compute this width within TabBarAddTab() because font size depends on the active window.</span></div>
<div class="line"><a name="l07617"></a><span class="lineno"> 7617</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *tab_name = tab_bar-&gt;GetTabName(tab);</div>
<div class="line"><a name="l07618"></a><span class="lineno"> 7618</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> has_close_button = (tab-&gt;Flags &amp; ImGuiTabItemFlags_NoCloseButton) ? <span class="keyword">false</span> : <span class="keyword">true</span>;</div>
<div class="line"><a name="l07619"></a><span class="lineno"> 7619</span>&#160;        tab-&gt;ContentWidth = TabItemCalcSize(tab_name, has_close_button).x;</div>
<div class="line"><a name="l07620"></a><span class="lineno"> 7620</span>&#160; </div>
<div class="line"><a name="l07621"></a><span class="lineno"> 7621</span>&#160;        <span class="keywordtype">int</span> section_n = TabItemGetSectionIdx(tab);</div>
<div class="line"><a name="l07622"></a><span class="lineno"> 7622</span>&#160;        <a class="code" href="struct_im_gui_tab_bar_section.html">ImGuiTabBarSection</a> *section = &amp;sections[section_n];</div>
<div class="line"><a name="l07623"></a><span class="lineno"> 7623</span>&#160;        section-&gt;Width += tab-&gt;ContentWidth + (section_n == curr_section_n ? g.Style.ItemInnerSpacing.x : 0.0f);</div>
<div class="line"><a name="l07624"></a><span class="lineno"> 7624</span>&#160;        curr_section_n = section_n;</div>
<div class="line"><a name="l07625"></a><span class="lineno"> 7625</span>&#160; </div>
<div class="line"><a name="l07626"></a><span class="lineno"> 7626</span>&#160;        <span class="comment">// Store data so we can build an array sorted by width if we need to shrink tabs down</span></div>
<div class="line"><a name="l07627"></a><span class="lineno"> 7627</span>&#160;        IM_MSVC_WARNING_SUPPRESS(6385);</div>
<div class="line"><a name="l07628"></a><span class="lineno"> 7628</span>&#160;        <span class="keywordtype">int</span> shrink_buffer_index = shrink_buffer_indexes[section_n]++;</div>
<div class="line"><a name="l07629"></a><span class="lineno"> 7629</span>&#160;        g.ShrinkWidthBuffer[shrink_buffer_index].Index = tab_n;</div>
<div class="line"><a name="l07630"></a><span class="lineno"> 7630</span>&#160;        g.ShrinkWidthBuffer[shrink_buffer_index].Width = tab-&gt;ContentWidth;</div>
<div class="line"><a name="l07631"></a><span class="lineno"> 7631</span>&#160; </div>
<div class="line"><a name="l07632"></a><span class="lineno"> 7632</span>&#160;        IM_ASSERT(tab-&gt;ContentWidth &gt; 0.0f);</div>
<div class="line"><a name="l07633"></a><span class="lineno"> 7633</span>&#160;        tab-&gt;Width = tab-&gt;ContentWidth;</div>
<div class="line"><a name="l07634"></a><span class="lineno"> 7634</span>&#160;    }</div>
<div class="line"><a name="l07635"></a><span class="lineno"> 7635</span>&#160; </div>
<div class="line"><a name="l07636"></a><span class="lineno"> 7636</span>&#160;    <span class="comment">// Compute total ideal width (used for e.g. auto-resizing a window)</span></div>
<div class="line"><a name="l07637"></a><span class="lineno"> 7637</span>&#160;    tab_bar-&gt;WidthAllTabsIdeal = 0.0f;</div>
<div class="line"><a name="l07638"></a><span class="lineno"> 7638</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> section_n = 0; section_n &lt; 3; section_n++)</div>
<div class="line"><a name="l07639"></a><span class="lineno"> 7639</span>&#160;        tab_bar-&gt;WidthAllTabsIdeal += sections[section_n].Width + sections[section_n].Spacing;</div>
<div class="line"><a name="l07640"></a><span class="lineno"> 7640</span>&#160; </div>
<div class="line"><a name="l07641"></a><span class="lineno"> 7641</span>&#160;    <span class="comment">// Horizontal scrolling buttons</span></div>
<div class="line"><a name="l07642"></a><span class="lineno"> 7642</span>&#160;    <span class="comment">// (note that TabBarScrollButtons() will alter BarRect.Max.x)</span></div>
<div class="line"><a name="l07643"></a><span class="lineno"> 7643</span>&#160;    if ((tab_bar-&gt;WidthAllTabsIdeal &gt; tab_bar-&gt;BarRect.GetWidth() &amp;&amp; tab_bar-&gt;Tabs.Size &gt; 1) &amp;&amp; !(tab_bar-&gt;Flags &amp; ImGuiTabBarFlags_NoTabListScrollingButtons) &amp;&amp; (tab_bar-&gt;Flags &amp; ImGuiTabBarFlags_FittingPolicyScroll))</div>
<div class="line"><a name="l07644"></a><span class="lineno"> 7644</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *scroll_and_select_tab = TabBarScrollingButtons(tab_bar))</div>
<div class="line"><a name="l07645"></a><span class="lineno"> 7645</span>&#160;        {</div>
<div class="line"><a name="l07646"></a><span class="lineno"> 7646</span>&#160;            scroll_to_tab_id = scroll_and_select_tab-&gt;ID;</div>
<div class="line"><a name="l07647"></a><span class="lineno"> 7647</span>&#160;            <span class="keywordflow">if</span> ((scroll_and_select_tab-&gt;Flags &amp; ImGuiTabItemFlags_Button) == 0)</div>
<div class="line"><a name="l07648"></a><span class="lineno"> 7648</span>&#160;                tab_bar-&gt;SelectedTabId = scroll_to_tab_id;</div>
<div class="line"><a name="l07649"></a><span class="lineno"> 7649</span>&#160;        }</div>
<div class="line"><a name="l07650"></a><span class="lineno"> 7650</span>&#160; </div>
<div class="line"><a name="l07651"></a><span class="lineno"> 7651</span>&#160;    <span class="comment">// Shrink widths if full tabs don&#39;t fit in their allocated space</span></div>
<div class="line"><a name="l07652"></a><span class="lineno"> 7652</span>&#160;    <span class="keywordtype">float</span> section_0_w = sections[0].Width + sections[0].Spacing;</div>
<div class="line"><a name="l07653"></a><span class="lineno"> 7653</span>&#160;    <span class="keywordtype">float</span> section_1_w = sections[1].Width + sections[1].Spacing;</div>
<div class="line"><a name="l07654"></a><span class="lineno"> 7654</span>&#160;    <span class="keywordtype">float</span> section_2_w = sections[2].Width + sections[2].Spacing;</div>
<div class="line"><a name="l07655"></a><span class="lineno"> 7655</span>&#160;    <span class="keywordtype">bool</span> central_section_is_visible = (section_0_w + section_2_w) &lt; tab_bar-&gt;BarRect.GetWidth();</div>
<div class="line"><a name="l07656"></a><span class="lineno"> 7656</span>&#160;    <span class="keywordtype">float</span> width_excess;</div>
<div class="line"><a name="l07657"></a><span class="lineno"> 7657</span>&#160;    <span class="keywordflow">if</span> (central_section_is_visible)</div>
<div class="line"><a name="l07658"></a><span class="lineno"> 7658</span>&#160;        width_excess = ImMax(section_1_w - (tab_bar-&gt;BarRect.GetWidth() - section_0_w - section_2_w), 0.0f); <span class="comment">// Excess used to shrink central section</span></div>
<div class="line"><a name="l07659"></a><span class="lineno"> 7659</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l07660"></a><span class="lineno"> 7660</span>&#160;        width_excess = (section_0_w + section_2_w) - tab_bar-&gt;BarRect.GetWidth(); <span class="comment">// Excess used to shrink leading/trailing section</span></div>
<div class="line"><a name="l07661"></a><span class="lineno"> 7661</span>&#160; </div>
<div class="line"><a name="l07662"></a><span class="lineno"> 7662</span>&#160;    <span class="comment">// With ImGuiTabBarFlags_FittingPolicyScroll policy, we will only shrink leading/trailing if the central section is not visible anymore</span></div>
<div class="line"><a name="l07663"></a><span class="lineno"> 7663</span>&#160;    <span class="keywordflow">if</span> (width_excess &gt; 0.0f &amp;&amp; ((tab_bar-&gt;Flags &amp; ImGuiTabBarFlags_FittingPolicyResizeDown) || !central_section_is_visible))</div>
<div class="line"><a name="l07664"></a><span class="lineno"> 7664</span>&#160;    {</div>
<div class="line"><a name="l07665"></a><span class="lineno"> 7665</span>&#160;        <span class="keywordtype">int</span> shrink_data_count = (central_section_is_visible ? sections[1].TabCount : sections[0].TabCount + sections[2].TabCount);</div>
<div class="line"><a name="l07666"></a><span class="lineno"> 7666</span>&#160;        <span class="keywordtype">int</span> shrink_data_offset = (central_section_is_visible ? sections[0].TabCount + sections[2].TabCount : 0);</div>
<div class="line"><a name="l07667"></a><span class="lineno"> 7667</span>&#160;        ShrinkWidths(g.ShrinkWidthBuffer.Data + shrink_data_offset, shrink_data_count, width_excess);</div>
<div class="line"><a name="l07668"></a><span class="lineno"> 7668</span>&#160; </div>
<div class="line"><a name="l07669"></a><span class="lineno"> 7669</span>&#160;        <span class="comment">// Apply shrunk values into tabs and sections</span></div>
<div class="line"><a name="l07670"></a><span class="lineno"> 7670</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> tab_n = shrink_data_offset; tab_n &lt; shrink_data_offset + shrink_data_count; tab_n++)</div>
<div class="line"><a name="l07671"></a><span class="lineno"> 7671</span>&#160;        {</div>
<div class="line"><a name="l07672"></a><span class="lineno"> 7672</span>&#160;            <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *tab = &amp;tab_bar-&gt;Tabs[g.ShrinkWidthBuffer[tab_n].Index];</div>
<div class="line"><a name="l07673"></a><span class="lineno"> 7673</span>&#160;            <span class="keywordtype">float</span> shrinked_width = IM_FLOOR(g.ShrinkWidthBuffer[tab_n].Width);</div>
<div class="line"><a name="l07674"></a><span class="lineno"> 7674</span>&#160;            <span class="keywordflow">if</span> (shrinked_width &lt; 0.0f)</div>
<div class="line"><a name="l07675"></a><span class="lineno"> 7675</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l07676"></a><span class="lineno"> 7676</span>&#160; </div>
<div class="line"><a name="l07677"></a><span class="lineno"> 7677</span>&#160;            <span class="keywordtype">int</span> section_n = TabItemGetSectionIdx(tab);</div>
<div class="line"><a name="l07678"></a><span class="lineno"> 7678</span>&#160;            sections[section_n].Width -= (tab-&gt;Width - shrinked_width);</div>
<div class="line"><a name="l07679"></a><span class="lineno"> 7679</span>&#160;            tab-&gt;Width = shrinked_width;</div>
<div class="line"><a name="l07680"></a><span class="lineno"> 7680</span>&#160;        }</div>
<div class="line"><a name="l07681"></a><span class="lineno"> 7681</span>&#160;    }</div>
<div class="line"><a name="l07682"></a><span class="lineno"> 7682</span>&#160; </div>
<div class="line"><a name="l07683"></a><span class="lineno"> 7683</span>&#160;    <span class="comment">// Layout all active tabs</span></div>
<div class="line"><a name="l07684"></a><span class="lineno"> 7684</span>&#160;    <span class="keywordtype">int</span> section_tab_index = 0;</div>
<div class="line"><a name="l07685"></a><span class="lineno"> 7685</span>&#160;    <span class="keywordtype">float</span> tab_offset = 0.0f;</div>
<div class="line"><a name="l07686"></a><span class="lineno"> 7686</span>&#160;    tab_bar-&gt;WidthAllTabs = 0.0f;</div>
<div class="line"><a name="l07687"></a><span class="lineno"> 7687</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> section_n = 0; section_n &lt; 3; section_n++)</div>
<div class="line"><a name="l07688"></a><span class="lineno"> 7688</span>&#160;    {</div>
<div class="line"><a name="l07689"></a><span class="lineno"> 7689</span>&#160;        <a class="code" href="struct_im_gui_tab_bar_section.html">ImGuiTabBarSection</a> *section = &amp;sections[section_n];</div>
<div class="line"><a name="l07690"></a><span class="lineno"> 7690</span>&#160;        <span class="keywordflow">if</span> (section_n == 2)</div>
<div class="line"><a name="l07691"></a><span class="lineno"> 7691</span>&#160;            tab_offset = ImMin(ImMax(0.0f, tab_bar-&gt;BarRect.GetWidth() - section-&gt;Width), tab_offset);</div>
<div class="line"><a name="l07692"></a><span class="lineno"> 7692</span>&#160; </div>
<div class="line"><a name="l07693"></a><span class="lineno"> 7693</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> tab_n = 0; tab_n &lt; section-&gt;TabCount; tab_n++)</div>
<div class="line"><a name="l07694"></a><span class="lineno"> 7694</span>&#160;        {</div>
<div class="line"><a name="l07695"></a><span class="lineno"> 7695</span>&#160;            <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *tab = &amp;tab_bar-&gt;Tabs[section_tab_index + tab_n];</div>
<div class="line"><a name="l07696"></a><span class="lineno"> 7696</span>&#160;            tab-&gt;Offset = tab_offset;</div>
<div class="line"><a name="l07697"></a><span class="lineno"> 7697</span>&#160;            tab_offset += tab-&gt;Width + (tab_n &lt; section-&gt;TabCount - 1 ? g.Style.ItemInnerSpacing.x : 0.0f);</div>
<div class="line"><a name="l07698"></a><span class="lineno"> 7698</span>&#160;        }</div>
<div class="line"><a name="l07699"></a><span class="lineno"> 7699</span>&#160;        tab_bar-&gt;WidthAllTabs += ImMax(section-&gt;Width + section-&gt;Spacing, 0.0f);</div>
<div class="line"><a name="l07700"></a><span class="lineno"> 7700</span>&#160;        tab_offset += section-&gt;Spacing;</div>
<div class="line"><a name="l07701"></a><span class="lineno"> 7701</span>&#160;        section_tab_index += section-&gt;TabCount;</div>
<div class="line"><a name="l07702"></a><span class="lineno"> 7702</span>&#160;    }</div>
<div class="line"><a name="l07703"></a><span class="lineno"> 7703</span>&#160; </div>
<div class="line"><a name="l07704"></a><span class="lineno"> 7704</span>&#160;    <span class="comment">// If we have lost the selected tab, select the next most recently active one</span></div>
<div class="line"><a name="l07705"></a><span class="lineno"> 7705</span>&#160;    <span class="keywordflow">if</span> (found_selected_tab_id == <span class="keyword">false</span>)</div>
<div class="line"><a name="l07706"></a><span class="lineno"> 7706</span>&#160;        tab_bar-&gt;SelectedTabId = 0;</div>
<div class="line"><a name="l07707"></a><span class="lineno"> 7707</span>&#160;    <span class="keywordflow">if</span> (tab_bar-&gt;SelectedTabId == 0 &amp;&amp; tab_bar-&gt;NextSelectedTabId == 0 &amp;&amp; most_recently_selected_tab != NULL)</div>
<div class="line"><a name="l07708"></a><span class="lineno"> 7708</span>&#160;        scroll_to_tab_id = tab_bar-&gt;SelectedTabId = most_recently_selected_tab-&gt;ID;</div>
<div class="line"><a name="l07709"></a><span class="lineno"> 7709</span>&#160; </div>
<div class="line"><a name="l07710"></a><span class="lineno"> 7710</span>&#160;    <span class="comment">// Lock in visible tab</span></div>
<div class="line"><a name="l07711"></a><span class="lineno"> 7711</span>&#160;    tab_bar-&gt;VisibleTabId = tab_bar-&gt;SelectedTabId;</div>
<div class="line"><a name="l07712"></a><span class="lineno"> 7712</span>&#160;    tab_bar-&gt;VisibleTabWasSubmitted = <span class="keyword">false</span>;</div>
<div class="line"><a name="l07713"></a><span class="lineno"> 7713</span>&#160; </div>
<div class="line"><a name="l07714"></a><span class="lineno"> 7714</span>&#160;    <span class="comment">// Update scrolling</span></div>
<div class="line"><a name="l07715"></a><span class="lineno"> 7715</span>&#160;    <span class="keywordflow">if</span> (scroll_to_tab_id != 0)</div>
<div class="line"><a name="l07716"></a><span class="lineno"> 7716</span>&#160;        TabBarScrollToTab(tab_bar, scroll_to_tab_id, sections);</div>
<div class="line"><a name="l07717"></a><span class="lineno"> 7717</span>&#160;    tab_bar-&gt;ScrollingAnim = TabBarScrollClamp(tab_bar, tab_bar-&gt;ScrollingAnim);</div>
<div class="line"><a name="l07718"></a><span class="lineno"> 7718</span>&#160;    tab_bar-&gt;ScrollingTarget = TabBarScrollClamp(tab_bar, tab_bar-&gt;ScrollingTarget);</div>
<div class="line"><a name="l07719"></a><span class="lineno"> 7719</span>&#160;    <span class="keywordflow">if</span> (tab_bar-&gt;ScrollingAnim != tab_bar-&gt;ScrollingTarget)</div>
<div class="line"><a name="l07720"></a><span class="lineno"> 7720</span>&#160;    {</div>
<div class="line"><a name="l07721"></a><span class="lineno"> 7721</span>&#160;        <span class="comment">// Scrolling speed adjust itself so we can always reach our target in 1/3 seconds.</span></div>
<div class="line"><a name="l07722"></a><span class="lineno"> 7722</span>&#160;        <span class="comment">// Teleport if we are aiming far off the visible line</span></div>
<div class="line"><a name="l07723"></a><span class="lineno"> 7723</span>&#160;        tab_bar-&gt;ScrollingSpeed = ImMax(tab_bar-&gt;ScrollingSpeed, 70.0f * g.FontSize);</div>
<div class="line"><a name="l07724"></a><span class="lineno"> 7724</span>&#160;        tab_bar-&gt;ScrollingSpeed = ImMax(tab_bar-&gt;ScrollingSpeed, ImFabs(tab_bar-&gt;ScrollingTarget - tab_bar-&gt;ScrollingAnim) / 0.3f);</div>
<div class="line"><a name="l07725"></a><span class="lineno"> 7725</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> teleport = (tab_bar-&gt;PrevFrameVisible + 1 &lt; g.FrameCount) || (tab_bar-&gt;ScrollingTargetDistToVisibility &gt; 10.0f * g.FontSize);</div>
<div class="line"><a name="l07726"></a><span class="lineno"> 7726</span>&#160;        tab_bar-&gt;ScrollingAnim = teleport ? tab_bar-&gt;ScrollingTarget : ImLinearSweep(tab_bar-&gt;ScrollingAnim, tab_bar-&gt;ScrollingTarget, g.IO.Time * tab_bar-&gt;ScrollingSpeed);</div>
<div class="line"><a name="l07727"></a><span class="lineno"> 7727</span>&#160;    }</div>
<div class="line"><a name="l07728"></a><span class="lineno"> 7728</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l07729"></a><span class="lineno"> 7729</span>&#160;    {</div>
<div class="line"><a name="l07730"></a><span class="lineno"> 7730</span>&#160;        tab_bar-&gt;ScrollingSpeed = 0.0f;</div>
<div class="line"><a name="l07731"></a><span class="lineno"> 7731</span>&#160;    }</div>
<div class="line"><a name="l07732"></a><span class="lineno"> 7732</span>&#160;    tab_bar-&gt;ScrollingRectMinX = tab_bar-&gt;BarRect.Min.x + sections[0].Width + sections[0].Spacing;</div>
<div class="line"><a name="l07733"></a><span class="lineno"> 7733</span>&#160;    tab_bar-&gt;ScrollingRectMaxX = tab_bar-&gt;BarRect.Max.x - sections[2].Width - sections[1].Spacing;</div>
<div class="line"><a name="l07734"></a><span class="lineno"> 7734</span>&#160; </div>
<div class="line"><a name="l07735"></a><span class="lineno"> 7735</span>&#160;    <span class="comment">// Clear name buffers</span></div>
<div class="line"><a name="l07736"></a><span class="lineno"> 7736</span>&#160;    <span class="keywordflow">if</span> ((tab_bar-&gt;Flags &amp; ImGuiTabBarFlags_DockNode) == 0)</div>
<div class="line"><a name="l07737"></a><span class="lineno"> 7737</span>&#160;        tab_bar-&gt;TabsNames.Buf.resize(0);</div>
<div class="line"><a name="l07738"></a><span class="lineno"> 7738</span>&#160; </div>
<div class="line"><a name="l07739"></a><span class="lineno"> 7739</span>&#160;    <span class="comment">// Actual layout in host window (we don&#39;t do it in BeginTabBar() so as not to waste an extra frame)</span></div>
<div class="line"><a name="l07740"></a><span class="lineno"> 7740</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = g.CurrentWindow;</div>
<div class="line"><a name="l07741"></a><span class="lineno"> 7741</span>&#160;    window-&gt;DC.CursorPos = tab_bar-&gt;BarRect.Min;</div>
<div class="line"><a name="l07742"></a><span class="lineno"> 7742</span>&#160;    ItemSize(<a class="code" href="struct_im_vec2.html">ImVec2</a>(tab_bar-&gt;WidthAllTabs, tab_bar-&gt;BarRect.GetHeight()), tab_bar-&gt;FramePadding.y);</div>
<div class="line"><a name="l07743"></a><span class="lineno"> 7743</span>&#160;    window-&gt;DC.IdealMaxPos.x = ImMax(window-&gt;DC.IdealMaxPos.x, tab_bar-&gt;BarRect.Min.x + tab_bar-&gt;WidthAllTabsIdeal);</div>
<div class="line"><a name="l07744"></a><span class="lineno"> 7744</span>&#160;}</div>
<div class="line"><a name="l07745"></a><span class="lineno"> 7745</span>&#160; </div>
<div class="line"><a name="l07746"></a><span class="lineno"> 7746</span>&#160;<span class="comment">// Dockables uses Name/ID in the global namespace. Non-dockable items use the ID stack.</span></div>
<div class="line"><a name="l07747"></a><span class="lineno"> 7747</span>&#160;<span class="keyword">static</span> ImU32   ImGui::TabBarCalcTabID(<a class="code" href="struct_im_gui_tab_bar.html">ImGuiTabBar</a> *tab_bar, <span class="keyword">const</span> <span class="keywordtype">char</span> *label)</div>
<div class="line"><a name="l07748"></a><span class="lineno"> 7748</span>&#160;{</div>
<div class="line"><a name="l07749"></a><span class="lineno"> 7749</span>&#160;    <span class="keywordflow">if</span> (tab_bar-&gt;Flags &amp; ImGuiTabBarFlags_DockNode)</div>
<div class="line"><a name="l07750"></a><span class="lineno"> 7750</span>&#160;    {</div>
<div class="line"><a name="l07751"></a><span class="lineno"> 7751</span>&#160;        ImGuiID <span class="keywordtype">id</span> = ImHashStr(label);</div>
<div class="line"><a name="l07752"></a><span class="lineno"> 7752</span>&#160;        KeepAliveID(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l07753"></a><span class="lineno"> 7753</span>&#160;        <span class="keywordflow">return</span> id;</div>
<div class="line"><a name="l07754"></a><span class="lineno"> 7754</span>&#160;    }</div>
<div class="line"><a name="l07755"></a><span class="lineno"> 7755</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l07756"></a><span class="lineno"> 7756</span>&#160;    {</div>
<div class="line"><a name="l07757"></a><span class="lineno"> 7757</span>&#160;        <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = GImGui-&gt;CurrentWindow;</div>
<div class="line"><a name="l07758"></a><span class="lineno"> 7758</span>&#160;        <span class="keywordflow">return</span> window-&gt;GetID(label);</div>
<div class="line"><a name="l07759"></a><span class="lineno"> 7759</span>&#160;    }</div>
<div class="line"><a name="l07760"></a><span class="lineno"> 7760</span>&#160;}</div>
<div class="line"><a name="l07761"></a><span class="lineno"> 7761</span>&#160; </div>
<div class="line"><a name="l07762"></a><span class="lineno"> 7762</span>&#160;<span class="keyword">static</span> <span class="keywordtype">float</span> ImGui::TabBarCalcMaxTabWidth()</div>
<div class="line"><a name="l07763"></a><span class="lineno"> 7763</span>&#160;{</div>
<div class="line"><a name="l07764"></a><span class="lineno"> 7764</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l07765"></a><span class="lineno"> 7765</span>&#160;    <span class="keywordflow">return</span> g.FontSize * 20.0f;</div>
<div class="line"><a name="l07766"></a><span class="lineno"> 7766</span>&#160;}</div>
<div class="line"><a name="l07767"></a><span class="lineno"> 7767</span>&#160; </div>
<div class="line"><a name="l07768"></a><span class="lineno"> 7768</span>&#160;<a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *ImGui::TabBarFindTabByID(<a class="code" href="struct_im_gui_tab_bar.html">ImGuiTabBar</a> *tab_bar, ImGuiID tab_id)</div>
<div class="line"><a name="l07769"></a><span class="lineno"> 7769</span>&#160;{</div>
<div class="line"><a name="l07770"></a><span class="lineno"> 7770</span>&#160;    <span class="keywordflow">if</span> (tab_id != 0)</div>
<div class="line"><a name="l07771"></a><span class="lineno"> 7771</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; tab_bar-&gt;Tabs.Size; n++)</div>
<div class="line"><a name="l07772"></a><span class="lineno"> 7772</span>&#160;            <span class="keywordflow">if</span> (tab_bar-&gt;Tabs[n].ID == tab_id)</div>
<div class="line"><a name="l07773"></a><span class="lineno"> 7773</span>&#160;                <span class="keywordflow">return</span> &amp;tab_bar-&gt;Tabs[n];</div>
<div class="line"><a name="l07774"></a><span class="lineno"> 7774</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l07775"></a><span class="lineno"> 7775</span>&#160;}</div>
<div class="line"><a name="l07776"></a><span class="lineno"> 7776</span>&#160; </div>
<div class="line"><a name="l07777"></a><span class="lineno"> 7777</span>&#160;<span class="comment">// The *TabId fields be already set by the docking system _before_ the actual TabItem was created, so we clear them regardless.</span></div>
<div class="line"><a name="l07778"></a><span class="lineno"> 7778</span>&#160;<span class="keywordtype">void</span> ImGui::TabBarRemoveTab(<a class="code" href="struct_im_gui_tab_bar.html">ImGuiTabBar</a> *tab_bar, ImGuiID tab_id)</div>
<div class="line"><a name="l07779"></a><span class="lineno"> 7779</span>&#160;{</div>
<div class="line"><a name="l07780"></a><span class="lineno"> 7780</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *tab = TabBarFindTabByID(tab_bar, tab_id))</div>
<div class="line"><a name="l07781"></a><span class="lineno"> 7781</span>&#160;        tab_bar-&gt;Tabs.erase(tab);</div>
<div class="line"><a name="l07782"></a><span class="lineno"> 7782</span>&#160;    <span class="keywordflow">if</span> (tab_bar-&gt;VisibleTabId == tab_id)</div>
<div class="line"><a name="l07783"></a><span class="lineno"> 7783</span>&#160;    {</div>
<div class="line"><a name="l07784"></a><span class="lineno"> 7784</span>&#160;        tab_bar-&gt;VisibleTabId = 0;</div>
<div class="line"><a name="l07785"></a><span class="lineno"> 7785</span>&#160;    }</div>
<div class="line"><a name="l07786"></a><span class="lineno"> 7786</span>&#160;    <span class="keywordflow">if</span> (tab_bar-&gt;SelectedTabId == tab_id)</div>
<div class="line"><a name="l07787"></a><span class="lineno"> 7787</span>&#160;    {</div>
<div class="line"><a name="l07788"></a><span class="lineno"> 7788</span>&#160;        tab_bar-&gt;SelectedTabId = 0;</div>
<div class="line"><a name="l07789"></a><span class="lineno"> 7789</span>&#160;    }</div>
<div class="line"><a name="l07790"></a><span class="lineno"> 7790</span>&#160;    <span class="keywordflow">if</span> (tab_bar-&gt;NextSelectedTabId == tab_id)</div>
<div class="line"><a name="l07791"></a><span class="lineno"> 7791</span>&#160;    {</div>
<div class="line"><a name="l07792"></a><span class="lineno"> 7792</span>&#160;        tab_bar-&gt;NextSelectedTabId = 0;</div>
<div class="line"><a name="l07793"></a><span class="lineno"> 7793</span>&#160;    }</div>
<div class="line"><a name="l07794"></a><span class="lineno"> 7794</span>&#160;}</div>
<div class="line"><a name="l07795"></a><span class="lineno"> 7795</span>&#160; </div>
<div class="line"><a name="l07796"></a><span class="lineno"> 7796</span>&#160;<span class="comment">// Called on manual closure attempt</span></div>
<div class="line"><a name="l07797"></a><span class="lineno"> 7797</span>&#160;<span class="keywordtype">void</span> ImGui::TabBarCloseTab(<a class="code" href="struct_im_gui_tab_bar.html">ImGuiTabBar</a> *tab_bar, <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *tab)</div>
<div class="line"><a name="l07798"></a><span class="lineno"> 7798</span>&#160;{</div>
<div class="line"><a name="l07799"></a><span class="lineno"> 7799</span>&#160;    IM_ASSERT(!(tab-&gt;Flags &amp; ImGuiTabItemFlags_Button));</div>
<div class="line"><a name="l07800"></a><span class="lineno"> 7800</span>&#160;    <span class="keywordflow">if</span> (!(tab-&gt;Flags &amp; ImGuiTabItemFlags_UnsavedDocument))</div>
<div class="line"><a name="l07801"></a><span class="lineno"> 7801</span>&#160;    {</div>
<div class="line"><a name="l07802"></a><span class="lineno"> 7802</span>&#160;        <span class="comment">// This will remove a frame of lag for selecting another tab on closure.</span></div>
<div class="line"><a name="l07803"></a><span class="lineno"> 7803</span>&#160;        <span class="comment">// However we don&#39;t run it in the case where the &#39;Unsaved&#39; flag is set, so user gets a chance to fully undo the closure</span></div>
<div class="line"><a name="l07804"></a><span class="lineno"> 7804</span>&#160;        tab-&gt;WantClose = <span class="keyword">true</span>;</div>
<div class="line"><a name="l07805"></a><span class="lineno"> 7805</span>&#160;        <span class="keywordflow">if</span> (tab_bar-&gt;VisibleTabId == tab-&gt;ID)</div>
<div class="line"><a name="l07806"></a><span class="lineno"> 7806</span>&#160;        {</div>
<div class="line"><a name="l07807"></a><span class="lineno"> 7807</span>&#160;            tab-&gt;LastFrameVisible = -1;</div>
<div class="line"><a name="l07808"></a><span class="lineno"> 7808</span>&#160;            tab_bar-&gt;SelectedTabId = tab_bar-&gt;NextSelectedTabId = 0;</div>
<div class="line"><a name="l07809"></a><span class="lineno"> 7809</span>&#160;        }</div>
<div class="line"><a name="l07810"></a><span class="lineno"> 7810</span>&#160;    }</div>
<div class="line"><a name="l07811"></a><span class="lineno"> 7811</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l07812"></a><span class="lineno"> 7812</span>&#160;    {</div>
<div class="line"><a name="l07813"></a><span class="lineno"> 7813</span>&#160;        <span class="comment">// Actually select before expecting closure attempt (on an UnsavedDocument tab user is expect to e.g. show a popup)</span></div>
<div class="line"><a name="l07814"></a><span class="lineno"> 7814</span>&#160;        <span class="keywordflow">if</span> (tab_bar-&gt;VisibleTabId != tab-&gt;ID)</div>
<div class="line"><a name="l07815"></a><span class="lineno"> 7815</span>&#160;            tab_bar-&gt;NextSelectedTabId = tab-&gt;ID;</div>
<div class="line"><a name="l07816"></a><span class="lineno"> 7816</span>&#160;    }</div>
<div class="line"><a name="l07817"></a><span class="lineno"> 7817</span>&#160;}</div>
<div class="line"><a name="l07818"></a><span class="lineno"> 7818</span>&#160; </div>
<div class="line"><a name="l07819"></a><span class="lineno"> 7819</span>&#160;<span class="keyword">static</span> <span class="keywordtype">float</span> ImGui::TabBarScrollClamp(<a class="code" href="struct_im_gui_tab_bar.html">ImGuiTabBar</a> *tab_bar, <span class="keywordtype">float</span> scrolling)</div>
<div class="line"><a name="l07820"></a><span class="lineno"> 7820</span>&#160;{</div>
<div class="line"><a name="l07821"></a><span class="lineno"> 7821</span>&#160;    scrolling = ImMin(scrolling, tab_bar-&gt;WidthAllTabs - tab_bar-&gt;BarRect.GetWidth());</div>
<div class="line"><a name="l07822"></a><span class="lineno"> 7822</span>&#160;    <span class="keywordflow">return</span> ImMax(scrolling, 0.0f);</div>
<div class="line"><a name="l07823"></a><span class="lineno"> 7823</span>&#160;}</div>
<div class="line"><a name="l07824"></a><span class="lineno"> 7824</span>&#160; </div>
<div class="line"><a name="l07825"></a><span class="lineno"> 7825</span>&#160;<span class="comment">// Note: we may scroll to tab that are not selected! e.g. using keyboard arrow keys</span></div>
<div class="line"><a name="l07826"></a><span class="lineno"> 7826</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::TabBarScrollToTab(<a class="code" href="struct_im_gui_tab_bar.html">ImGuiTabBar</a> *tab_bar, ImGuiID tab_id, <a class="code" href="struct_im_gui_tab_bar_section.html">ImGuiTabBarSection</a> *sections)</div>
<div class="line"><a name="l07827"></a><span class="lineno"> 7827</span>&#160;{</div>
<div class="line"><a name="l07828"></a><span class="lineno"> 7828</span>&#160;    <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *tab = TabBarFindTabByID(tab_bar, tab_id);</div>
<div class="line"><a name="l07829"></a><span class="lineno"> 7829</span>&#160;    <span class="keywordflow">if</span> (tab == NULL)</div>
<div class="line"><a name="l07830"></a><span class="lineno"> 7830</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07831"></a><span class="lineno"> 7831</span>&#160;    <span class="keywordflow">if</span> (tab-&gt;Flags &amp; ImGuiTabItemFlags_SectionMask_)</div>
<div class="line"><a name="l07832"></a><span class="lineno"> 7832</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07833"></a><span class="lineno"> 7833</span>&#160; </div>
<div class="line"><a name="l07834"></a><span class="lineno"> 7834</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l07835"></a><span class="lineno"> 7835</span>&#160;    <span class="keywordtype">float</span> margin = g.FontSize * 1.0f; <span class="comment">// When to scroll to make Tab N+1 visible always make a bit of N visible to suggest more scrolling area (since we don&#39;t have a scrollbar)</span></div>
<div class="line"><a name="l07836"></a><span class="lineno"> 7836</span>&#160;    <span class="keywordtype">int</span> order = tab_bar-&gt;GetTabOrder(tab);</div>
<div class="line"><a name="l07837"></a><span class="lineno"> 7837</span>&#160; </div>
<div class="line"><a name="l07838"></a><span class="lineno"> 7838</span>&#160;    <span class="comment">// Scrolling happens only in the central section (leading/trailing sections are not scrolling)</span></div>
<div class="line"><a name="l07839"></a><span class="lineno"> 7839</span>&#160;    <span class="comment">// FIXME: This is all confusing.</span></div>
<div class="line"><a name="l07840"></a><span class="lineno"> 7840</span>&#160;    <span class="keywordtype">float</span> scrollable_width = tab_bar-&gt;BarRect.GetWidth() - sections[0].Width - sections[2].Width - sections[1].Spacing;</div>
<div class="line"><a name="l07841"></a><span class="lineno"> 7841</span>&#160; </div>
<div class="line"><a name="l07842"></a><span class="lineno"> 7842</span>&#160;    <span class="comment">// We make all tabs positions all relative Sections[0].Width to make code simpler</span></div>
<div class="line"><a name="l07843"></a><span class="lineno"> 7843</span>&#160;    <span class="keywordtype">float</span> tab_x1 = tab-&gt;Offset - sections[0].Width + (order &gt; sections[0].TabCount - 1 ? -margin : 0.0f);</div>
<div class="line"><a name="l07844"></a><span class="lineno"> 7844</span>&#160;    <span class="keywordtype">float</span> tab_x2 = tab-&gt;Offset - sections[0].Width + tab-&gt;Width + (order + 1 &lt; tab_bar-&gt;Tabs.Size - sections[2].TabCount ? margin : 1.0f);</div>
<div class="line"><a name="l07845"></a><span class="lineno"> 7845</span>&#160;    tab_bar-&gt;ScrollingTargetDistToVisibility = 0.0f;</div>
<div class="line"><a name="l07846"></a><span class="lineno"> 7846</span>&#160;    <span class="keywordflow">if</span> (tab_bar-&gt;ScrollingTarget &gt; tab_x1 || (tab_x2 - tab_x1 &gt;= scrollable_width))</div>
<div class="line"><a name="l07847"></a><span class="lineno"> 7847</span>&#160;    {</div>
<div class="line"><a name="l07848"></a><span class="lineno"> 7848</span>&#160;        <span class="comment">// Scroll to the left</span></div>
<div class="line"><a name="l07849"></a><span class="lineno"> 7849</span>&#160;        tab_bar-&gt;ScrollingTargetDistToVisibility = ImMax(tab_bar-&gt;ScrollingAnim - tab_x2, 0.0f);</div>
<div class="line"><a name="l07850"></a><span class="lineno"> 7850</span>&#160;        tab_bar-&gt;ScrollingTarget = tab_x1;</div>
<div class="line"><a name="l07851"></a><span class="lineno"> 7851</span>&#160;    }</div>
<div class="line"><a name="l07852"></a><span class="lineno"> 7852</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tab_bar-&gt;ScrollingTarget &lt; tab_x2 - scrollable_width)</div>
<div class="line"><a name="l07853"></a><span class="lineno"> 7853</span>&#160;    {</div>
<div class="line"><a name="l07854"></a><span class="lineno"> 7854</span>&#160;        <span class="comment">// Scroll to the right</span></div>
<div class="line"><a name="l07855"></a><span class="lineno"> 7855</span>&#160;        tab_bar-&gt;ScrollingTargetDistToVisibility = ImMax((tab_x1 - scrollable_width) - tab_bar-&gt;ScrollingAnim, 0.0f);</div>
<div class="line"><a name="l07856"></a><span class="lineno"> 7856</span>&#160;        tab_bar-&gt;ScrollingTarget = tab_x2 - scrollable_width;</div>
<div class="line"><a name="l07857"></a><span class="lineno"> 7857</span>&#160;    }</div>
<div class="line"><a name="l07858"></a><span class="lineno"> 7858</span>&#160;}</div>
<div class="line"><a name="l07859"></a><span class="lineno"> 7859</span>&#160; </div>
<div class="line"><a name="l07860"></a><span class="lineno"> 7860</span>&#160;<span class="keywordtype">void</span> ImGui::TabBarQueueReorder(<a class="code" href="struct_im_gui_tab_bar.html">ImGuiTabBar</a> *tab_bar, <span class="keyword">const</span> <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *tab, <span class="keywordtype">int</span> offset)</div>
<div class="line"><a name="l07861"></a><span class="lineno"> 7861</span>&#160;{</div>
<div class="line"><a name="l07862"></a><span class="lineno"> 7862</span>&#160;    IM_ASSERT(offset != 0);</div>
<div class="line"><a name="l07863"></a><span class="lineno"> 7863</span>&#160;    IM_ASSERT(tab_bar-&gt;ReorderRequestTabId == 0);</div>
<div class="line"><a name="l07864"></a><span class="lineno"> 7864</span>&#160;    tab_bar-&gt;ReorderRequestTabId = tab-&gt;ID;</div>
<div class="line"><a name="l07865"></a><span class="lineno"> 7865</span>&#160;    tab_bar-&gt;ReorderRequestOffset = (ImS16)offset;</div>
<div class="line"><a name="l07866"></a><span class="lineno"> 7866</span>&#160;}</div>
<div class="line"><a name="l07867"></a><span class="lineno"> 7867</span>&#160; </div>
<div class="line"><a name="l07868"></a><span class="lineno"> 7868</span>&#160;<span class="keywordtype">void</span> ImGui::TabBarQueueReorderFromMousePos(<a class="code" href="struct_im_gui_tab_bar.html">ImGuiTabBar</a> *tab_bar, <span class="keyword">const</span> <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *src_tab, <a class="code" href="struct_im_vec2.html">ImVec2</a> mouse_pos)</div>
<div class="line"><a name="l07869"></a><span class="lineno"> 7869</span>&#160;{</div>
<div class="line"><a name="l07870"></a><span class="lineno"> 7870</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l07871"></a><span class="lineno"> 7871</span>&#160;    IM_ASSERT(tab_bar-&gt;ReorderRequestTabId == 0);</div>
<div class="line"><a name="l07872"></a><span class="lineno"> 7872</span>&#160;    <span class="keywordflow">if</span> ((tab_bar-&gt;Flags &amp; ImGuiTabBarFlags_Reorderable) == 0)</div>
<div class="line"><a name="l07873"></a><span class="lineno"> 7873</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07874"></a><span class="lineno"> 7874</span>&#160; </div>
<div class="line"><a name="l07875"></a><span class="lineno"> 7875</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_central_section = (src_tab-&gt;Flags &amp; ImGuiTabItemFlags_SectionMask_) == 0;</div>
<div class="line"><a name="l07876"></a><span class="lineno"> 7876</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> bar_offset = tab_bar-&gt;BarRect.Min.x - (is_central_section ? tab_bar-&gt;ScrollingTarget : 0);</div>
<div class="line"><a name="l07877"></a><span class="lineno"> 7877</span>&#160; </div>
<div class="line"><a name="l07878"></a><span class="lineno"> 7878</span>&#160;    <span class="comment">// Count number of contiguous tabs we are crossing over</span></div>
<div class="line"><a name="l07879"></a><span class="lineno"> 7879</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> dir = (bar_offset + src_tab-&gt;Offset) &gt; mouse_pos.x ? -1 : +1;</div>
<div class="line"><a name="l07880"></a><span class="lineno"> 7880</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> src_idx = tab_bar-&gt;Tabs.index_from_ptr(src_tab);</div>
<div class="line"><a name="l07881"></a><span class="lineno"> 7881</span>&#160;    <span class="keywordtype">int</span> dst_idx = src_idx;</div>
<div class="line"><a name="l07882"></a><span class="lineno"> 7882</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = src_idx; i &gt;= 0 &amp;&amp; i &lt; tab_bar-&gt;Tabs.Size; i += dir)</div>
<div class="line"><a name="l07883"></a><span class="lineno"> 7883</span>&#160;    {</div>
<div class="line"><a name="l07884"></a><span class="lineno"> 7884</span>&#160;        <span class="comment">// Reordered tabs must share the same section</span></div>
<div class="line"><a name="l07885"></a><span class="lineno"> 7885</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *dst_tab = &amp;tab_bar-&gt;Tabs[i];</div>
<div class="line"><a name="l07886"></a><span class="lineno"> 7886</span>&#160;        <span class="keywordflow">if</span> (dst_tab-&gt;Flags &amp; ImGuiTabItemFlags_NoReorder)</div>
<div class="line"><a name="l07887"></a><span class="lineno"> 7887</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07888"></a><span class="lineno"> 7888</span>&#160;        <span class="keywordflow">if</span> ((dst_tab-&gt;Flags &amp; ImGuiTabItemFlags_SectionMask_) != (src_tab-&gt;Flags &amp; ImGuiTabItemFlags_SectionMask_))</div>
<div class="line"><a name="l07889"></a><span class="lineno"> 7889</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07890"></a><span class="lineno"> 7890</span>&#160;        dst_idx = i;</div>
<div class="line"><a name="l07891"></a><span class="lineno"> 7891</span>&#160; </div>
<div class="line"><a name="l07892"></a><span class="lineno"> 7892</span>&#160;        <span class="comment">// Include spacing after tab, so when mouse cursor is between tabs we would not continue checking further tabs that are not hovered.</span></div>
<div class="line"><a name="l07893"></a><span class="lineno"> 7893</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> x1 = bar_offset + dst_tab-&gt;Offset - g.Style.ItemInnerSpacing.x;</div>
<div class="line"><a name="l07894"></a><span class="lineno"> 7894</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> x2 = bar_offset + dst_tab-&gt;Offset + dst_tab-&gt;Width + g.Style.ItemInnerSpacing.x;</div>
<div class="line"><a name="l07895"></a><span class="lineno"> 7895</span>&#160;        <span class="comment">//GetForegroundDrawList()-&gt;AddRect(ImVec2(x1, tab_bar-&gt;BarRect.Min.y), ImVec2(x2, tab_bar-&gt;BarRect.Max.y), IM_COL32(255, 0, 0, 255));</span></div>
<div class="line"><a name="l07896"></a><span class="lineno"> 7896</span>&#160;        <span class="keywordflow">if</span> ((dir &lt; 0 &amp;&amp; mouse_pos.x &gt; x1) || (dir &gt; 0 &amp;&amp; mouse_pos.x &lt; x2))</div>
<div class="line"><a name="l07897"></a><span class="lineno"> 7897</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07898"></a><span class="lineno"> 7898</span>&#160;    }</div>
<div class="line"><a name="l07899"></a><span class="lineno"> 7899</span>&#160; </div>
<div class="line"><a name="l07900"></a><span class="lineno"> 7900</span>&#160;    <span class="keywordflow">if</span> (dst_idx != src_idx)</div>
<div class="line"><a name="l07901"></a><span class="lineno"> 7901</span>&#160;        TabBarQueueReorder(tab_bar, src_tab, dst_idx - src_idx);</div>
<div class="line"><a name="l07902"></a><span class="lineno"> 7902</span>&#160;}</div>
<div class="line"><a name="l07903"></a><span class="lineno"> 7903</span>&#160; </div>
<div class="line"><a name="l07904"></a><span class="lineno"> 7904</span>&#160;<span class="keywordtype">bool</span> ImGui::TabBarProcessReorder(<a class="code" href="struct_im_gui_tab_bar.html">ImGuiTabBar</a> *tab_bar)</div>
<div class="line"><a name="l07905"></a><span class="lineno"> 7905</span>&#160;{</div>
<div class="line"><a name="l07906"></a><span class="lineno"> 7906</span>&#160;    <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *tab1 = TabBarFindTabByID(tab_bar, tab_bar-&gt;ReorderRequestTabId);</div>
<div class="line"><a name="l07907"></a><span class="lineno"> 7907</span>&#160;    <span class="keywordflow">if</span> (tab1 == NULL || (tab1-&gt;Flags &amp; ImGuiTabItemFlags_NoReorder))</div>
<div class="line"><a name="l07908"></a><span class="lineno"> 7908</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07909"></a><span class="lineno"> 7909</span>&#160; </div>
<div class="line"><a name="l07910"></a><span class="lineno"> 7910</span>&#160;    <span class="comment">//IM_ASSERT(tab_bar-&gt;Flags &amp; ImGuiTabBarFlags_Reorderable); // &lt;- this may happen when using debug tools</span></div>
<div class="line"><a name="l07911"></a><span class="lineno"> 7911</span>&#160;    <span class="keywordtype">int</span> tab2_order = tab_bar-&gt;GetTabOrder(tab1) + tab_bar-&gt;ReorderRequestOffset;</div>
<div class="line"><a name="l07912"></a><span class="lineno"> 7912</span>&#160;    <span class="keywordflow">if</span> (tab2_order &lt; 0 || tab2_order &gt;= tab_bar-&gt;Tabs.Size)</div>
<div class="line"><a name="l07913"></a><span class="lineno"> 7913</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07914"></a><span class="lineno"> 7914</span>&#160; </div>
<div class="line"><a name="l07915"></a><span class="lineno"> 7915</span>&#160;    <span class="comment">// Reordered tabs must share the same section</span></div>
<div class="line"><a name="l07916"></a><span class="lineno"> 7916</span>&#160;    <span class="comment">// (Note: TabBarQueueReorderFromMousePos() also has a similar test but since we allow direct calls to TabBarQueueReorder() we do it here too)</span></div>
<div class="line"><a name="l07917"></a><span class="lineno"> 7917</span>&#160;    <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *tab2 = &amp;tab_bar-&gt;Tabs[tab2_order];</div>
<div class="line"><a name="l07918"></a><span class="lineno"> 7918</span>&#160;    <span class="keywordflow">if</span> (tab2-&gt;Flags &amp; ImGuiTabItemFlags_NoReorder)</div>
<div class="line"><a name="l07919"></a><span class="lineno"> 7919</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07920"></a><span class="lineno"> 7920</span>&#160;    <span class="keywordflow">if</span> ((tab1-&gt;Flags &amp; ImGuiTabItemFlags_SectionMask_) != (tab2-&gt;Flags &amp; ImGuiTabItemFlags_SectionMask_))</div>
<div class="line"><a name="l07921"></a><span class="lineno"> 7921</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07922"></a><span class="lineno"> 7922</span>&#160; </div>
<div class="line"><a name="l07923"></a><span class="lineno"> 7923</span>&#160;    <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> item_tmp = *tab1;</div>
<div class="line"><a name="l07924"></a><span class="lineno"> 7924</span>&#160;    <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *src_tab = (tab_bar-&gt;ReorderRequestOffset &gt; 0) ? tab1 + 1 : tab2;</div>
<div class="line"><a name="l07925"></a><span class="lineno"> 7925</span>&#160;    <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *dst_tab = (tab_bar-&gt;ReorderRequestOffset &gt; 0) ? tab1 : tab2 + 1;</div>
<div class="line"><a name="l07926"></a><span class="lineno"> 7926</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> move_count = (tab_bar-&gt;ReorderRequestOffset &gt; 0) ? tab_bar-&gt;ReorderRequestOffset : -tab_bar-&gt;ReorderRequestOffset;</div>
<div class="line"><a name="l07927"></a><span class="lineno"> 7927</span>&#160;    memmove(dst_tab, src_tab, move_count * <span class="keyword">sizeof</span>(<a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a>));</div>
<div class="line"><a name="l07928"></a><span class="lineno"> 7928</span>&#160;    *tab2 = item_tmp;</div>
<div class="line"><a name="l07929"></a><span class="lineno"> 7929</span>&#160; </div>
<div class="line"><a name="l07930"></a><span class="lineno"> 7930</span>&#160;    <span class="keywordflow">if</span> (tab_bar-&gt;Flags &amp; ImGuiTabBarFlags_SaveSettings)</div>
<div class="line"><a name="l07931"></a><span class="lineno"> 7931</span>&#160;        MarkIniSettingsDirty();</div>
<div class="line"><a name="l07932"></a><span class="lineno"> 7932</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l07933"></a><span class="lineno"> 7933</span>&#160;}</div>
<div class="line"><a name="l07934"></a><span class="lineno"> 7934</span>&#160; </div>
<div class="line"><a name="l07935"></a><span class="lineno"> 7935</span>&#160;<span class="keyword">static</span> <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *ImGui::TabBarScrollingButtons(<a class="code" href="struct_im_gui_tab_bar.html">ImGuiTabBar</a> *tab_bar)</div>
<div class="line"><a name="l07936"></a><span class="lineno"> 7936</span>&#160;{</div>
<div class="line"><a name="l07937"></a><span class="lineno"> 7937</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l07938"></a><span class="lineno"> 7938</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = g.CurrentWindow;</div>
<div class="line"><a name="l07939"></a><span class="lineno"> 7939</span>&#160; </div>
<div class="line"><a name="l07940"></a><span class="lineno"> 7940</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> arrow_button_size(g.FontSize - 2.0f, g.FontSize + g.Style.FramePadding.y * 2.0f);</div>
<div class="line"><a name="l07941"></a><span class="lineno"> 7941</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> scrolling_buttons_width = arrow_button_size.x * 2.0f;</div>
<div class="line"><a name="l07942"></a><span class="lineno"> 7942</span>&#160; </div>
<div class="line"><a name="l07943"></a><span class="lineno"> 7943</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> backup_cursor_pos = window-&gt;DC.CursorPos;</div>
<div class="line"><a name="l07944"></a><span class="lineno"> 7944</span>&#160;    <span class="comment">//window-&gt;DrawList-&gt;AddRect(ImVec2(tab_bar-&gt;BarRect.Max.x - scrolling_buttons_width, tab_bar-&gt;BarRect.Min.y), ImVec2(tab_bar-&gt;BarRect.Max.x, tab_bar-&gt;BarRect.Max.y), IM_COL32(255,0,0,255));</span></div>
<div class="line"><a name="l07945"></a><span class="lineno"> 7945</span>&#160; </div>
<div class="line"><a name="l07946"></a><span class="lineno"> 7946</span>&#160;    <span class="keywordtype">int</span> select_dir = 0;</div>
<div class="line"><a name="l07947"></a><span class="lineno"> 7947</span>&#160;    <a class="code" href="struct_im_vec4.html">ImVec4</a> arrow_col = g.Style.Colors[ImGuiCol_Text];</div>
<div class="line"><a name="l07948"></a><span class="lineno"> 7948</span>&#160;    arrow_col.w *= 0.5f;</div>
<div class="line"><a name="l07949"></a><span class="lineno"> 7949</span>&#160; </div>
<div class="line"><a name="l07950"></a><span class="lineno"> 7950</span>&#160;    PushStyleColor(ImGuiCol_Text, arrow_col);</div>
<div class="line"><a name="l07951"></a><span class="lineno"> 7951</span>&#160;    PushStyleColor(ImGuiCol_Button, <a class="code" href="struct_im_vec4.html">ImVec4</a>(0, 0, 0, 0));</div>
<div class="line"><a name="l07952"></a><span class="lineno"> 7952</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> backup_repeat_delay = g.IO.KeyRepeatDelay;</div>
<div class="line"><a name="l07953"></a><span class="lineno"> 7953</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> backup_repeat_rate = g.IO.KeyRepeatRate;</div>
<div class="line"><a name="l07954"></a><span class="lineno"> 7954</span>&#160;    g.IO.KeyRepeatDelay = 0.250f;</div>
<div class="line"><a name="l07955"></a><span class="lineno"> 7955</span>&#160;    g.IO.KeyRepeatRate = 0.200f;</div>
<div class="line"><a name="l07956"></a><span class="lineno"> 7956</span>&#160;    <span class="keywordtype">float</span> x = ImMax(tab_bar-&gt;BarRect.Min.x, tab_bar-&gt;BarRect.Max.x - scrolling_buttons_width);</div>
<div class="line"><a name="l07957"></a><span class="lineno"> 7957</span>&#160;    window-&gt;DC.CursorPos = <a class="code" href="struct_im_vec2.html">ImVec2</a>(x, tab_bar-&gt;BarRect.Min.y);</div>
<div class="line"><a name="l07958"></a><span class="lineno"> 7958</span>&#160;    <span class="keywordflow">if</span> (ArrowButtonEx(<span class="stringliteral">&quot;##&lt;&quot;</span>, ImGuiDir_Left, arrow_button_size, ImGuiButtonFlags_PressedOnClick | ImGuiButtonFlags_Repeat))</div>
<div class="line"><a name="l07959"></a><span class="lineno"> 7959</span>&#160;        select_dir = -1;</div>
<div class="line"><a name="l07960"></a><span class="lineno"> 7960</span>&#160;    window-&gt;DC.CursorPos = <a class="code" href="struct_im_vec2.html">ImVec2</a>(x + arrow_button_size.x, tab_bar-&gt;BarRect.Min.y);</div>
<div class="line"><a name="l07961"></a><span class="lineno"> 7961</span>&#160;    <span class="keywordflow">if</span> (ArrowButtonEx(<span class="stringliteral">&quot;##&gt;&quot;</span>, ImGuiDir_Right, arrow_button_size, ImGuiButtonFlags_PressedOnClick | ImGuiButtonFlags_Repeat))</div>
<div class="line"><a name="l07962"></a><span class="lineno"> 7962</span>&#160;        select_dir = +1;</div>
<div class="line"><a name="l07963"></a><span class="lineno"> 7963</span>&#160;    PopStyleColor(2);</div>
<div class="line"><a name="l07964"></a><span class="lineno"> 7964</span>&#160;    g.IO.KeyRepeatRate = backup_repeat_rate;</div>
<div class="line"><a name="l07965"></a><span class="lineno"> 7965</span>&#160;    g.IO.KeyRepeatDelay = backup_repeat_delay;</div>
<div class="line"><a name="l07966"></a><span class="lineno"> 7966</span>&#160; </div>
<div class="line"><a name="l07967"></a><span class="lineno"> 7967</span>&#160;    <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *tab_to_scroll_to = NULL;</div>
<div class="line"><a name="l07968"></a><span class="lineno"> 7968</span>&#160;    <span class="keywordflow">if</span> (select_dir != 0)</div>
<div class="line"><a name="l07969"></a><span class="lineno"> 7969</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *tab_item = TabBarFindTabByID(tab_bar, tab_bar-&gt;SelectedTabId))</div>
<div class="line"><a name="l07970"></a><span class="lineno"> 7970</span>&#160;        {</div>
<div class="line"><a name="l07971"></a><span class="lineno"> 7971</span>&#160;            <span class="keywordtype">int</span> selected_order = tab_bar-&gt;GetTabOrder(tab_item);</div>
<div class="line"><a name="l07972"></a><span class="lineno"> 7972</span>&#160;            <span class="keywordtype">int</span> target_order = selected_order + select_dir;</div>
<div class="line"><a name="l07973"></a><span class="lineno"> 7973</span>&#160; </div>
<div class="line"><a name="l07974"></a><span class="lineno"> 7974</span>&#160;            <span class="comment">// Skip tab item buttons until another tab item is found or end is reached</span></div>
<div class="line"><a name="l07975"></a><span class="lineno"> 7975</span>&#160;            <span class="keywordflow">while</span> (tab_to_scroll_to == NULL)</div>
<div class="line"><a name="l07976"></a><span class="lineno"> 7976</span>&#160;            {</div>
<div class="line"><a name="l07977"></a><span class="lineno"> 7977</span>&#160;                <span class="comment">// If we are at the end of the list, still scroll to make our tab visible</span></div>
<div class="line"><a name="l07978"></a><span class="lineno"> 7978</span>&#160;                tab_to_scroll_to = &amp;tab_bar-&gt;Tabs[(target_order &gt;= 0 &amp;&amp; target_order &lt; tab_bar-&gt;Tabs.Size) ? target_order : selected_order];</div>
<div class="line"><a name="l07979"></a><span class="lineno"> 7979</span>&#160; </div>
<div class="line"><a name="l07980"></a><span class="lineno"> 7980</span>&#160;                <span class="comment">// Cross through buttons</span></div>
<div class="line"><a name="l07981"></a><span class="lineno"> 7981</span>&#160;                <span class="comment">// (even if first/last item is a button, return it so we can update the scroll)</span></div>
<div class="line"><a name="l07982"></a><span class="lineno"> 7982</span>&#160;                <span class="keywordflow">if</span> (tab_to_scroll_to-&gt;Flags &amp; ImGuiTabItemFlags_Button)</div>
<div class="line"><a name="l07983"></a><span class="lineno"> 7983</span>&#160;                {</div>
<div class="line"><a name="l07984"></a><span class="lineno"> 7984</span>&#160;                    target_order += select_dir;</div>
<div class="line"><a name="l07985"></a><span class="lineno"> 7985</span>&#160;                    selected_order += select_dir;</div>
<div class="line"><a name="l07986"></a><span class="lineno"> 7986</span>&#160;                    tab_to_scroll_to = (target_order &lt; 0 || target_order &gt;= tab_bar-&gt;Tabs.Size) ? tab_to_scroll_to : NULL;</div>
<div class="line"><a name="l07987"></a><span class="lineno"> 7987</span>&#160;                }</div>
<div class="line"><a name="l07988"></a><span class="lineno"> 7988</span>&#160;            }</div>
<div class="line"><a name="l07989"></a><span class="lineno"> 7989</span>&#160;        }</div>
<div class="line"><a name="l07990"></a><span class="lineno"> 7990</span>&#160;    window-&gt;DC.CursorPos = backup_cursor_pos;</div>
<div class="line"><a name="l07991"></a><span class="lineno"> 7991</span>&#160;    tab_bar-&gt;BarRect.Max.x -= scrolling_buttons_width + 1.0f;</div>
<div class="line"><a name="l07992"></a><span class="lineno"> 7992</span>&#160; </div>
<div class="line"><a name="l07993"></a><span class="lineno"> 7993</span>&#160;    <span class="keywordflow">return</span> tab_to_scroll_to;</div>
<div class="line"><a name="l07994"></a><span class="lineno"> 7994</span>&#160;}</div>
<div class="line"><a name="l07995"></a><span class="lineno"> 7995</span>&#160; </div>
<div class="line"><a name="l07996"></a><span class="lineno"> 7996</span>&#160;<span class="keyword">static</span> <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *ImGui::TabBarTabListPopupButton(<a class="code" href="struct_im_gui_tab_bar.html">ImGuiTabBar</a> *tab_bar)</div>
<div class="line"><a name="l07997"></a><span class="lineno"> 7997</span>&#160;{</div>
<div class="line"><a name="l07998"></a><span class="lineno"> 7998</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l07999"></a><span class="lineno"> 7999</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = g.CurrentWindow;</div>
<div class="line"><a name="l08000"></a><span class="lineno"> 8000</span>&#160; </div>
<div class="line"><a name="l08001"></a><span class="lineno"> 8001</span>&#160;    <span class="comment">// We use g.Style.FramePadding.y to match the square ArrowButton size</span></div>
<div class="line"><a name="l08002"></a><span class="lineno"> 8002</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> tab_list_popup_button_width = g.FontSize + g.Style.FramePadding.y;</div>
<div class="line"><a name="l08003"></a><span class="lineno"> 8003</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> backup_cursor_pos = window-&gt;DC.CursorPos;</div>
<div class="line"><a name="l08004"></a><span class="lineno"> 8004</span>&#160;    window-&gt;DC.CursorPos = <a class="code" href="struct_im_vec2.html">ImVec2</a>(tab_bar-&gt;BarRect.Min.x - g.Style.FramePadding.y, tab_bar-&gt;BarRect.Min.y);</div>
<div class="line"><a name="l08005"></a><span class="lineno"> 8005</span>&#160;    tab_bar-&gt;BarRect.Min.x += tab_list_popup_button_width;</div>
<div class="line"><a name="l08006"></a><span class="lineno"> 8006</span>&#160; </div>
<div class="line"><a name="l08007"></a><span class="lineno"> 8007</span>&#160;    <a class="code" href="struct_im_vec4.html">ImVec4</a> arrow_col = g.Style.Colors[ImGuiCol_Text];</div>
<div class="line"><a name="l08008"></a><span class="lineno"> 8008</span>&#160;    arrow_col.w *= 0.5f;</div>
<div class="line"><a name="l08009"></a><span class="lineno"> 8009</span>&#160;    PushStyleColor(ImGuiCol_Text, arrow_col);</div>
<div class="line"><a name="l08010"></a><span class="lineno"> 8010</span>&#160;    PushStyleColor(ImGuiCol_Button, <a class="code" href="struct_im_vec4.html">ImVec4</a>(0, 0, 0, 0));</div>
<div class="line"><a name="l08011"></a><span class="lineno"> 8011</span>&#160;    <span class="keywordtype">bool</span> open = BeginCombo(<span class="stringliteral">&quot;##v&quot;</span>, NULL, ImGuiComboFlags_NoPreview | ImGuiComboFlags_HeightLargest);</div>
<div class="line"><a name="l08012"></a><span class="lineno"> 8012</span>&#160;    PopStyleColor(2);</div>
<div class="line"><a name="l08013"></a><span class="lineno"> 8013</span>&#160; </div>
<div class="line"><a name="l08014"></a><span class="lineno"> 8014</span>&#160;    <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *tab_to_select = NULL;</div>
<div class="line"><a name="l08015"></a><span class="lineno"> 8015</span>&#160;    <span class="keywordflow">if</span> (open)</div>
<div class="line"><a name="l08016"></a><span class="lineno"> 8016</span>&#160;    {</div>
<div class="line"><a name="l08017"></a><span class="lineno"> 8017</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> tab_n = 0; tab_n &lt; tab_bar-&gt;Tabs.Size; tab_n++)</div>
<div class="line"><a name="l08018"></a><span class="lineno"> 8018</span>&#160;        {</div>
<div class="line"><a name="l08019"></a><span class="lineno"> 8019</span>&#160;            <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *tab = &amp;tab_bar-&gt;Tabs[tab_n];</div>
<div class="line"><a name="l08020"></a><span class="lineno"> 8020</span>&#160;            <span class="keywordflow">if</span> (tab-&gt;Flags &amp; ImGuiTabItemFlags_Button)</div>
<div class="line"><a name="l08021"></a><span class="lineno"> 8021</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l08022"></a><span class="lineno"> 8022</span>&#160; </div>
<div class="line"><a name="l08023"></a><span class="lineno"> 8023</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *tab_name = tab_bar-&gt;GetTabName(tab);</div>
<div class="line"><a name="l08024"></a><span class="lineno"> 8024</span>&#160;            <span class="keywordflow">if</span> (Selectable(tab_name, tab_bar-&gt;SelectedTabId == tab-&gt;ID))</div>
<div class="line"><a name="l08025"></a><span class="lineno"> 8025</span>&#160;                tab_to_select = tab;</div>
<div class="line"><a name="l08026"></a><span class="lineno"> 8026</span>&#160;        }</div>
<div class="line"><a name="l08027"></a><span class="lineno"> 8027</span>&#160;        EndCombo();</div>
<div class="line"><a name="l08028"></a><span class="lineno"> 8028</span>&#160;    }</div>
<div class="line"><a name="l08029"></a><span class="lineno"> 8029</span>&#160; </div>
<div class="line"><a name="l08030"></a><span class="lineno"> 8030</span>&#160;    window-&gt;DC.CursorPos = backup_cursor_pos;</div>
<div class="line"><a name="l08031"></a><span class="lineno"> 8031</span>&#160;    <span class="keywordflow">return</span> tab_to_select;</div>
<div class="line"><a name="l08032"></a><span class="lineno"> 8032</span>&#160;}</div>
<div class="line"><a name="l08033"></a><span class="lineno"> 8033</span>&#160; </div>
<div class="line"><a name="l08034"></a><span class="lineno"> 8034</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l08035"></a><span class="lineno"> 8035</span>&#160;<span class="comment">// [SECTION] Widgets: BeginTabItem, EndTabItem, etc.</span></div>
<div class="line"><a name="l08036"></a><span class="lineno"> 8036</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l08037"></a><span class="lineno"> 8037</span>&#160;<span class="comment">// - BeginTabItem()</span></div>
<div class="line"><a name="l08038"></a><span class="lineno"> 8038</span>&#160;<span class="comment">// - EndTabItem()</span></div>
<div class="line"><a name="l08039"></a><span class="lineno"> 8039</span>&#160;<span class="comment">// - TabItemButton()</span></div>
<div class="line"><a name="l08040"></a><span class="lineno"> 8040</span>&#160;<span class="comment">// - TabItemEx() [Internal]</span></div>
<div class="line"><a name="l08041"></a><span class="lineno"> 8041</span>&#160;<span class="comment">// - SetTabItemClosed()</span></div>
<div class="line"><a name="l08042"></a><span class="lineno"> 8042</span>&#160;<span class="comment">// - TabItemCalcSize() [Internal]</span></div>
<div class="line"><a name="l08043"></a><span class="lineno"> 8043</span>&#160;<span class="comment">// - TabItemBackground() [Internal]</span></div>
<div class="line"><a name="l08044"></a><span class="lineno"> 8044</span>&#160;<span class="comment">// - TabItemLabelAndCloseButton() [Internal]</span></div>
<div class="line"><a name="l08045"></a><span class="lineno"> 8045</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a name="l08046"></a><span class="lineno"> 8046</span>&#160; </div>
<div class="line"><a name="l08047"></a><span class="lineno"> 8047</span>&#160;<span class="keywordtype">bool</span>    ImGui::BeginTabItem(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">bool</span> *p_open, ImGuiTabItemFlags flags)</div>
<div class="line"><a name="l08048"></a><span class="lineno"> 8048</span>&#160;{</div>
<div class="line"><a name="l08049"></a><span class="lineno"> 8049</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l08050"></a><span class="lineno"> 8050</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = g.CurrentWindow;</div>
<div class="line"><a name="l08051"></a><span class="lineno"> 8051</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l08052"></a><span class="lineno"> 8052</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08053"></a><span class="lineno"> 8053</span>&#160; </div>
<div class="line"><a name="l08054"></a><span class="lineno"> 8054</span>&#160;    <a class="code" href="struct_im_gui_tab_bar.html">ImGuiTabBar</a> *tab_bar = g.CurrentTabBar;</div>
<div class="line"><a name="l08055"></a><span class="lineno"> 8055</span>&#160;    <span class="keywordflow">if</span> (tab_bar == NULL)</div>
<div class="line"><a name="l08056"></a><span class="lineno"> 8056</span>&#160;    {</div>
<div class="line"><a name="l08057"></a><span class="lineno"> 8057</span>&#160;        IM_ASSERT_USER_ERROR(tab_bar, <span class="stringliteral">&quot;Needs to be called between BeginTabBar() and EndTabBar()!&quot;</span>);</div>
<div class="line"><a name="l08058"></a><span class="lineno"> 8058</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08059"></a><span class="lineno"> 8059</span>&#160;    }</div>
<div class="line"><a name="l08060"></a><span class="lineno"> 8060</span>&#160;    IM_ASSERT(!(flags &amp; ImGuiTabItemFlags_Button)); <span class="comment">// BeginTabItem() Can&#39;t be used with button flags, use TabItemButton() instead!</span></div>
<div class="line"><a name="l08061"></a><span class="lineno"> 8061</span>&#160; </div>
<div class="line"><a name="l08062"></a><span class="lineno"> 8062</span>&#160;    <span class="keywordtype">bool</span> ret = TabItemEx(tab_bar, label, p_open, flags);</div>
<div class="line"><a name="l08063"></a><span class="lineno"> 8063</span>&#160;    <span class="keywordflow">if</span> (ret &amp;&amp; !(flags &amp; ImGuiTabItemFlags_NoPushId))</div>
<div class="line"><a name="l08064"></a><span class="lineno"> 8064</span>&#160;    {</div>
<div class="line"><a name="l08065"></a><span class="lineno"> 8065</span>&#160;        <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *tab = &amp;tab_bar-&gt;Tabs[tab_bar-&gt;LastTabItemIdx];</div>
<div class="line"><a name="l08066"></a><span class="lineno"> 8066</span>&#160;        PushOverrideID(tab-&gt;ID); <span class="comment">// We already hashed &#39;label&#39; so push into the ID stack directly instead of doing another hash through PushID(label)</span></div>
<div class="line"><a name="l08067"></a><span class="lineno"> 8067</span>&#160;    }</div>
<div class="line"><a name="l08068"></a><span class="lineno"> 8068</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l08069"></a><span class="lineno"> 8069</span>&#160;}</div>
<div class="line"><a name="l08070"></a><span class="lineno"> 8070</span>&#160; </div>
<div class="line"><a name="l08071"></a><span class="lineno"> 8071</span>&#160;<span class="keywordtype">void</span>    ImGui::EndTabItem()</div>
<div class="line"><a name="l08072"></a><span class="lineno"> 8072</span>&#160;{</div>
<div class="line"><a name="l08073"></a><span class="lineno"> 8073</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l08074"></a><span class="lineno"> 8074</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = g.CurrentWindow;</div>
<div class="line"><a name="l08075"></a><span class="lineno"> 8075</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l08076"></a><span class="lineno"> 8076</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08077"></a><span class="lineno"> 8077</span>&#160; </div>
<div class="line"><a name="l08078"></a><span class="lineno"> 8078</span>&#160;    <a class="code" href="struct_im_gui_tab_bar.html">ImGuiTabBar</a> *tab_bar = g.CurrentTabBar;</div>
<div class="line"><a name="l08079"></a><span class="lineno"> 8079</span>&#160;    <span class="keywordflow">if</span> (tab_bar == NULL)</div>
<div class="line"><a name="l08080"></a><span class="lineno"> 8080</span>&#160;    {</div>
<div class="line"><a name="l08081"></a><span class="lineno"> 8081</span>&#160;        IM_ASSERT_USER_ERROR(tab_bar != NULL, <span class="stringliteral">&quot;Needs to be called between BeginTabBar() and EndTabBar()!&quot;</span>);</div>
<div class="line"><a name="l08082"></a><span class="lineno"> 8082</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08083"></a><span class="lineno"> 8083</span>&#160;    }</div>
<div class="line"><a name="l08084"></a><span class="lineno"> 8084</span>&#160;    IM_ASSERT(tab_bar-&gt;LastTabItemIdx &gt;= 0);</div>
<div class="line"><a name="l08085"></a><span class="lineno"> 8085</span>&#160;    <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *tab = &amp;tab_bar-&gt;Tabs[tab_bar-&gt;LastTabItemIdx];</div>
<div class="line"><a name="l08086"></a><span class="lineno"> 8086</span>&#160;    <span class="keywordflow">if</span> (!(tab-&gt;Flags &amp; ImGuiTabItemFlags_NoPushId))</div>
<div class="line"><a name="l08087"></a><span class="lineno"> 8087</span>&#160;        PopID();</div>
<div class="line"><a name="l08088"></a><span class="lineno"> 8088</span>&#160;}</div>
<div class="line"><a name="l08089"></a><span class="lineno"> 8089</span>&#160; </div>
<div class="line"><a name="l08090"></a><span class="lineno"> 8090</span>&#160;<span class="keywordtype">bool</span>    ImGui::TabItemButton(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, ImGuiTabItemFlags flags)</div>
<div class="line"><a name="l08091"></a><span class="lineno"> 8091</span>&#160;{</div>
<div class="line"><a name="l08092"></a><span class="lineno"> 8092</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l08093"></a><span class="lineno"> 8093</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = g.CurrentWindow;</div>
<div class="line"><a name="l08094"></a><span class="lineno"> 8094</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l08095"></a><span class="lineno"> 8095</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08096"></a><span class="lineno"> 8096</span>&#160; </div>
<div class="line"><a name="l08097"></a><span class="lineno"> 8097</span>&#160;    <a class="code" href="struct_im_gui_tab_bar.html">ImGuiTabBar</a> *tab_bar = g.CurrentTabBar;</div>
<div class="line"><a name="l08098"></a><span class="lineno"> 8098</span>&#160;    <span class="keywordflow">if</span> (tab_bar == NULL)</div>
<div class="line"><a name="l08099"></a><span class="lineno"> 8099</span>&#160;    {</div>
<div class="line"><a name="l08100"></a><span class="lineno"> 8100</span>&#160;        IM_ASSERT_USER_ERROR(tab_bar != NULL, <span class="stringliteral">&quot;Needs to be called between BeginTabBar() and EndTabBar()!&quot;</span>);</div>
<div class="line"><a name="l08101"></a><span class="lineno"> 8101</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08102"></a><span class="lineno"> 8102</span>&#160;    }</div>
<div class="line"><a name="l08103"></a><span class="lineno"> 8103</span>&#160;    <span class="keywordflow">return</span> TabItemEx(tab_bar, label, NULL, flags | ImGuiTabItemFlags_Button | ImGuiTabItemFlags_NoReorder);</div>
<div class="line"><a name="l08104"></a><span class="lineno"> 8104</span>&#160;}</div>
<div class="line"><a name="l08105"></a><span class="lineno"> 8105</span>&#160; </div>
<div class="line"><a name="l08106"></a><span class="lineno"> 8106</span>&#160;<span class="keywordtype">bool</span>    ImGui::TabItemEx(<a class="code" href="struct_im_gui_tab_bar.html">ImGuiTabBar</a> *tab_bar, <span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">bool</span> *p_open, ImGuiTabItemFlags flags)</div>
<div class="line"><a name="l08107"></a><span class="lineno"> 8107</span>&#160;{</div>
<div class="line"><a name="l08108"></a><span class="lineno"> 8108</span>&#160;    <span class="comment">// Layout whole tab bar if not already done</span></div>
<div class="line"><a name="l08109"></a><span class="lineno"> 8109</span>&#160;    <span class="keywordflow">if</span> (tab_bar-&gt;WantLayout)</div>
<div class="line"><a name="l08110"></a><span class="lineno"> 8110</span>&#160;        TabBarLayout(tab_bar);</div>
<div class="line"><a name="l08111"></a><span class="lineno"> 8111</span>&#160; </div>
<div class="line"><a name="l08112"></a><span class="lineno"> 8112</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l08113"></a><span class="lineno"> 8113</span>&#160;    <a class="code" href="struct_im_gui_window.html">ImGuiWindow</a> *window = g.CurrentWindow;</div>
<div class="line"><a name="l08114"></a><span class="lineno"> 8114</span>&#160;    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a name="l08115"></a><span class="lineno"> 8115</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08116"></a><span class="lineno"> 8116</span>&#160; </div>
<div class="line"><a name="l08117"></a><span class="lineno"> 8117</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_gui_style.html">ImGuiStyle</a> &amp;style = g.Style;</div>
<div class="line"><a name="l08118"></a><span class="lineno"> 8118</span>&#160;    <span class="keyword">const</span> ImGuiID <span class="keywordtype">id</span> = TabBarCalcTabID(tab_bar, label);</div>
<div class="line"><a name="l08119"></a><span class="lineno"> 8119</span>&#160; </div>
<div class="line"><a name="l08120"></a><span class="lineno"> 8120</span>&#160;    <span class="comment">// If the user called us with *p_open == false, we early out and don&#39;t render.</span></div>
<div class="line"><a name="l08121"></a><span class="lineno"> 8121</span>&#160;    <span class="comment">// We make a call to ItemAdd() so that attempts to use a contextual popup menu with an implicit ID won&#39;t use an older ID.</span></div>
<div class="line"><a name="l08122"></a><span class="lineno"> 8122</span>&#160;    IMGUI_TEST_ENGINE_ITEM_INFO(<span class="keywordtype">id</span>, label, g.LastItemData.StatusFlags);</div>
<div class="line"><a name="l08123"></a><span class="lineno"> 8123</span>&#160;    <span class="keywordflow">if</span> (p_open &amp;&amp; !*p_open)</div>
<div class="line"><a name="l08124"></a><span class="lineno"> 8124</span>&#160;    {</div>
<div class="line"><a name="l08125"></a><span class="lineno"> 8125</span>&#160;        PushItemFlag(ImGuiItemFlags_NoNav | ImGuiItemFlags_NoNavDefaultFocus, <span class="keyword">true</span>);</div>
<div class="line"><a name="l08126"></a><span class="lineno"> 8126</span>&#160;        ItemAdd(<a class="code" href="struct_im_rect.html">ImRect</a>(), <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l08127"></a><span class="lineno"> 8127</span>&#160;        PopItemFlag();</div>
<div class="line"><a name="l08128"></a><span class="lineno"> 8128</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08129"></a><span class="lineno"> 8129</span>&#160;    }</div>
<div class="line"><a name="l08130"></a><span class="lineno"> 8130</span>&#160; </div>
<div class="line"><a name="l08131"></a><span class="lineno"> 8131</span>&#160;    IM_ASSERT(!p_open || !(flags &amp; ImGuiTabItemFlags_Button));</div>
<div class="line"><a name="l08132"></a><span class="lineno"> 8132</span>&#160;    IM_ASSERT((flags &amp; (ImGuiTabItemFlags_Leading | ImGuiTabItemFlags_Trailing)) != (ImGuiTabItemFlags_Leading | ImGuiTabItemFlags_Trailing)); <span class="comment">// Can&#39;t use both Leading and Trailing</span></div>
<div class="line"><a name="l08133"></a><span class="lineno"> 8133</span>&#160; </div>
<div class="line"><a name="l08134"></a><span class="lineno"> 8134</span>&#160;    <span class="comment">// Store into ImGuiTabItemFlags_NoCloseButton, also honor ImGuiTabItemFlags_NoCloseButton passed by user (although not documented)</span></div>
<div class="line"><a name="l08135"></a><span class="lineno"> 8135</span>&#160;    <span class="keywordflow">if</span> (flags &amp; ImGuiTabItemFlags_NoCloseButton)</div>
<div class="line"><a name="l08136"></a><span class="lineno"> 8136</span>&#160;        p_open = NULL;</div>
<div class="line"><a name="l08137"></a><span class="lineno"> 8137</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p_open == NULL)</div>
<div class="line"><a name="l08138"></a><span class="lineno"> 8138</span>&#160;        flags |= ImGuiTabItemFlags_NoCloseButton;</div>
<div class="line"><a name="l08139"></a><span class="lineno"> 8139</span>&#160; </div>
<div class="line"><a name="l08140"></a><span class="lineno"> 8140</span>&#160;    <span class="comment">// Calculate tab contents size</span></div>
<div class="line"><a name="l08141"></a><span class="lineno"> 8141</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> size = TabItemCalcSize(label, p_open != NULL);</div>
<div class="line"><a name="l08142"></a><span class="lineno"> 8142</span>&#160; </div>
<div class="line"><a name="l08143"></a><span class="lineno"> 8143</span>&#160;    <span class="comment">// Acquire tab data</span></div>
<div class="line"><a name="l08144"></a><span class="lineno"> 8144</span>&#160;    <a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *tab = TabBarFindTabByID(tab_bar, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l08145"></a><span class="lineno"> 8145</span>&#160;    <span class="keywordtype">bool</span> tab_is_new = <span class="keyword">false</span>;</div>
<div class="line"><a name="l08146"></a><span class="lineno"> 8146</span>&#160;    <span class="keywordflow">if</span> (tab == NULL)</div>
<div class="line"><a name="l08147"></a><span class="lineno"> 8147</span>&#160;    {</div>
<div class="line"><a name="l08148"></a><span class="lineno"> 8148</span>&#160;        tab_bar-&gt;Tabs.push_back(<a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a>());</div>
<div class="line"><a name="l08149"></a><span class="lineno"> 8149</span>&#160;        tab = &amp;tab_bar-&gt;Tabs.back();</div>
<div class="line"><a name="l08150"></a><span class="lineno"> 8150</span>&#160;        tab-&gt;ID = id;</div>
<div class="line"><a name="l08151"></a><span class="lineno"> 8151</span>&#160;        tab-&gt;Width = size.x;</div>
<div class="line"><a name="l08152"></a><span class="lineno"> 8152</span>&#160;        tab_bar-&gt;TabsAddedNew = <span class="keyword">true</span>;</div>
<div class="line"><a name="l08153"></a><span class="lineno"> 8153</span>&#160;        tab_is_new = <span class="keyword">true</span>;</div>
<div class="line"><a name="l08154"></a><span class="lineno"> 8154</span>&#160;    }</div>
<div class="line"><a name="l08155"></a><span class="lineno"> 8155</span>&#160;    tab_bar-&gt;LastTabItemIdx = (ImS16)tab_bar-&gt;Tabs.index_from_ptr(tab);</div>
<div class="line"><a name="l08156"></a><span class="lineno"> 8156</span>&#160;    tab-&gt;ContentWidth = size.x;</div>
<div class="line"><a name="l08157"></a><span class="lineno"> 8157</span>&#160;    tab-&gt;BeginOrder = tab_bar-&gt;TabsActiveCount++;</div>
<div class="line"><a name="l08158"></a><span class="lineno"> 8158</span>&#160; </div>
<div class="line"><a name="l08159"></a><span class="lineno"> 8159</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> tab_bar_appearing = (tab_bar-&gt;PrevFrameVisible + 1 &lt; g.FrameCount);</div>
<div class="line"><a name="l08160"></a><span class="lineno"> 8160</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> tab_bar_focused = (tab_bar-&gt;Flags &amp; ImGuiTabBarFlags_IsFocused) != 0;</div>
<div class="line"><a name="l08161"></a><span class="lineno"> 8161</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> tab_appearing = (tab-&gt;LastFrameVisible + 1 &lt; g.FrameCount);</div>
<div class="line"><a name="l08162"></a><span class="lineno"> 8162</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_tab_button = (flags &amp; ImGuiTabItemFlags_Button) != 0;</div>
<div class="line"><a name="l08163"></a><span class="lineno"> 8163</span>&#160;    tab-&gt;LastFrameVisible = g.FrameCount;</div>
<div class="line"><a name="l08164"></a><span class="lineno"> 8164</span>&#160;    tab-&gt;Flags = flags;</div>
<div class="line"><a name="l08165"></a><span class="lineno"> 8165</span>&#160; </div>
<div class="line"><a name="l08166"></a><span class="lineno"> 8166</span>&#160;    <span class="comment">// Append name with zero-terminator</span></div>
<div class="line"><a name="l08167"></a><span class="lineno"> 8167</span>&#160;    tab-&gt;NameOffset = (ImS32)tab_bar-&gt;TabsNames.size();</div>
<div class="line"><a name="l08168"></a><span class="lineno"> 8168</span>&#160;    tab_bar-&gt;TabsNames.append(label, label + strlen(label) + 1);</div>
<div class="line"><a name="l08169"></a><span class="lineno"> 8169</span>&#160; </div>
<div class="line"><a name="l08170"></a><span class="lineno"> 8170</span>&#160;    <span class="comment">// Update selected tab</span></div>
<div class="line"><a name="l08171"></a><span class="lineno"> 8171</span>&#160;    <span class="keywordflow">if</span> (tab_appearing &amp;&amp; (tab_bar-&gt;Flags &amp; ImGuiTabBarFlags_AutoSelectNewTabs) &amp;&amp; tab_bar-&gt;NextSelectedTabId == 0)</div>
<div class="line"><a name="l08172"></a><span class="lineno"> 8172</span>&#160;        <span class="keywordflow">if</span> (!tab_bar_appearing || tab_bar-&gt;SelectedTabId == 0)</div>
<div class="line"><a name="l08173"></a><span class="lineno"> 8173</span>&#160;            <span class="keywordflow">if</span> (!is_tab_button)</div>
<div class="line"><a name="l08174"></a><span class="lineno"> 8174</span>&#160;                tab_bar-&gt;NextSelectedTabId = id;  <span class="comment">// New tabs gets activated</span></div>
<div class="line"><a name="l08175"></a><span class="lineno"> 8175</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; ImGuiTabItemFlags_SetSelected) &amp;&amp; (tab_bar-&gt;SelectedTabId != id)) <span class="comment">// SetSelected can only be passed on explicit tab bar</span></div>
<div class="line"><a name="l08176"></a><span class="lineno"> 8176</span>&#160;        <span class="keywordflow">if</span> (!is_tab_button)</div>
<div class="line"><a name="l08177"></a><span class="lineno"> 8177</span>&#160;            tab_bar-&gt;NextSelectedTabId = id;</div>
<div class="line"><a name="l08178"></a><span class="lineno"> 8178</span>&#160; </div>
<div class="line"><a name="l08179"></a><span class="lineno"> 8179</span>&#160;    <span class="comment">// Lock visibility</span></div>
<div class="line"><a name="l08180"></a><span class="lineno"> 8180</span>&#160;    <span class="comment">// (Note: tab_contents_visible != tab_selected... because CTRL+TAB operations may preview some tabs without selecting them!)</span></div>
<div class="line"><a name="l08181"></a><span class="lineno"> 8181</span>&#160;    <span class="keywordtype">bool</span> tab_contents_visible = (tab_bar-&gt;VisibleTabId == id);</div>
<div class="line"><a name="l08182"></a><span class="lineno"> 8182</span>&#160;    <span class="keywordflow">if</span> (tab_contents_visible)</div>
<div class="line"><a name="l08183"></a><span class="lineno"> 8183</span>&#160;        tab_bar-&gt;VisibleTabWasSubmitted = <span class="keyword">true</span>;</div>
<div class="line"><a name="l08184"></a><span class="lineno"> 8184</span>&#160; </div>
<div class="line"><a name="l08185"></a><span class="lineno"> 8185</span>&#160;    <span class="comment">// On the very first frame of a tab bar we let first tab contents be visible to minimize appearing glitches</span></div>
<div class="line"><a name="l08186"></a><span class="lineno"> 8186</span>&#160;    <span class="keywordflow">if</span> (!tab_contents_visible &amp;&amp; tab_bar-&gt;SelectedTabId == 0 &amp;&amp; tab_bar_appearing)</div>
<div class="line"><a name="l08187"></a><span class="lineno"> 8187</span>&#160;        <span class="keywordflow">if</span> (tab_bar-&gt;Tabs.Size == 1 &amp;&amp; !(tab_bar-&gt;Flags &amp; ImGuiTabBarFlags_AutoSelectNewTabs))</div>
<div class="line"><a name="l08188"></a><span class="lineno"> 8188</span>&#160;            tab_contents_visible = <span class="keyword">true</span>;</div>
<div class="line"><a name="l08189"></a><span class="lineno"> 8189</span>&#160; </div>
<div class="line"><a name="l08190"></a><span class="lineno"> 8190</span>&#160;    <span class="comment">// Note that tab_is_new is not necessarily the same as tab_appearing! When a tab bar stops being submitted</span></div>
<div class="line"><a name="l08191"></a><span class="lineno"> 8191</span>&#160;    <span class="comment">// and then gets submitted again, the tabs will have &#39;tab_appearing=true&#39; but &#39;tab_is_new=false&#39;.</span></div>
<div class="line"><a name="l08192"></a><span class="lineno"> 8192</span>&#160;    <span class="keywordflow">if</span> (tab_appearing &amp;&amp; (!tab_bar_appearing || tab_is_new))</div>
<div class="line"><a name="l08193"></a><span class="lineno"> 8193</span>&#160;    {</div>
<div class="line"><a name="l08194"></a><span class="lineno"> 8194</span>&#160;        PushItemFlag(ImGuiItemFlags_NoNav | ImGuiItemFlags_NoNavDefaultFocus, <span class="keyword">true</span>);</div>
<div class="line"><a name="l08195"></a><span class="lineno"> 8195</span>&#160;        ItemAdd(<a class="code" href="struct_im_rect.html">ImRect</a>(), <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l08196"></a><span class="lineno"> 8196</span>&#160;        PopItemFlag();</div>
<div class="line"><a name="l08197"></a><span class="lineno"> 8197</span>&#160;        <span class="keywordflow">if</span> (is_tab_button)</div>
<div class="line"><a name="l08198"></a><span class="lineno"> 8198</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l08199"></a><span class="lineno"> 8199</span>&#160;        <span class="keywordflow">return</span> tab_contents_visible;</div>
<div class="line"><a name="l08200"></a><span class="lineno"> 8200</span>&#160;    }</div>
<div class="line"><a name="l08201"></a><span class="lineno"> 8201</span>&#160; </div>
<div class="line"><a name="l08202"></a><span class="lineno"> 8202</span>&#160;    <span class="keywordflow">if</span> (tab_bar-&gt;SelectedTabId == <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l08203"></a><span class="lineno"> 8203</span>&#160;        tab-&gt;LastFrameSelected = g.FrameCount;</div>
<div class="line"><a name="l08204"></a><span class="lineno"> 8204</span>&#160; </div>
<div class="line"><a name="l08205"></a><span class="lineno"> 8205</span>&#160;    <span class="comment">// Backup current layout position</span></div>
<div class="line"><a name="l08206"></a><span class="lineno"> 8206</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> backup_main_cursor_pos = window-&gt;DC.CursorPos;</div>
<div class="line"><a name="l08207"></a><span class="lineno"> 8207</span>&#160; </div>
<div class="line"><a name="l08208"></a><span class="lineno"> 8208</span>&#160;    <span class="comment">// Layout</span></div>
<div class="line"><a name="l08209"></a><span class="lineno"> 8209</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_central_section = (tab-&gt;Flags &amp; ImGuiTabItemFlags_SectionMask_) == 0;</div>
<div class="line"><a name="l08210"></a><span class="lineno"> 8210</span>&#160;    size.x = tab-&gt;Width;</div>
<div class="line"><a name="l08211"></a><span class="lineno"> 8211</span>&#160;    <span class="keywordflow">if</span> (is_central_section)</div>
<div class="line"><a name="l08212"></a><span class="lineno"> 8212</span>&#160;        window-&gt;DC.CursorPos = tab_bar-&gt;BarRect.Min + <a class="code" href="struct_im_vec2.html">ImVec2</a>(IM_FLOOR(tab-&gt;Offset - tab_bar-&gt;ScrollingAnim), 0.0f);</div>
<div class="line"><a name="l08213"></a><span class="lineno"> 8213</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l08214"></a><span class="lineno"> 8214</span>&#160;        window-&gt;DC.CursorPos = tab_bar-&gt;BarRect.Min + <a class="code" href="struct_im_vec2.html">ImVec2</a>(tab-&gt;Offset, 0.0f);</div>
<div class="line"><a name="l08215"></a><span class="lineno"> 8215</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> pos = window-&gt;DC.CursorPos;</div>
<div class="line"><a name="l08216"></a><span class="lineno"> 8216</span>&#160;    <a class="code" href="struct_im_rect.html">ImRect</a> bb(pos, pos + size);</div>
<div class="line"><a name="l08217"></a><span class="lineno"> 8217</span>&#160; </div>
<div class="line"><a name="l08218"></a><span class="lineno"> 8218</span>&#160;    <span class="comment">// We don&#39;t have CPU clipping primitives to clip the CloseButton (until it becomes a texture), so need to add an extra draw call (temporary in the case of vertical animation)</span></div>
<div class="line"><a name="l08219"></a><span class="lineno"> 8219</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> want_clip_rect = is_central_section &amp;&amp; (bb.Min.x &lt; tab_bar-&gt;ScrollingRectMinX || bb.Max.x &gt; tab_bar-&gt;ScrollingRectMaxX);</div>
<div class="line"><a name="l08220"></a><span class="lineno"> 8220</span>&#160;    <span class="keywordflow">if</span> (want_clip_rect)</div>
<div class="line"><a name="l08221"></a><span class="lineno"> 8221</span>&#160;        PushClipRect(<a class="code" href="struct_im_vec2.html">ImVec2</a>(ImMax(bb.Min.x, tab_bar-&gt;ScrollingRectMinX), bb.Min.y - 1), <a class="code" href="struct_im_vec2.html">ImVec2</a>(tab_bar-&gt;ScrollingRectMaxX, bb.Max.y), <span class="keyword">true</span>);</div>
<div class="line"><a name="l08222"></a><span class="lineno"> 8222</span>&#160; </div>
<div class="line"><a name="l08223"></a><span class="lineno"> 8223</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> backup_cursor_max_pos = window-&gt;DC.CursorMaxPos;</div>
<div class="line"><a name="l08224"></a><span class="lineno"> 8224</span>&#160;    ItemSize(bb.GetSize(), style.FramePadding.y);</div>
<div class="line"><a name="l08225"></a><span class="lineno"> 8225</span>&#160;    window-&gt;DC.CursorMaxPos = backup_cursor_max_pos;</div>
<div class="line"><a name="l08226"></a><span class="lineno"> 8226</span>&#160; </div>
<div class="line"><a name="l08227"></a><span class="lineno"> 8227</span>&#160;    <span class="keywordflow">if</span> (!ItemAdd(bb, <span class="keywordtype">id</span>))</div>
<div class="line"><a name="l08228"></a><span class="lineno"> 8228</span>&#160;    {</div>
<div class="line"><a name="l08229"></a><span class="lineno"> 8229</span>&#160;        <span class="keywordflow">if</span> (want_clip_rect)</div>
<div class="line"><a name="l08230"></a><span class="lineno"> 8230</span>&#160;            PopClipRect();</div>
<div class="line"><a name="l08231"></a><span class="lineno"> 8231</span>&#160;        window-&gt;DC.CursorPos = backup_main_cursor_pos;</div>
<div class="line"><a name="l08232"></a><span class="lineno"> 8232</span>&#160;        <span class="keywordflow">return</span> tab_contents_visible;</div>
<div class="line"><a name="l08233"></a><span class="lineno"> 8233</span>&#160;    }</div>
<div class="line"><a name="l08234"></a><span class="lineno"> 8234</span>&#160; </div>
<div class="line"><a name="l08235"></a><span class="lineno"> 8235</span>&#160;    <span class="comment">// Click to Select a tab</span></div>
<div class="line"><a name="l08236"></a><span class="lineno"> 8236</span>&#160;    ImGuiButtonFlags button_flags = ((is_tab_button ? ImGuiButtonFlags_PressedOnClickRelease : ImGuiButtonFlags_PressedOnClick) | ImGuiButtonFlags_AllowItemOverlap);</div>
<div class="line"><a name="l08237"></a><span class="lineno"> 8237</span>&#160;    <span class="keywordflow">if</span> (g.DragDropActive)</div>
<div class="line"><a name="l08238"></a><span class="lineno"> 8238</span>&#160;        button_flags |= ImGuiButtonFlags_PressedOnDragDropHold;</div>
<div class="line"><a name="l08239"></a><span class="lineno"> 8239</span>&#160;    <span class="keywordtype">bool</span> hovered, held;</div>
<div class="line"><a name="l08240"></a><span class="lineno"> 8240</span>&#160;    <span class="keywordtype">bool</span> pressed = ButtonBehavior(bb, <span class="keywordtype">id</span>, &amp;hovered, &amp;held, button_flags);</div>
<div class="line"><a name="l08241"></a><span class="lineno"> 8241</span>&#160;    <span class="keywordflow">if</span> (pressed &amp;&amp; !is_tab_button)</div>
<div class="line"><a name="l08242"></a><span class="lineno"> 8242</span>&#160;        tab_bar-&gt;NextSelectedTabId = id;</div>
<div class="line"><a name="l08243"></a><span class="lineno"> 8243</span>&#160; </div>
<div class="line"><a name="l08244"></a><span class="lineno"> 8244</span>&#160;    <span class="comment">// Allow the close button to overlap unless we are dragging (in which case we don&#39;t want any overlapping tabs to be hovered)</span></div>
<div class="line"><a name="l08245"></a><span class="lineno"> 8245</span>&#160;    <span class="keywordflow">if</span> (g.ActiveId != <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l08246"></a><span class="lineno"> 8246</span>&#160;        SetItemAllowOverlap();</div>
<div class="line"><a name="l08247"></a><span class="lineno"> 8247</span>&#160; </div>
<div class="line"><a name="l08248"></a><span class="lineno"> 8248</span>&#160;    <span class="comment">// Drag and drop: re-order tabs</span></div>
<div class="line"><a name="l08249"></a><span class="lineno"> 8249</span>&#160;    <span class="keywordflow">if</span> (held &amp;&amp; !tab_appearing &amp;&amp; IsMouseDragging(0))</div>
<div class="line"><a name="l08250"></a><span class="lineno"> 8250</span>&#160;    {</div>
<div class="line"><a name="l08251"></a><span class="lineno"> 8251</span>&#160;        <span class="keywordflow">if</span> (!g.DragDropActive &amp;&amp; (tab_bar-&gt;Flags &amp; ImGuiTabBarFlags_Reorderable))</div>
<div class="line"><a name="l08252"></a><span class="lineno"> 8252</span>&#160;        {</div>
<div class="line"><a name="l08253"></a><span class="lineno"> 8253</span>&#160;            <span class="comment">// While moving a tab it will jump on the other side of the mouse, so we also test for MouseDelta.x</span></div>
<div class="line"><a name="l08254"></a><span class="lineno"> 8254</span>&#160;            <span class="keywordflow">if</span> (g.IO.MouseDelta.x &lt; 0.0f &amp;&amp; g.IO.MousePos.x &lt; bb.Min.x)</div>
<div class="line"><a name="l08255"></a><span class="lineno"> 8255</span>&#160;            {</div>
<div class="line"><a name="l08256"></a><span class="lineno"> 8256</span>&#160;                TabBarQueueReorderFromMousePos(tab_bar, tab, g.IO.MousePos);</div>
<div class="line"><a name="l08257"></a><span class="lineno"> 8257</span>&#160;            }</div>
<div class="line"><a name="l08258"></a><span class="lineno"> 8258</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (g.IO.MouseDelta.x &gt; 0.0f &amp;&amp; g.IO.MousePos.x &gt; bb.Max.x)</div>
<div class="line"><a name="l08259"></a><span class="lineno"> 8259</span>&#160;            {</div>
<div class="line"><a name="l08260"></a><span class="lineno"> 8260</span>&#160;                TabBarQueueReorderFromMousePos(tab_bar, tab, g.IO.MousePos);</div>
<div class="line"><a name="l08261"></a><span class="lineno"> 8261</span>&#160;            }</div>
<div class="line"><a name="l08262"></a><span class="lineno"> 8262</span>&#160;        }</div>
<div class="line"><a name="l08263"></a><span class="lineno"> 8263</span>&#160;    }</div>
<div class="line"><a name="l08264"></a><span class="lineno"> 8264</span>&#160; </div>
<div class="line"><a name="l08265"></a><span class="lineno"> 8265</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l08266"></a><span class="lineno"> 8266</span>&#160;    <span class="keywordflow">if</span> (hovered &amp;&amp; g.HoveredIdNotActiveTimer &gt; TOOLTIP_DELAY &amp;&amp; bb.GetWidth() &lt; tab-&gt;ContentWidth)</div>
<div class="line"><a name="l08267"></a><span class="lineno"> 8267</span>&#160;    {</div>
<div class="line"><a name="l08268"></a><span class="lineno"> 8268</span>&#160;        <span class="comment">// Enlarge tab display when hovering</span></div>
<div class="line"><a name="l08269"></a><span class="lineno"> 8269</span>&#160;        bb.Max.x = bb.Min.x + IM_FLOOR(ImLerp(bb.GetWidth(), tab-&gt;ContentWidth, ImSaturate((g.HoveredIdNotActiveTimer - 0.40f) * 6.0f)));</div>
<div class="line"><a name="l08270"></a><span class="lineno"> 8270</span>&#160;        display_draw_list = GetForegroundDrawList(window);</div>
<div class="line"><a name="l08271"></a><span class="lineno"> 8271</span>&#160;        TabItemBackground(display_draw_list, bb, flags, GetColorU32(ImGuiCol_TitleBgActive));</div>
<div class="line"><a name="l08272"></a><span class="lineno"> 8272</span>&#160;    }</div>
<div class="line"><a name="l08273"></a><span class="lineno"> 8273</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l08274"></a><span class="lineno"> 8274</span>&#160; </div>
<div class="line"><a name="l08275"></a><span class="lineno"> 8275</span>&#160;    <span class="comment">// Render tab shape</span></div>
<div class="line"><a name="l08276"></a><span class="lineno"> 8276</span>&#160;    <a class="code" href="struct_im_draw_list.html">ImDrawList</a> *display_draw_list = window-&gt;DrawList;</div>
<div class="line"><a name="l08277"></a><span class="lineno"> 8277</span>&#160;    <span class="keyword">const</span> ImU32 tab_col = GetColorU32((held || hovered) ? ImGuiCol_TabHovered : tab_contents_visible ? (tab_bar_focused ? ImGuiCol_TabActive : ImGuiCol_TabUnfocusedActive) : (tab_bar_focused ? ImGuiCol_Tab : ImGuiCol_TabUnfocused));</div>
<div class="line"><a name="l08278"></a><span class="lineno"> 8278</span>&#160;    TabItemBackground(display_draw_list, bb, flags, tab_col);</div>
<div class="line"><a name="l08279"></a><span class="lineno"> 8279</span>&#160;    RenderNavHighlight(bb, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l08280"></a><span class="lineno"> 8280</span>&#160; </div>
<div class="line"><a name="l08281"></a><span class="lineno"> 8281</span>&#160;    <span class="comment">// Select with right mouse button. This is so the common idiom for context menu automatically highlight the current widget.</span></div>
<div class="line"><a name="l08282"></a><span class="lineno"> 8282</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> hovered_unblocked = IsItemHovered(ImGuiHoveredFlags_AllowWhenBlockedByPopup);</div>
<div class="line"><a name="l08283"></a><span class="lineno"> 8283</span>&#160;    <span class="keywordflow">if</span> (hovered_unblocked &amp;&amp; (IsMouseClicked(1) || IsMouseReleased(1)))</div>
<div class="line"><a name="l08284"></a><span class="lineno"> 8284</span>&#160;        <span class="keywordflow">if</span> (!is_tab_button)</div>
<div class="line"><a name="l08285"></a><span class="lineno"> 8285</span>&#160;            tab_bar-&gt;NextSelectedTabId = id;</div>
<div class="line"><a name="l08286"></a><span class="lineno"> 8286</span>&#160; </div>
<div class="line"><a name="l08287"></a><span class="lineno"> 8287</span>&#160;    <span class="keywordflow">if</span> (tab_bar-&gt;Flags &amp; ImGuiTabBarFlags_NoCloseWithMiddleMouseButton)</div>
<div class="line"><a name="l08288"></a><span class="lineno"> 8288</span>&#160;        flags |= ImGuiTabItemFlags_NoCloseWithMiddleMouseButton;</div>
<div class="line"><a name="l08289"></a><span class="lineno"> 8289</span>&#160; </div>
<div class="line"><a name="l08290"></a><span class="lineno"> 8290</span>&#160;    <span class="comment">// Render tab label, process close button</span></div>
<div class="line"><a name="l08291"></a><span class="lineno"> 8291</span>&#160;    <span class="keyword">const</span> ImGuiID close_button_id = p_open ? GetIDWithSeed(<span class="stringliteral">&quot;#CLOSE&quot;</span>, NULL, <span class="keywordtype">id</span>) : 0;</div>
<div class="line"><a name="l08292"></a><span class="lineno"> 8292</span>&#160;    <span class="keywordtype">bool</span> just_closed;</div>
<div class="line"><a name="l08293"></a><span class="lineno"> 8293</span>&#160;    <span class="keywordtype">bool</span> text_clipped;</div>
<div class="line"><a name="l08294"></a><span class="lineno"> 8294</span>&#160;    TabItemLabelAndCloseButton(display_draw_list, bb, flags, tab_bar-&gt;FramePadding, label, <span class="keywordtype">id</span>, close_button_id, tab_contents_visible, &amp;just_closed, &amp;text_clipped);</div>
<div class="line"><a name="l08295"></a><span class="lineno"> 8295</span>&#160;    <span class="keywordflow">if</span> (just_closed &amp;&amp; p_open != NULL)</div>
<div class="line"><a name="l08296"></a><span class="lineno"> 8296</span>&#160;    {</div>
<div class="line"><a name="l08297"></a><span class="lineno"> 8297</span>&#160;        *p_open = <span class="keyword">false</span>;</div>
<div class="line"><a name="l08298"></a><span class="lineno"> 8298</span>&#160;        TabBarCloseTab(tab_bar, tab);</div>
<div class="line"><a name="l08299"></a><span class="lineno"> 8299</span>&#160;    }</div>
<div class="line"><a name="l08300"></a><span class="lineno"> 8300</span>&#160; </div>
<div class="line"><a name="l08301"></a><span class="lineno"> 8301</span>&#160;    <span class="comment">// Restore main window position so user can draw there</span></div>
<div class="line"><a name="l08302"></a><span class="lineno"> 8302</span>&#160;    <span class="keywordflow">if</span> (want_clip_rect)</div>
<div class="line"><a name="l08303"></a><span class="lineno"> 8303</span>&#160;        PopClipRect();</div>
<div class="line"><a name="l08304"></a><span class="lineno"> 8304</span>&#160;    window-&gt;DC.CursorPos = backup_main_cursor_pos;</div>
<div class="line"><a name="l08305"></a><span class="lineno"> 8305</span>&#160; </div>
<div class="line"><a name="l08306"></a><span class="lineno"> 8306</span>&#160;    <span class="comment">// Tooltip</span></div>
<div class="line"><a name="l08307"></a><span class="lineno"> 8307</span>&#160;    <span class="comment">// (Won&#39;t work over the close button because ItemOverlap systems messes up with HoveredIdTimer-&gt; seems ok)</span></div>
<div class="line"><a name="l08308"></a><span class="lineno"> 8308</span>&#160;    <span class="comment">// (We test IsItemHovered() to discard e.g. when another item is active or drag and drop over the tab bar, which g.HoveredId ignores)</span></div>
<div class="line"><a name="l08309"></a><span class="lineno"> 8309</span>&#160;    <span class="comment">// FIXME: This is a mess.</span></div>
<div class="line"><a name="l08310"></a><span class="lineno"> 8310</span>&#160;    <span class="comment">// FIXME: We may want disabled tab to still display the tooltip?</span></div>
<div class="line"><a name="l08311"></a><span class="lineno"> 8311</span>&#160;    <span class="keywordflow">if</span> (text_clipped &amp;&amp; g.HoveredId == <span class="keywordtype">id</span> &amp;&amp; !held &amp;&amp; g.HoveredIdNotActiveTimer &gt; g.TooltipSlowDelay &amp;&amp; IsItemHovered())</div>
<div class="line"><a name="l08312"></a><span class="lineno"> 8312</span>&#160;        <span class="keywordflow">if</span> (!(tab_bar-&gt;Flags &amp; ImGuiTabBarFlags_NoTooltip) &amp;&amp; !(tab-&gt;Flags &amp; ImGuiTabItemFlags_NoTooltip))</div>
<div class="line"><a name="l08313"></a><span class="lineno"> 8313</span>&#160;            SetTooltip(<span class="stringliteral">&quot;%.*s&quot;</span>, (<span class="keywordtype">int</span>)(FindRenderedTextEnd(label) - label), label);</div>
<div class="line"><a name="l08314"></a><span class="lineno"> 8314</span>&#160; </div>
<div class="line"><a name="l08315"></a><span class="lineno"> 8315</span>&#160;    IM_ASSERT(!is_tab_button || !(tab_bar-&gt;SelectedTabId == tab-&gt;ID &amp;&amp; is_tab_button)); <span class="comment">// TabItemButton should not be selected</span></div>
<div class="line"><a name="l08316"></a><span class="lineno"> 8316</span>&#160;    <span class="keywordflow">if</span> (is_tab_button)</div>
<div class="line"><a name="l08317"></a><span class="lineno"> 8317</span>&#160;        <span class="keywordflow">return</span> pressed;</div>
<div class="line"><a name="l08318"></a><span class="lineno"> 8318</span>&#160;    <span class="keywordflow">return</span> tab_contents_visible;</div>
<div class="line"><a name="l08319"></a><span class="lineno"> 8319</span>&#160;}</div>
<div class="line"><a name="l08320"></a><span class="lineno"> 8320</span>&#160; </div>
<div class="line"><a name="l08321"></a><span class="lineno"> 8321</span>&#160;<span class="comment">// [Public] This is call is 100% optional but it allows to remove some one-frame glitches when a tab has been unexpectedly removed.</span></div>
<div class="line"><a name="l08322"></a><span class="lineno"> 8322</span>&#160;<span class="comment">// To use it to need to call the function SetTabItemClosed() between BeginTabBar() and EndTabBar().</span></div>
<div class="line"><a name="l08323"></a><span class="lineno"> 8323</span>&#160;<span class="comment">// Tabs closed by the close button will automatically be flagged to avoid this issue.</span></div>
<div class="line"><a name="l08324"></a><span class="lineno"> 8324</span>&#160;<span class="keywordtype">void</span>    ImGui::SetTabItemClosed(<span class="keyword">const</span> <span class="keywordtype">char</span> *label)</div>
<div class="line"><a name="l08325"></a><span class="lineno"> 8325</span>&#160;{</div>
<div class="line"><a name="l08326"></a><span class="lineno"> 8326</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l08327"></a><span class="lineno"> 8327</span>&#160;    <span class="keywordtype">bool</span> is_within_manual_tab_bar = g.CurrentTabBar &amp;&amp; !(g.CurrentTabBar-&gt;Flags &amp; ImGuiTabBarFlags_DockNode);</div>
<div class="line"><a name="l08328"></a><span class="lineno"> 8328</span>&#160;    <span class="keywordflow">if</span> (is_within_manual_tab_bar)</div>
<div class="line"><a name="l08329"></a><span class="lineno"> 8329</span>&#160;    {</div>
<div class="line"><a name="l08330"></a><span class="lineno"> 8330</span>&#160;        <a class="code" href="struct_im_gui_tab_bar.html">ImGuiTabBar</a> *tab_bar = g.CurrentTabBar;</div>
<div class="line"><a name="l08331"></a><span class="lineno"> 8331</span>&#160;        ImGuiID tab_id = TabBarCalcTabID(tab_bar, label);</div>
<div class="line"><a name="l08332"></a><span class="lineno"> 8332</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="struct_im_gui_tab_item.html">ImGuiTabItem</a> *tab = TabBarFindTabByID(tab_bar, tab_id))</div>
<div class="line"><a name="l08333"></a><span class="lineno"> 8333</span>&#160;            tab-&gt;WantClose = <span class="keyword">true</span>; <span class="comment">// Will be processed by next call to TabBarLayout()</span></div>
<div class="line"><a name="l08334"></a><span class="lineno"> 8334</span>&#160;    }</div>
<div class="line"><a name="l08335"></a><span class="lineno"> 8335</span>&#160;}</div>
<div class="line"><a name="l08336"></a><span class="lineno"> 8336</span>&#160; </div>
<div class="line"><a name="l08337"></a><span class="lineno"> 8337</span>&#160;<a class="code" href="struct_im_vec2.html">ImVec2</a> ImGui::TabItemCalcSize(<span class="keyword">const</span> <span class="keywordtype">char</span> *label, <span class="keywordtype">bool</span> has_close_button)</div>
<div class="line"><a name="l08338"></a><span class="lineno"> 8338</span>&#160;{</div>
<div class="line"><a name="l08339"></a><span class="lineno"> 8339</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l08340"></a><span class="lineno"> 8340</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> label_size = CalcTextSize(label, NULL, <span class="keyword">true</span>);</div>
<div class="line"><a name="l08341"></a><span class="lineno"> 8341</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> size = <a class="code" href="struct_im_vec2.html">ImVec2</a>(label_size.x + g.Style.FramePadding.x, label_size.y + g.Style.FramePadding.y * 2.0f);</div>
<div class="line"><a name="l08342"></a><span class="lineno"> 8342</span>&#160;    <span class="keywordflow">if</span> (has_close_button)</div>
<div class="line"><a name="l08343"></a><span class="lineno"> 8343</span>&#160;        size.x += g.Style.FramePadding.x + (g.Style.ItemInnerSpacing.x + g.FontSize); <span class="comment">// We use Y intentionally to fit the close button circle.</span></div>
<div class="line"><a name="l08344"></a><span class="lineno"> 8344</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l08345"></a><span class="lineno"> 8345</span>&#160;        size.x += g.Style.FramePadding.x + 1.0f;</div>
<div class="line"><a name="l08346"></a><span class="lineno"> 8346</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="struct_im_vec2.html">ImVec2</a>(ImMin(size.x, TabBarCalcMaxTabWidth()), size.y);</div>
<div class="line"><a name="l08347"></a><span class="lineno"> 8347</span>&#160;}</div>
<div class="line"><a name="l08348"></a><span class="lineno"> 8348</span>&#160; </div>
<div class="line"><a name="l08349"></a><span class="lineno"> 8349</span>&#160;<span class="keywordtype">void</span> ImGui::TabItemBackground(<a class="code" href="struct_im_draw_list.html">ImDrawList</a> *draw_list, <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> &amp;bb, ImGuiTabItemFlags flags, ImU32 col)</div>
<div class="line"><a name="l08350"></a><span class="lineno"> 8350</span>&#160;{</div>
<div class="line"><a name="l08351"></a><span class="lineno"> 8351</span>&#160;    <span class="comment">// While rendering tabs, we trim 1 pixel off the top of our bounding box so they can fit within a regular frame height while looking &quot;detached&quot; from it.</span></div>
<div class="line"><a name="l08352"></a><span class="lineno"> 8352</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l08353"></a><span class="lineno"> 8353</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> width = bb.GetWidth();</div>
<div class="line"><a name="l08354"></a><span class="lineno"> 8354</span>&#160;    IM_UNUSED(flags);</div>
<div class="line"><a name="l08355"></a><span class="lineno"> 8355</span>&#160;    IM_ASSERT(width &gt; 0.0f);</div>
<div class="line"><a name="l08356"></a><span class="lineno"> 8356</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> rounding = ImMax(0.0f, ImMin((flags &amp; ImGuiTabItemFlags_Button) ? g.Style.FrameRounding : g.Style.TabRounding, width * 0.5f - 1.0f));</div>
<div class="line"><a name="l08357"></a><span class="lineno"> 8357</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> y1 = bb.Min.y + 1.0f;</div>
<div class="line"><a name="l08358"></a><span class="lineno"> 8358</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> y2 = bb.Max.y - 1.0f;</div>
<div class="line"><a name="l08359"></a><span class="lineno"> 8359</span>&#160;    draw_list-&gt;PathLineTo(<a class="code" href="struct_im_vec2.html">ImVec2</a>(bb.Min.x, y2));</div>
<div class="line"><a name="l08360"></a><span class="lineno"> 8360</span>&#160;    draw_list-&gt;PathArcToFast(<a class="code" href="struct_im_vec2.html">ImVec2</a>(bb.Min.x + rounding, y1 + rounding), rounding, 6, 9);</div>
<div class="line"><a name="l08361"></a><span class="lineno"> 8361</span>&#160;    draw_list-&gt;PathArcToFast(<a class="code" href="struct_im_vec2.html">ImVec2</a>(bb.Max.x - rounding, y1 + rounding), rounding, 9, 12);</div>
<div class="line"><a name="l08362"></a><span class="lineno"> 8362</span>&#160;    draw_list-&gt;PathLineTo(<a class="code" href="struct_im_vec2.html">ImVec2</a>(bb.Max.x, y2));</div>
<div class="line"><a name="l08363"></a><span class="lineno"> 8363</span>&#160;    draw_list-&gt;PathFillConvex(col);</div>
<div class="line"><a name="l08364"></a><span class="lineno"> 8364</span>&#160;    <span class="keywordflow">if</span> (g.Style.TabBorderSize &gt; 0.0f)</div>
<div class="line"><a name="l08365"></a><span class="lineno"> 8365</span>&#160;    {</div>
<div class="line"><a name="l08366"></a><span class="lineno"> 8366</span>&#160;        draw_list-&gt;PathLineTo(<a class="code" href="struct_im_vec2.html">ImVec2</a>(bb.Min.x + 0.5f, y2));</div>
<div class="line"><a name="l08367"></a><span class="lineno"> 8367</span>&#160;        draw_list-&gt;PathArcToFast(<a class="code" href="struct_im_vec2.html">ImVec2</a>(bb.Min.x + rounding + 0.5f, y1 + rounding + 0.5f), rounding, 6, 9);</div>
<div class="line"><a name="l08368"></a><span class="lineno"> 8368</span>&#160;        draw_list-&gt;PathArcToFast(<a class="code" href="struct_im_vec2.html">ImVec2</a>(bb.Max.x - rounding - 0.5f, y1 + rounding + 0.5f), rounding, 9, 12);</div>
<div class="line"><a name="l08369"></a><span class="lineno"> 8369</span>&#160;        draw_list-&gt;PathLineTo(<a class="code" href="struct_im_vec2.html">ImVec2</a>(bb.Max.x - 0.5f, y2));</div>
<div class="line"><a name="l08370"></a><span class="lineno"> 8370</span>&#160;        draw_list-&gt;PathStroke(GetColorU32(ImGuiCol_Border), 0, g.Style.TabBorderSize);</div>
<div class="line"><a name="l08371"></a><span class="lineno"> 8371</span>&#160;    }</div>
<div class="line"><a name="l08372"></a><span class="lineno"> 8372</span>&#160;}</div>
<div class="line"><a name="l08373"></a><span class="lineno"> 8373</span>&#160; </div>
<div class="line"><a name="l08374"></a><span class="lineno"> 8374</span>&#160;<span class="comment">// Render text label (with custom clipping) + Unsaved Document marker + Close Button logic</span></div>
<div class="line"><a name="l08375"></a><span class="lineno"> 8375</span>&#160;<span class="comment">// We tend to lock style.FramePadding for a given tab-bar, hence the &#39;frame_padding&#39; parameter.</span></div>
<div class="line"><a name="l08376"></a><span class="lineno"> 8376</span>&#160;<span class="keywordtype">void</span> ImGui::TabItemLabelAndCloseButton(<a class="code" href="struct_im_draw_list.html">ImDrawList</a> *draw_list, <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> &amp;bb, ImGuiTabItemFlags flags, <a class="code" href="struct_im_vec2.html">ImVec2</a> frame_padding, <span class="keyword">const</span> <span class="keywordtype">char</span> *label, ImGuiID tab_id, ImGuiID close_button_id, <span class="keywordtype">bool</span> is_contents_visible, <span class="keywordtype">bool</span> *out_just_closed, <span class="keywordtype">bool</span> *out_text_clipped)</div>
<div class="line"><a name="l08377"></a><span class="lineno"> 8377</span>&#160;{</div>
<div class="line"><a name="l08378"></a><span class="lineno"> 8378</span>&#160;    <a class="code" href="struct_im_gui_context.html">ImGuiContext</a> &amp;g = *GImGui;</div>
<div class="line"><a name="l08379"></a><span class="lineno"> 8379</span>&#160;    <a class="code" href="struct_im_vec2.html">ImVec2</a> label_size = CalcTextSize(label, NULL, <span class="keyword">true</span>);</div>
<div class="line"><a name="l08380"></a><span class="lineno"> 8380</span>&#160; </div>
<div class="line"><a name="l08381"></a><span class="lineno"> 8381</span>&#160;    <span class="keywordflow">if</span> (out_just_closed)</div>
<div class="line"><a name="l08382"></a><span class="lineno"> 8382</span>&#160;        *out_just_closed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l08383"></a><span class="lineno"> 8383</span>&#160;    <span class="keywordflow">if</span> (out_text_clipped)</div>
<div class="line"><a name="l08384"></a><span class="lineno"> 8384</span>&#160;        *out_text_clipped = <span class="keyword">false</span>;</div>
<div class="line"><a name="l08385"></a><span class="lineno"> 8385</span>&#160; </div>
<div class="line"><a name="l08386"></a><span class="lineno"> 8386</span>&#160;    <span class="keywordflow">if</span> (bb.GetWidth() &lt;= 1.0f)</div>
<div class="line"><a name="l08387"></a><span class="lineno"> 8387</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l08388"></a><span class="lineno"> 8388</span>&#160; </div>
<div class="line"><a name="l08389"></a><span class="lineno"> 8389</span>&#160;    <span class="comment">// In Style V2 we&#39;ll have full override of all colors per state (e.g. focused, selected)</span></div>
<div class="line"><a name="l08390"></a><span class="lineno"> 8390</span>&#160;    <span class="comment">// But right now if you want to alter text color of tabs this is what you need to do.</span></div>
<div class="line"><a name="l08391"></a><span class="lineno"> 8391</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l08392"></a><span class="lineno"> 8392</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> backup_alpha = g.Style.Alpha;</div>
<div class="line"><a name="l08393"></a><span class="lineno"> 8393</span>&#160;    <span class="keywordflow">if</span> (!is_contents_visible)</div>
<div class="line"><a name="l08394"></a><span class="lineno"> 8394</span>&#160;        g.Style.Alpha *= 0.7f;</div>
<div class="line"><a name="l08395"></a><span class="lineno"> 8395</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l08396"></a><span class="lineno"> 8396</span>&#160; </div>
<div class="line"><a name="l08397"></a><span class="lineno"> 8397</span>&#160;    <span class="comment">// Render text label (with clipping + alpha gradient) + unsaved marker</span></div>
<div class="line"><a name="l08398"></a><span class="lineno"> 8398</span>&#160;    <a class="code" href="struct_im_rect.html">ImRect</a> text_pixel_clip_bb(bb.Min.x + frame_padding.x, bb.Min.y + frame_padding.y, bb.Max.x - frame_padding.x, bb.Max.y);</div>
<div class="line"><a name="l08399"></a><span class="lineno"> 8399</span>&#160;    <a class="code" href="struct_im_rect.html">ImRect</a> text_ellipsis_clip_bb = text_pixel_clip_bb;</div>
<div class="line"><a name="l08400"></a><span class="lineno"> 8400</span>&#160; </div>
<div class="line"><a name="l08401"></a><span class="lineno"> 8401</span>&#160;    <span class="comment">// Return clipped state ignoring the close button</span></div>
<div class="line"><a name="l08402"></a><span class="lineno"> 8402</span>&#160;    <span class="keywordflow">if</span> (out_text_clipped)</div>
<div class="line"><a name="l08403"></a><span class="lineno"> 8403</span>&#160;    {</div>
<div class="line"><a name="l08404"></a><span class="lineno"> 8404</span>&#160;        *out_text_clipped = (text_ellipsis_clip_bb.Min.x + label_size.x) &gt; text_pixel_clip_bb.Max.x;</div>
<div class="line"><a name="l08405"></a><span class="lineno"> 8405</span>&#160;        <span class="comment">//draw_list-&gt;AddCircle(text_ellipsis_clip_bb.Min, 3.0f, *out_text_clipped ? IM_COL32(255, 0, 0, 255) : IM_COL32(0, 255, 0, 255));</span></div>
<div class="line"><a name="l08406"></a><span class="lineno"> 8406</span>&#160;    }</div>
<div class="line"><a name="l08407"></a><span class="lineno"> 8407</span>&#160; </div>
<div class="line"><a name="l08408"></a><span class="lineno"> 8408</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> button_sz = g.FontSize;</div>
<div class="line"><a name="l08409"></a><span class="lineno"> 8409</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_im_vec2.html">ImVec2</a> button_pos(ImMax(bb.Min.x, bb.Max.x - frame_padding.x * 2.0f - button_sz), bb.Min.y);</div>
<div class="line"><a name="l08410"></a><span class="lineno"> 8410</span>&#160; </div>
<div class="line"><a name="l08411"></a><span class="lineno"> 8411</span>&#160;    <span class="comment">// Close Button &amp; Unsaved Marker</span></div>
<div class="line"><a name="l08412"></a><span class="lineno"> 8412</span>&#160;    <span class="comment">// We are relying on a subtle and confusing distinction between &#39;hovered&#39; and &#39;g.HoveredId&#39; which happens because we are using ImGuiButtonFlags_AllowOverlapMode + SetItemAllowOverlap()</span></div>
<div class="line"><a name="l08413"></a><span class="lineno"> 8413</span>&#160;    <span class="comment">//  &#39;hovered&#39; will be true when hovering the Tab but NOT when hovering the close button</span></div>
<div class="line"><a name="l08414"></a><span class="lineno"> 8414</span>&#160;    <span class="comment">//  &#39;g.HoveredId==id&#39; will be true when hovering the Tab including when hovering the close button</span></div>
<div class="line"><a name="l08415"></a><span class="lineno"> 8415</span>&#160;    <span class="comment">//  &#39;g.ActiveId==close_button_id&#39; will be true when we are holding on the close button, in which case both hovered booleans are false</span></div>
<div class="line"><a name="l08416"></a><span class="lineno"> 8416</span>&#160;    <span class="keywordtype">bool</span> close_button_pressed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l08417"></a><span class="lineno"> 8417</span>&#160;    <span class="keywordtype">bool</span> close_button_visible = <span class="keyword">false</span>;</div>
<div class="line"><a name="l08418"></a><span class="lineno"> 8418</span>&#160;    <span class="keywordflow">if</span> (close_button_id != 0)</div>
<div class="line"><a name="l08419"></a><span class="lineno"> 8419</span>&#160;        <span class="keywordflow">if</span> (is_contents_visible || bb.GetWidth() &gt;= ImMax(button_sz, g.Style.TabMinWidthForCloseButton))</div>
<div class="line"><a name="l08420"></a><span class="lineno"> 8420</span>&#160;            <span class="keywordflow">if</span> (g.HoveredId == tab_id || g.HoveredId == close_button_id || g.ActiveId == tab_id || g.ActiveId == close_button_id)</div>
<div class="line"><a name="l08421"></a><span class="lineno"> 8421</span>&#160;                close_button_visible = <span class="keyword">true</span>;</div>
<div class="line"><a name="l08422"></a><span class="lineno"> 8422</span>&#160;    <span class="keywordtype">bool</span> unsaved_marker_visible = (flags &amp; ImGuiTabItemFlags_UnsavedDocument) != 0 &amp;&amp; (button_pos.x + button_sz &lt;= bb.Max.x);</div>
<div class="line"><a name="l08423"></a><span class="lineno"> 8423</span>&#160; </div>
<div class="line"><a name="l08424"></a><span class="lineno"> 8424</span>&#160;    <span class="keywordflow">if</span> (close_button_visible)</div>
<div class="line"><a name="l08425"></a><span class="lineno"> 8425</span>&#160;    {</div>
<div class="line"><a name="l08426"></a><span class="lineno"> 8426</span>&#160;        <a class="code" href="struct_im_gui_last_item_data.html">ImGuiLastItemData</a> last_item_backup = g.LastItemData;</div>
<div class="line"><a name="l08427"></a><span class="lineno"> 8427</span>&#160;        PushStyleVar(ImGuiStyleVar_FramePadding, frame_padding);</div>
<div class="line"><a name="l08428"></a><span class="lineno"> 8428</span>&#160;        <span class="keywordflow">if</span> (CloseButton(close_button_id, button_pos))</div>
<div class="line"><a name="l08429"></a><span class="lineno"> 8429</span>&#160;            close_button_pressed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l08430"></a><span class="lineno"> 8430</span>&#160;        PopStyleVar();</div>
<div class="line"><a name="l08431"></a><span class="lineno"> 8431</span>&#160;        g.LastItemData = last_item_backup;</div>
<div class="line"><a name="l08432"></a><span class="lineno"> 8432</span>&#160; </div>
<div class="line"><a name="l08433"></a><span class="lineno"> 8433</span>&#160;        <span class="comment">// Close with middle mouse button</span></div>
<div class="line"><a name="l08434"></a><span class="lineno"> 8434</span>&#160;        <span class="keywordflow">if</span> (!(flags &amp; ImGuiTabItemFlags_NoCloseWithMiddleMouseButton) &amp;&amp; IsMouseClicked(2))</div>
<div class="line"><a name="l08435"></a><span class="lineno"> 8435</span>&#160;            close_button_pressed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l08436"></a><span class="lineno"> 8436</span>&#160;    }</div>
<div class="line"><a name="l08437"></a><span class="lineno"> 8437</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (unsaved_marker_visible)</div>
<div class="line"><a name="l08438"></a><span class="lineno"> 8438</span>&#160;    {</div>
<div class="line"><a name="l08439"></a><span class="lineno"> 8439</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_im_rect.html">ImRect</a> bullet_bb(button_pos, button_pos + <a class="code" href="struct_im_vec2.html">ImVec2</a>(button_sz, button_sz) + g.Style.FramePadding * 2.0f);</div>
<div class="line"><a name="l08440"></a><span class="lineno"> 8440</span>&#160;        RenderBullet(draw_list, bullet_bb.GetCenter(), GetColorU32(ImGuiCol_Text));</div>
<div class="line"><a name="l08441"></a><span class="lineno"> 8441</span>&#160;    }</div>
<div class="line"><a name="l08442"></a><span class="lineno"> 8442</span>&#160; </div>
<div class="line"><a name="l08443"></a><span class="lineno"> 8443</span>&#160;    <span class="comment">// This is all rather complicated</span></div>
<div class="line"><a name="l08444"></a><span class="lineno"> 8444</span>&#160;    <span class="comment">// (the main idea is that because the close button only appears on hover, we don&#39;t want it to alter the ellipsis position)</span></div>
<div class="line"><a name="l08445"></a><span class="lineno"> 8445</span>&#160;    <span class="comment">// FIXME: if FramePadding is noticeably large, ellipsis_max_x will be wrong here (e.g. #3497), maybe for consistency that parameter of RenderTextEllipsis() shouldn&#39;t exist..</span></div>
<div class="line"><a name="l08446"></a><span class="lineno"> 8446</span>&#160;    <span class="keywordtype">float</span> ellipsis_max_x = close_button_visible ? text_pixel_clip_bb.Max.x : bb.Max.x - 1.0f;</div>
<div class="line"><a name="l08447"></a><span class="lineno"> 8447</span>&#160;    <span class="keywordflow">if</span> (close_button_visible || unsaved_marker_visible)</div>
<div class="line"><a name="l08448"></a><span class="lineno"> 8448</span>&#160;    {</div>
<div class="line"><a name="l08449"></a><span class="lineno"> 8449</span>&#160;        text_pixel_clip_bb.Max.x -= close_button_visible ? (button_sz) : (button_sz * 0.80f);</div>
<div class="line"><a name="l08450"></a><span class="lineno"> 8450</span>&#160;        text_ellipsis_clip_bb.Max.x -= unsaved_marker_visible ? (button_sz * 0.80f) : 0.0f;</div>
<div class="line"><a name="l08451"></a><span class="lineno"> 8451</span>&#160;        ellipsis_max_x = text_pixel_clip_bb.Max.x;</div>
<div class="line"><a name="l08452"></a><span class="lineno"> 8452</span>&#160;    }</div>
<div class="line"><a name="l08453"></a><span class="lineno"> 8453</span>&#160;    RenderTextEllipsis(draw_list, text_ellipsis_clip_bb.Min, text_ellipsis_clip_bb.Max, text_pixel_clip_bb.Max.x, ellipsis_max_x, label, NULL, &amp;label_size);</div>
<div class="line"><a name="l08454"></a><span class="lineno"> 8454</span>&#160; </div>
<div class="line"><a name="l08455"></a><span class="lineno"> 8455</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l08456"></a><span class="lineno"> 8456</span>&#160;    <span class="keywordflow">if</span> (!is_contents_visible)</div>
<div class="line"><a name="l08457"></a><span class="lineno"> 8457</span>&#160;        g.Style.Alpha = backup_alpha;</div>
<div class="line"><a name="l08458"></a><span class="lineno"> 8458</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l08459"></a><span class="lineno"> 8459</span>&#160; </div>
<div class="line"><a name="l08460"></a><span class="lineno"> 8460</span>&#160;    <span class="keywordflow">if</span> (out_just_closed)</div>
<div class="line"><a name="l08461"></a><span class="lineno"> 8461</span>&#160;        *out_just_closed = close_button_pressed;</div>
<div class="line"><a name="l08462"></a><span class="lineno"> 8462</span>&#160;}</div>
<div class="line"><a name="l08463"></a><span class="lineno"> 8463</span>&#160; </div>
<div class="line"><a name="l08464"></a><span class="lineno"> 8464</span>&#160; </div>
<div class="line"><a name="l08465"></a><span class="lineno"> 8465</span>&#160;<span class="preprocessor">#endif </span><span class="comment">// #ifndef IMGUI_DISABLE</span></div>
<div class="ttc" id="astruct_im_draw_list_html"><div class="ttname"><a href="struct_im_draw_list.html">ImDrawList</a></div><div class="ttdef"><b>Definition:</b> <a href="imgui_8h_source.html#l02680">imgui.h:2681</a></div></div>
<div class="ttc" id="astruct_im_font_glyph_html"><div class="ttname"><a href="struct_im_font_glyph.html">ImFontGlyph</a></div><div class="ttdef"><b>Definition:</b> <a href="imgui_8h_source.html#l02914">imgui.h:2915</a></div></div>
<div class="ttc" id="astruct_im_font_html"><div class="ttname"><a href="struct_im_font.html">ImFont</a></div><div class="ttdef"><b>Definition:</b> <a href="imgui_8h_source.html#l03111">imgui.h:3112</a></div></div>
<div class="ttc" id="astruct_im_gui_combo_preview_data_html"><div class="ttname"><a href="struct_im_gui_combo_preview_data.html">ImGuiComboPreviewData</a></div><div class="ttdef"><b>Definition:</b> <a href="imgui__internal_8h_source.html#l01524">imgui_internal.h:1525</a></div></div>
<div class="ttc" id="astruct_im_gui_context_html"><div class="ttname"><a href="struct_im_gui_context.html">ImGuiContext</a></div><div class="ttdef"><b>Definition:</b> <a href="imgui__internal_8h_source.html#l02050">imgui_internal.h:2051</a></div></div>
<div class="ttc" id="astruct_im_gui_data_type_info_html"><div class="ttname"><a href="struct_im_gui_data_type_info.html">ImGuiDataTypeInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="imgui__internal_8h_source.html#l01478">imgui_internal.h:1479</a></div></div>
<div class="ttc" id="astruct_im_gui_data_type_temp_storage_html"><div class="ttname"><a href="struct_im_gui_data_type_temp_storage.html">ImGuiDataTypeTempStorage</a></div><div class="ttdef"><b>Definition:</b> <a href="imgui__internal_8h_source.html#l01472">imgui_internal.h:1473</a></div></div>
<div class="ttc" id="astruct_im_gui_i_o_html"><div class="ttname"><a href="struct_im_gui_i_o.html">ImGuiIO</a></div><div class="ttdef"><b>Definition:</b> <a href="imgui_8h_source.html#l01976">imgui.h:1977</a></div></div>
<div class="ttc" id="astruct_im_gui_input_text_callback_data_html"><div class="ttname"><a href="struct_im_gui_input_text_callback_data.html">ImGuiInputTextCallbackData</a></div><div class="ttdef"><b>Definition:</b> <a href="imgui_8h_source.html#l02120">imgui.h:2121</a></div></div>
<div class="ttc" id="astruct_im_gui_input_text_state_html"><div class="ttname"><a href="struct_im_gui_input_text_state.html">ImGuiInputTextState</a></div><div class="ttdef"><b>Definition:</b> <a href="imgui__internal_8h_source.html#l01578">imgui_internal.h:1579</a></div></div>
<div class="ttc" id="astruct_im_gui_last_item_data_html"><div class="ttname"><a href="struct_im_gui_last_item_data.html">ImGuiLastItemData</a></div><div class="ttdef"><b>Definition:</b> <a href="imgui__internal_8h_source.html#l01759">imgui_internal.h:1760</a></div></div>
<div class="ttc" id="astruct_im_gui_list_clipper_html"><div class="ttname"><a href="struct_im_gui_list_clipper.html">ImGuiListClipper</a></div><div class="ttdef"><b>Definition:</b> <a href="imgui_8h_source.html#l02432">imgui.h:2433</a></div></div>
<div class="ttc" id="astruct_im_gui_menu_columns_html"><div class="ttname"><a href="struct_im_gui_menu_columns.html">ImGuiMenuColumns</a></div><div class="ttdef"><b>Definition:</b> <a href="imgui__internal_8h_source.html#l01556">imgui_internal.h:1557</a></div></div>
<div class="ttc" id="astruct_im_gui_old_columns_html"><div class="ttname"><a href="struct_im_gui_old_columns.html">ImGuiOldColumns</a></div><div class="ttdef"><b>Definition:</b> <a href="imgui__internal_8h_source.html#l01839">imgui_internal.h:1840</a></div></div>
<div class="ttc" id="astruct_im_gui_payload_html"><div class="ttname"><a href="struct_im_gui_payload.html">ImGuiPayload</a></div><div class="ttdef"><b>Definition:</b> <a href="imgui_8h_source.html#l02169">imgui.h:2170</a></div></div>
<div class="ttc" id="astruct_im_gui_plot_array_getter_data_html"><div class="ttname"><a href="struct_im_gui_plot_array_getter_data.html">ImGuiPlotArrayGetterData</a></div><div class="ttdef"><b>Definition:</b> <a href="imgui__widgets_8cpp_source.html#l06749">imgui_widgets.cpp:6750</a></div></div>
<div class="ttc" id="astruct_im_gui_ptr_or_index_html"><div class="ttname"><a href="struct_im_gui_ptr_or_index.html">ImGuiPtrOrIndex</a></div><div class="ttdef"><b>Definition:</b> <a href="imgui__internal_8h_source.html#l01786">imgui_internal.h:1787</a></div></div>
<div class="ttc" id="astruct_im_gui_shrink_width_item_html"><div class="ttname"><a href="struct_im_gui_shrink_width_item.html">ImGuiShrinkWidthItem</a></div><div class="ttdef"><b>Definition:</b> <a href="imgui__internal_8h_source.html#l01780">imgui_internal.h:1781</a></div></div>
<div class="ttc" id="astruct_im_gui_storage_html"><div class="ttname"><a href="struct_im_gui_storage.html">ImGuiStorage</a></div><div class="ttdef"><b>Definition:</b> <a href="imgui_8h_source.html#l02357">imgui.h:2358</a></div></div>
<div class="ttc" id="astruct_im_gui_style_html"><div class="ttname"><a href="struct_im_gui_style.html">ImGuiStyle</a></div><div class="ttdef"><b>Definition:</b> <a href="imgui_8h_source.html#l01921">imgui.h:1922</a></div></div>
<div class="ttc" id="astruct_im_gui_tab_bar_html"><div class="ttname"><a href="struct_im_gui_tab_bar.html">ImGuiTabBar</a></div><div class="ttdef"><b>Definition:</b> <a href="imgui__internal_8h_source.html#l02678">imgui_internal.h:2679</a></div></div>
<div class="ttc" id="astruct_im_gui_tab_bar_section_html"><div class="ttname"><a href="struct_im_gui_tab_bar_section.html">ImGuiTabBarSection</a></div><div class="ttdef"><b>Definition:</b> <a href="imgui__widgets_8cpp_source.html#l07327">imgui_widgets.cpp:7328</a></div></div>
<div class="ttc" id="astruct_im_gui_tab_item_html"><div class="ttname"><a href="struct_im_gui_tab_item.html">ImGuiTabItem</a></div><div class="ttdef"><b>Definition:</b> <a href="imgui__internal_8h_source.html#l02657">imgui_internal.h:2658</a></div></div>
<div class="ttc" id="astruct_im_gui_viewport_html"><div class="ttname"><a href="struct_im_gui_viewport.html">ImGuiViewport</a></div><div class="ttdef"><b>Definition:</b> <a href="imgui_8h_source.html#l03191">imgui.h:3192</a></div></div>
<div class="ttc" id="astruct_im_gui_viewport_p_html"><div class="ttname"><a href="struct_im_gui_viewport_p.html">ImGuiViewportP</a></div><div class="ttdef"><b>Definition:</b> <a href="imgui__internal_8h_source.html#l01885">imgui_internal.h:1886</a></div></div>
<div class="ttc" id="astruct_im_gui_window_html"><div class="ttname"><a href="struct_im_gui_window.html">ImGuiWindow</a></div><div class="ttdef"><b>Definition:</b> <a href="imgui__internal_8h_source.html#l02505">imgui_internal.h:2506</a></div></div>
<div class="ttc" id="astruct_im_rect_html"><div class="ttname"><a href="struct_im_rect.html">ImRect</a></div><div class="ttdef"><b>Definition:</b> <a href="imgui__internal_8h_source.html#l00687">imgui_internal.h:688</a></div></div>
<div class="ttc" id="astruct_im_vec2_html"><div class="ttname"><a href="struct_im_vec2.html">ImVec2</a></div><div class="ttdef"><b>Definition:</b> <a href="imgui_8h_source.html#l00256">imgui.h:257</a></div></div>
<div class="ttc" id="astruct_im_vec4_html"><div class="ttname"><a href="struct_im_vec4.html">ImVec4</a></div><div class="ttdef"><b>Definition:</b> <a href="imgui_8h_source.html#l00281">imgui.h:282</a></div></div>
<div class="ttc" id="astruct_im_vector_html"><div class="ttname"><a href="struct_im_vector.html">ImVector&lt; ImWchar &gt;</a></div></div>
<div class="ttc" id="astruct_s_t_b___textedit_state_html"><div class="ttname"><a href="struct_s_t_b___textedit_state.html">STB_TexteditState</a></div><div class="ttdef"><b>Definition:</b> <a href="imstb__textedit_8h_source.html#l00317">imstb_textedit.h:318</a></div></div>
<div class="ttc" id="astruct_stb_textedit_row_html"><div class="ttname"><a href="struct_stb_textedit_row.html">StbTexteditRow</a></div><div class="ttdef"><b>Definition:</b> <a href="imstb__textedit_8h_source.html#l00364">imstb_textedit.h:365</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_1c3a5e352d77380a39445cc8fee86b91.html">ENGINE</a></li><li class="navelem"><a class="el" href="dir_74f01fb70589b62a200462ddeb926717.html">ThirdParty</a></li><li class="navelem"><a class="el" href="dir_5c2634ff890af5533913906daa9bc7ea.html">imgui</a></li><li class="navelem"><b>imgui_widgets.cpp</b></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
